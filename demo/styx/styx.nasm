;
; styx.nasm: port of Styx Remastered to NASM and mininasm
; Styx Remastered: Copyright (c) Andrew Jenner 1998--2004
; translated to NASM 0.98.39 by pts@fazekas.hu at Mon Jan  2 16:57:30 CET 2023
;
; Compile: nasm -O9 -f bin -o styx.exe styx.nasm
;
; Compile: mininasm -O9 -f bin -o styx.exe styx.nasm
;
; This doesn't compile yet, because part of it (see `Start of ...') is still
; in A86 syntax, which doesn't compile in NASM.
;
; The produced styx.exe executable program is bitwise identical to the
; styx.exe (styx.exe.golden) built from source
; (http://www.digger.org/styxsrc.zip) with A86 and TLINK.
;
; If `-DUNPKLITE=1' is passed to `nasm' or `mininasm', then the generated
; styx.exe will be identical to official styx.exe (in
; https://dosgames.com/files/styx.zip) with PKLITE executable compression
; unpacked with UNP 4.11.
;

%ifdef UNPKLITE
  %if UNPKLITE
    %define UNPKLITE 1
  %else
    %define UNPKLITE 0
  %endif
%else
  %define UNPKLITE 0
%endif

		bits 16
		cpu 8086
		org -0x200  ; $$-_code.

exe:  ; DOS .exe header: http://justsolve.archiveteam.org/wiki/MS-DOS_EXE
.signature	db 'MZ'
.lastsize:      dw (_end - .signature) & 0x1ff  ; The value 0 and 0x200 are equivalent here. Microsoft Linker 3.05 generates 0, so do we. Number of bytes in the last 0x200-byte block in the .exe file.
.nblocks:       dw (_end - .signature  + 0x1ff) >> 9  ; Number of 0x200-byte blocks in .exe file (rounded up).
.nreloc		dw 0  ; No relocations.
.hdrsize	dw (_code-$$)>>4
.minalloc	dw UNPKLITE  ; This should be at least 0xfff - (nblocks << 5) == 0x25f because of the stack. This is a bug.
.maxalloc	dw 0xffff
.ss		dw 0  ; Actual value doesn't matter because `MAIN' does a quick initialization before `CLI'.
.sp		dw 0  ; Actual value doesn't matter because `MAIN' does a quick initialization before `CLI'.
.checksum	dw 0  ; Actual value doesn't matter.
.ip		dw 0
.cs		dw 0
.relocpos	dw 0x3e-0x1c*UNPKLITE  ; Actual value doesn't matter. It was generated by TLINK.
.noverlay	dw 0

%if UNPKLITE
		dw 1, 0x20fb, 0x6a72  ; These are some useless bytes generated by TLINK.
%else
		dw 1, 0x30fb, 0x726a  ; These are some useless bytes generated by TLINK.
%endif

		times 0x200-($-$$) db 0  ; Lots of useless padding bytes generated by TLINK.

_code:
..@0x0200:  ; Start of styx1.asm. !!! Convert it from A86 to NASM syntax.

; Styx Remastered
; Copyright (c) Andrew Jenner 1998-2004

PUBLIC o172,o17b,o227,o2a9,o2c1,o2e7,o41c,o44b,o4c3,o4f2,o543,o55o,o562,o5c3
PUBLIC o64o,o6a7,o71d,o793,o82b,o8c1,o9ob,o933,o95b,oa59,oa6e,oa7d,oa89,oab6
PUBLIC oae7,ob18,ob49,oc43,oc63,oc83,oca3,occf,ocec,od2e,od5a,od7o,od8d,odb7
PUBLIC odd4,odfe,oeoe,oe1e,oe2e,oe3e,oe4e,oe5e,oe6e,oe7e,oe8e,oe9e,oeae,oebe
PUBLIC oec9,oecf,oed7,oedd,oee5,oeeb,oef3,oef9,ofoc,of12,of18,ofce
PUBLIC o1o5o,o1o61,o1o77,o1o9a,o1oc3,o1ofe,o1142,o117f,o11dd,o1227,o135f,o1391
PUBLIC o17ae,o18bf,o18ec,o1a11,o1add,o1ae5,o1bo9,o1bab,o1dcb,o1def,o1e72,o1f25
PUBLIC o1f49,o1f6f,o1fa8
PUBLIC _exit,_print,_quiet,volume,int8speed,lmul,ldiv,_setspeedmul,_setmode
PUBLIC _printhelp,delay1,delay2

_TEXT SEGMENT WORD PUBLIC 'CODE'

MAIN:
  CLI
  MOV AX,offset codeend
  ADD AX,0f
  MOV CL,4
  SHR AX,CL
  MOV BX,CS
  ADD AX,BX
  MOV DS,AX
  MOV SS,AX
  MOV BX,01000
  SUB BX,AX
  TEST BX,0f000
  MOV BX,0fff0
  MOV SP,BX
  STI
  MOV W[p],BX
  MOV AX,offset p763o
  MOV W[p2],AX
  PUSH ES
  XOR AX,AX
  PUSH AX
  MOV BP,SP
  MOV SI,080
  MOV CL,0
  INC SI
  XOR CH,CH
  MOV BX,CX
  ADD BX,4
  AND BX,0fffe
  SUB SP,BX
  MOV DI,SP
  MOV B[DI],063
  INC DI
  JCXZ o161
  MOV B[DI],020
  INC DI
o159:
  MOV AL,020
  MOV B[DI],AL
  INC SI
  INC DI
  LOOP o159
o161:
  XOR AX,AX
  MOV B[DI],AL
  MOV AX,DS
  MOV ES,AX
  MOV AX,SP
  PUSH AX
  CALL o17b
  MOV SP,BP
  RETF

o172:
  MOV AX,W[p]
  SUB AX,4
  MOV SP,AX
  RETF

o17b:
  CALL cmdline
  CALL calibrate
  PUSH BP
  SUB SP,4
  MOV BP,SP
o181:
  MOV SI,W[BP+8]
  MOV AL,B[SI]
  XOR AH,AH
  INC AX
  MOV DI,AX
  MOV AL,B[DI+p751c]
  XOR AH,AH
  AND AX,8
  JZ o19b
  INC W[BP+8]
  JMP o181
o19b:
  MOV SI,W[BP+8]
  MOV AL,B[SI]
  XOR AH,AH
  TEST AX,AX
  JZ o2od
  CMP W[p4],020
  JGE o2od
  MOV AX,W[p4]
  INC W[p4]
  SHL AX,1
  MOV DI,AX
  MOV AX,SI
  MOV W[DI+6],AX
o1be:
  MOV SI,W[BP+8]
  MOV AL,B[SI]
  XOR AH,AH
  TEST AX,AX
  MOV W[BP],AX
  JZ o1df
  INC AX
  MOV DI,AX
  MOV AL,B[DI+p751c]
  XOR AH,AH
  AND AX,8
  JNZ o1df
  INC W[BP+8]
  JMP o1be
o1df:
  MOV SI,W[BP+8]
  MOV AL,B[SI]
  XOR AH,AH
  TEST AX,AX
  JZ o2od
  MOV SI,W[BP+8]
  INC W[BP+8]
  MOV B[SI],0
o1f3:
  MOV SI,W[BP+8]
  MOV AL,B[SI]
  XOR AH,AH
  INC AX
  MOV DI,AX
  MOV AL,B[DI+p751c]
  XOR AH,AH
  AND AX,8
  JZ o19b
  INC W[BP+8]
  JMP o1f3
o2od:
  MOV AX,6
  PUSH AX
  PUSH W[p4]
  CALL o556a
  MOV SP,BP
  XOR AX,AX
  PUSH AX
  CALL o5ac5
  MOV SP,BP
  ADD SP,4
  POP BP
  RET

o227:
  PUSH BP
  SUB SP,0a
  MOV BP,SP
  XOR AX,AX
  OUT 043,AL
  IN AL,040
  MOV BL,AL
  MOV W[BP],AX
  IN AL,040
  MOV BH,AL
  MOV W[BP+4],BX
  MOV AL,040
  OUT 043,AL
  IN AL,041    ;RAM refresh counter?
  MOV BL,AL
  IN AL,041
  MOV BH,AL
  MOV AX,W[BP+4]
  IMUL BX
  MOV CL,8
  SAR AX,CL
  AND AX,0ff
  MOV CX,W[BP+0e]
  INC CX
  MOV W[BP+8],AX
  IMUL CX
  MOV W[BP+0e],CX
  MOV CL,8
  SAR AX,CL
  MOV W[BP+6],BX
  ADD SP,0a
  POP BP
  RET

o2a9:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  MOV AX,W[BP+6]
  TEST AX,AX
  JNS o2b9
  NEG W[BP+6]
o2b9:
  MOV AX,W[BP+6]
  ADD SP,2
  POP BP
  RET

o2c1:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  MOV AX,W[BP+6]
  ADD AX,05a
  CMP AX,0168
  MOV W[BP+6],AX
  JL o2da
  SUB W[BP+6],0168
o2da:
  PUSH W[BP+6]
  CALL o2e7
  MOV SP,BP
  ADD SP,2
  POP BP
  RET

o2e7:
  PUSH BP
  SUB SP,8
  MOV BP,SP
  MOV AX,W[BP+0c]
  MOV BX,05a
  CWD
  IDIV BX
  JMP o34b
o2f8:
  MOV AX,W[BP+0c]
  MOV W[BP+6],1
  MOV W[BP+4],AX
  JMP o35b
o3o5:
  MOV AX,0b4
  SUB AX,W[BP+0c]
  MOV W[BP+6],1
  MOV W[BP+4],AX
  JMP o35b
o315:
  MOV AX,W[BP+0c]
  SUB AX,0b4
  MOV W[BP+6],-1
  MOV W[BP+4],AX
  JMP o35b
o325:
  MOV AX,0168
  SUB AX,W[BP+0c]
  MOV W[BP+6],-1
  MOV W[BP+4],AX
  JMP o35b
o335:
  PUSH W[BP+0c]
  MOV AX,offset p46
  PUSH AX
  CALL o6o56
  MOV SP,BP
  JMP o35b

o343:
  DW offset o2f8,offset o3o5,offset o315,offset o325

o34b:
  MOV SI,AX
  CMP SI,4
  JNB o359
  SHL SI,1
  CS: JMP W[SI+o343]
o359:
  JMP o335
o35b:
  MOV AX,W[BP+4]
  MOV BX,0a
  CWD
  IDIV BX
  MOV SI,AX
  CMP SI,0a
  JNB o3e5
  SHL SI,1
  CS: MOV BX,W[SI+o3fo]
  MOV AX,W[BP+6]
  IMUL BX
o414:
  ADD SP,8
  POP BP
  RET
o3e5:
  MOV AX,05e
  PUSH AX
  CALL o6o56
  MOV SP,BP
  MOV AX,W[BP+2]
  JMP o414

o3fo:
  DW 0,011,022,031,040,04c,056,05d,062,064

o41c:
  PUSH BP
  SUB SP,6
  MOV BP,SP
  PUSH AX
  PUSH DX
  PUSH CX
  MOV W[BP+2],0
o427:
  MOV AX,W[BP+2]
  CMP AX,W[BP+0a]
  JGE o444
  CS: MOV AX,W[volume]
  CS: MOV DX,W[volume+2]
  MOV CX,10
o434:
  LOOP o434
  MOV CX,10
  SUB AX,1
  SBB DX,0
  JC o43f
  JMP o434
o43f:
  INC W[BP+2]
  JMP o427
o444:
  POP CX
  POP DX
  POP AX
  ADD SP,6
  POP BP
  RET

delay1:
  PUSH BP
  SUB SP,6
  MOV BP,SP
  PUSH AX
  PUSH DX
  PUSH CX
  CS: MOV AX,W[volume]
  CS: MOV DX,W[volume+2]
  MOV CX,1
o434x1:
  LOOP o434x1
  MOV CX,1
  SUB AX,1
  SBB DX,0
  JNC o434x1
  POP CX
  POP DX
  POP AX
  ADD SP,6
  POP BP
  RET

delay2:
  PUSH BP
  SUB SP,6
  MOV BP,SP
  PUSH AX
  PUSH DX
  PUSH CX
  CS: MOV AX,W[volume]
  CS: MOV DX,W[volume+2]
  MOV CX,2
o434x2:
  LOOP o434x2
  MOV CX,2
  SUB AX,1
  SBB DX,0
  JNC o434x2
  POP CX
  POP DX
  POP AX
  ADD SP,6
  POP BP
  RET


speed0:
  DW 291
_speedmul:
  DW 100
_mode:
  DW 0

volume:
  DW 0,0

lmul:       ;DXAX = DXAX * CXBX
  PUSH SI
  XCHG SI,AX
  XCHG DX,AX
  TEST AX,AX
  JZ m1
  MUL BX
m1:
  XCHG CX,AX
  TEST AX,AX
  JZ m2
  MUL SI
  ADD CX,AX
m2:
  XCHG SI,AX
  MUL BX
  ADD DX,CX
  POP SI
  RET

ldiv:       ;DXAX = DXAX / CXBX
  PUSH BP
  PUSH SI
  PUSH DI
  MOV BP,SP
  XOR DI,DI ;Or 1 or ludiv, 2 for lmod, 3 for lumod
  OR CX,CX
  JNZ d1
  OR DX,DX
  JZ d9
  OR BX,BX
  JZ d9
d1:
  TEST DI,1
  JNZ d3
  OR DX,DX
  JNS d2
  NEG DX
  NEG AX
  SBB DX,0
  OR DI,0c
d2:
  OR CX,CX
  JNS d3
  NEG CX
  NEG BX
  SBB CX,0
  XOR DI,4
d3:
  MOV BP,CX
  MOV CX,020
  PUSH DI
  XOR DI,DI
  XOR SI,SI
d4:
  SHL AX,1
  RCL DX,1
  RCL SI,1
  RCL DI,1
  CMP DI,BP
  JB d6
  JA d5
  CMP SI,BX
  JB d6
d5:
  SUB SI,BX
  SBB DI,BP
  INC AX
d6:
  LOOP d4
  POP BX
  TEST BX,2
  JZ d7
  MOV AX,SI
  MOV DX,DI
  SHR BX,1
d7:
  TEST BX,4
  JZ d8
  NEG DX
  NEG AX
  SBB DX,0
d8:
  POP DI
  POP SI
  POP BP
  RET
d9:
  DIV BX
  TEST DI,2
  JZ d0
  MOV AX,DX
d0:
  XOR DX,DX
  JMP d8

calibrate:
  CALL getkips ;Now we have the computer KIPS speed in DX:AX
  CS: MOV BX,W[_speedmul]
  XOR CX,CX
  CALL lmul
  CS: MOV BX,W[speed0]
  XOR CX,CX
  CALL ldiv
  CMP AX,0
  JNE savevol
  CMP DX,0
  JNE savevol
  INC AX
savevol:
  CS: MOV W[volume],AX
  CS: MOV W[volume+2],DX
  RET

cmdline:
  PUSH ES
  PUSH BP
  MOV AX,CS
  SUB AX,010
  PUSH AX
  MOV AX,081
  PUSH AX
  CALL _parsecmd
  POP AX
  POP AX
  POP BP
  POP ES
  RET

getkips:
  PUSH ES
  MOV AX,040
  MOV ES,AX
  XOR AX,AX
  XOR DX,DX
  ES: MOV SI,W[06c]
zerotime:
  ES: CMP SI,W[06c]
  JZ zerotime
  ES: MOV SI,W[06c]
getkloop:
  CALL timekips
  ES: CMP SI,W[06c]
  JNZ donetime
  INC AX
  JNZ getkloop
  INC DX
  JMP getkloop
donetime:
  POP ES
  RET

timekips:
  PUSH AX
  PUSH DX
  PUSH SI
  MOV BX,0
  MOV SI,0
  DW 0a0f7,0
  DW 09801,0,09801,0,09801,0,09801,0,09801,0,09801,0,09801,0,09801,0,09801,0
  DW 09801,0,09801,0,09801,0,09801,0,09801,0,09801,0,09801,0,09801,0,09801,0
  DW 09801,0,09801,0,09801,0,09801,0,09801,0,09801,0,09801,0,09801,0,09801,0
  DW 09801,0,09801,0,09801,0,09801,0,09801,0,09801,0,09801,0,09801,0,09801,0
  DW 09801,0,09801,0,09801,0,09801,0
  POP SI
  POP DX
  POP AX
  RET

o449:
  DW 0

o44b:
  PUSH BP
  MOV BP,SP
  CS: CMP W[_mode],2
  JE setvga1
  MOV DX,03d8
  MOV AL,2           ;320x200 mode (disabled)
  OUT DX,AL
  MOV SI,offset p87  ;CGA registers
  MOV CX,010         ;16 of them
  MOV BL,0           ;This one first
o47a:
  MOV DX,03d4
  MOV AL,BL
  OUT DX,AL          ;Index register
  MOV DX,03d5
  MOV AL,B[SI]
  OUT DX,AL          ;Output value (screws up VGA CRTC controller)
  INC SI
  INC BL
  LOOP o47a
  MOV DX,03d9
  MOV AL,0
  OUT DX,AL          ;Background 0
  INC DX             ;This wasn't here before - believed to be in error
o491:
  IN AL,DX
  TEST AL,8          ;Retrace
  JZ o491
  MOV DX,03d8
  MOV AL,0a
  OUT DX,AL          ;Enable graphics
  PUSH DS
  MOV AX,0
  MOV DS,AX
  MOV AL,B[0410]     ;Equipment
  AND AL,0cf
  OR AL,010
  MOV B[0410],AL     ;Initial video mode=1
  POP DS
setvga1:             ;Bizarrely, all the above is ignored
  MOV AX,4
  INT 010            ;Set video mode to 320x200x4
  MOV AX,W[BP+4]
  MOV BL,AL
  MOV BH,1
  MOV AH,0b
  INT 010            ;Set palette value to argument (only 0 used)
  XOR BX,BX
  INT 010
  MOV AX,0ff         ;Success result
  POP BP
  RET

vgasave:
  DB 0

o4c3:
  PUSH DS
  MOV AX,040
  MOV DS,AX
  MOV AL,B[089]
  POP DS
  CS: MOV B[vgasave],AL
  CS: CMP W[_mode],0
  JNE userspec
  MOV AX,01a00
  INT 010
  CMP AL,01a
  JNE foundcga
  CMP BL,1
  JLE nonefound
  CMP BL,2
  JE foundcga
  CS: MOV W[_mode],2
  RET
foundcga:
  CS: MOV W[_mode],1
userspec:
  RET
nonefound:
  MOV AX,errormsg
  PUSH AX
  CALL _print
  POP AX
_exit:
  MOV AX,04c01
  INT 021

_setmode:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  CS: MOV W[_mode],AX
  POP BP
  RET

_setspeedmul:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  CS: MOV W[_speedmul],AX
  POP BP
  RET

helpmsg:
  DB "STYX - Copyright (c) 1983 Windmill software",10,13
  DB "Restored 1998 by AJ Software",10,13
  DB "http://fly.to/digger",10,13,10,13
  DB "Command line syntax:",10,13
  DB "  STYX [[/S:]speed] [/C] [/V] [/Q]",10,13,10,13
  DB "/C = Use CGA graphics",10,13
  DB "/V = Use VGA graphics",10,13
  DB "/Q = Quiet mode (no sound at all)",10,13,"$"

errormsg:
  DB "CGA or better adapter required.",10,13
  DB "Use /C for CGA or /V for EGA or better if you believe you have one."
  DB 10,13,"$"

_printhelp:
  MOV AX,offset helpmsg
  PUSH AX
  CALL _print
  POP AX
  RET

_print:
  PUSH BP
  PUSH DS
  MOV BP,SP
  MOV AH,9
  MOV DX,W[BP+6]
  MOV DS,CS
  INT 021
  POP DS
  POP BP
  RET

_quiet:
  MOV W[pco],0
  RET

o4f2:
  PUSH BP
  MOV BP,SP
  MOV DX,0201
  ES: MOV W[pd9],0
  ES: MOV W[pdb],0
  IN AL,DX
  TEST AL,010
  JNZ o512
  ES: MOV W[pd9],0ff
o512:
  TEST AL,020
  JNZ o51d
  ES: MOV W[pdb],0ff
o51d:
  MOV BX,0
  MOV CX,0
  MOV AH,0
  OUT DX,AL
o526:
  IN AL,DX
  RCR AL,1
  ADC BL,AH
  RCR AL,1
  ADC CL,AH
  RCR AL,1
  INC CH
  JNZ o526
  MOV CH,0
  ES: MOV W[pd5],BX
  ES: MOV W[pd7],CX
  POP BP
  RET

o543:      ;Set up Tweak 160x100x16 mode
  CS: CMP W[_mode],2
  JE setvga2
  MOV DX,03da
o565:
  IN AL,DX
  TEST AL,8
  JZ o565
  MOV DX,03d8
  MOV AL,1
  OUT DX,AL
  MOV SI,offset p79
  MOV CX,010
  MOV BL,0
o578:
  MOV DX,03d4
  MOV AL,BL
  OUT DX,AL
  MOV DX,03d5
  MOV AL,B[SI]
  OUT DX,AL
  INC SI
  INC BL
  LOOP o578
  MOV DX,03d9
  MOV AX,W[BP+4]
  OUT DX,AL
  PUSH DS
  MOV CX,8000
  MOV BX,0de
  MOV DX,03da
  MOV AX,0b800
  MOV DS,AX
  MOV DI,0
o5a2:
  IN AL,DX
  TEST AL,8
  JZ o5a2
  MOV DX,03d8
  MOV AL,1
  OUT DX,AL
o5ad:
  MOV W[DI],BX
  INC DI
  INC DI
  LOOP o5ad
  MOV DX,03da
o5b6:
  IN AL,DX
  TEST AL,8
  JZ o5b6
  MOV DX,03d8
  MOV AL,9
  OUT DX,AL
  POP DS
  RET
setvga2:
  PUSH BP
  PUSH ES

  MOV AX,01200
  MOV BL,030
  INT 010

  MOV AX,3
  INT 010

  MOV AX,01110
  MOV BX,0200
  MOV CX,0100
  XOR DX,DX
  MOV BP,offset chartable
  MOV ES,CS
  INT 010
  MOV AX,01003
  XOR BL,BL
  INT 010

  MOV DX,03c4 ;The following code sets the VGA width to 8 (probably not needed)
  MOV AL,1
  OUT DX,AL
  INC DX
  IN AL,DX
  OR AL,1
  DEC DX
  MOV AH,AL
  MOV AL,1
  OUT DX,AX ;Set correct scan width
  MOV DX,03cc
  IN AL,DX
  AND AL,251
  MOV DX,03c2
  OUT DX,AL ;Set correct clock frequency
  MOV DX,03ba
  IN AL,DX
  MOV DX,03da
  IN AL,DX  ;Make port 3c0 the index
  MOV DX,03c0
  MOV AL,033
  OUT DX,AL
  MOV AL,0
  OUT DX,AL ;Set horizontal pixel panning value for correct display

  MOV CX,8000
  MOV AX,0b800
  MOV ES,AX
  XOR DI,DI
  MOV AX,0de
  REP STOSW
  POP ES
  POP BP
  RET

chartable:
  DB 0,0,126,129,126,255,108,254,16,56,56,124,16,56,0,0,255,255,0,60
  DB 255,195,15,7,60,102,63,51,127,99,24,219,128,224,2,14,24,60,102,102
  DB 127,219,62,97,0,0,24,60,24,60,24,24,0,24,0,48,0,0,0,36
  DB 0,24,0,255,0,0,24,60,102,102,108,108,24,62,0,198,56,108,24,24
  DB 12,24,48,24,0,102,0,24,0,0,0,0,0,0,6,12,56,108,24,56
  DB 124,198,124,198,28,60,254,192,56,96,254,198,124,198,124,198,0,24,0,24
  DB 6,12,0,0,96,48,124,198,124,198,56,108,252,102,60,102,248,108,254,98
  DB 254,98,60,102,198,198,60,24,30,12,230,102,240,96,198,238,198,230,124,198
  DB 252,102,124,198,252,102,60,102,126,126,198,198,198,198,198,198,198,198,102,102
  DB 254,198,60,48,192,96,60,12,16,56,0,0,48,24,0,0,224,96,0,0
  DB 28,12,0,0,60,102,0,0,224,96,24,0,6,0,224,96,56,24,0,0
  DB 0,0,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0
  DB 0,0,0,0,0,0,14,24,24,24,112,24,118,220,0,16,124,198,204,0
  DB 12,24,124,130,198,0,48,24,48,48,0,0,124,130,198,0,48,24,102,0
  DB 124,130,48,24,198,56,56,108,24,48,0,0,62,108,124,130,198,0,48,24
  DB 120,132,96,48,198,0,198,56,198,0,24,24,56,108,102,102,248,204,14,27
  DB 24,48,12,24,12,24,24,48,118,220,118,220,60,108,56,108,24,0,0,0
  DB 0,0,99,230,99,230,24,0,0,51,0,204,34,136,85,170,119,221,24,24
  DB 24,24,24,24,54,54,0,0,0,0,54,54,54,54,0,0,54,54,54,54
  DB 24,24,0,0,24,24,24,24,0,0,24,24,0,0,24,24,24,24,54,54
  DB 54,54,0,0,54,54,0,0,54,54,0,0,54,54,24,24,54,54,0,0
  DB 0,0,54,54,24,24,0,0,0,0,54,54,24,24,24,24,0,0,255,255
  DB 0,0,240,240,15,15,255,255,0,0,120,204,254,198,0,0,254,198,0,0
  DB 0,0,0,118,126,24,56,108,56,108,14,24,0,0,6,12,30,48,0,124
  DB 0,254,24,24,48,24,12,24,14,27,24,24,0,24,0,118,56,108,0,0
  DB 0,0,15,12,108,54,120,12,0,0,0,0

o5c3:         ;Redraw screen
  PUSH BP
  MOV BP,SP
  PUSH DS
  MOV AX,0b800
  MOV DS,AX
  MOV DI,1
  MOV SI,offset p12e
  MOV CX,8000
  MOV DX,03da
o5d8:
  ES: MOV AH,B[SI]
  ES: CMP W[pc9],0
  JNZ o5ed
o5e3:
  IN AL,DX
  TEST AL,1
  JNZ o5e3
o5e8:
  IN AL,DX
  TEST AL,1
  JZ o5e8
o5ed:
  MOV B[DI],AH
  INC DI
  INC DI
  INC SI
  LOOP o5d8
  POP DS
  POP BP
  RET

o64o:
  PUSH BP
  MOV BP,SP
  MOV BX,W[BP+4]
  AND BX,0f
  MOV BH,BL
  MOV CL,4
  SHL BH,CL
  MOV CX,056
  MOV DI,offset p12e
  ADD DI,0371
o65a:
  ES: MOV W[pc7],0
o661:
  MOV AL,B[DI]
  MOV AH,AL
  AND AL,0f
  CMP AL,8
  JZ o678
  TEST AL,8
  JNZ o673
  AND AL,0f
  JNZ o678
o673:
  AND AH,0f0
  OR AH,BL
o678:
  MOV AL,AH
  AND AH,0f0
  CMP AH,080
  JZ o69o
  TEST AH,080
  JNZ o68c
  AND AH,0f0
  JNZ o69o
o68c:
  AND AL,0f
  OR AL,BH
o69o:
  MOV B[DI],AL
  INC DI
  ES: INC W[pc7]
  ES: CMP W[pc7],04e
  JB o661
  ADD DI,2
  LOOP o65a
  POP BP
  RET

o6a7:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  MOV BL,AL
  MOV W[pcd],AX
  MOV AX,W[BP+6]
  MOV BH,AL
  MOV AX,W[BP+8]
  AND AL,0f
  MOV CH,AL
  MOV CL,CH
  ROL CH,1
  ROL CH,1
  ROL CH,1
  ROL CH,1
  MOV AX,W[BP+0a]
  MOV W[pcf],AX
  CALL oa59
  JZ o6d6
  JMP o717
o6d6:
  CALL oa6e
  SHR DI,1
  ADD DI,offset p12e
  TEST AX,1
  JNZ o6fc
o6e4:
  MOV AL,B[DI]
  AND AL,0f0
  CMP AL,CH
  JNZ o717
  ES: MOV AX,W[pcf]
  ES: CMP W[pcd],AX
  JNB o717
  ES: INC W[pcd]
o6fc:
  MOV AL,B[DI]
  AND AL,0f
  CMP AL,CL
  JNZ o717
  ES: MOV AX,W[pcf]
  ES: CMP W[pcd],AX
  JNB o717
  ES: INC W[pcd]
  INC DI
  JMP o6e4
o717:
  ES: MOV AX,W[pcd]
  POP BP
  RET

o71d:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  MOV BL,AL
  MOV W[pcd],AX
  MOV AX,W[BP+6]
  MOV BH,AL
  MOV AX,W[BP+8]
  AND AL,0f
  MOV CH,AL
  MOV CL,CH
  ROL CH,1
  ROL CH,1
  ROL CH,1
  ROL CH,1
  MOV AX,W[BP+0a]
  MOV W[pcf],AX
  CALL oa59
  JZ o74c
  JMP o78d
o74c:
  CALL oa6e
  SHR DI,1
  ADD DI,offset p12e
  TEST AX,1
  JNZ o772
o75a:
  MOV AL,B[DI]
  AND AL,0f0
  CMP AL,CH
  JZ o78d
  ES: MOV AX,W[pcf]
  ES: CMP W[pcd],AX
  JNB o78d
  ES: INC W[pcd]
o772:
  MOV AL,B[DI]
  AND AL,0f
  CMP AL,CL
  JZ o78d
  ES: MOV AX,W[pcf]
  ES: CMP W[pcd],AX
  JNB o78d
  ES: INC W[pcd]
  INC DI
  JMP o75a
o78d:
  ES: MOV AX,W[pcd]
  POP BP
  RET

o793:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  MOV BL,AL
  MOV W[pcd],AX
  MOV AX,W[BP+6]
  MOV BH,AL
  MOV AX,W[BP+8]
  AND AL,0f
  MOV CH,AL
  MOV CL,CH
  ROL CH,1
  ROL CH,1
  ROL CH,1
  ROL CH,1
  CALL oa59
  JZ o7bc
  JMP o825
o7bc:
  CALL oa6e
  SHR DI,1
  ADD DI,offset p12e
  TEST AX,1
  JNZ o7f6
o7ca:
  MOV AL,B[DI]
  MOV AH,AL
  AND AL,0f0
  CMP AL,070
  JZ o825
  CMP AL,080
  JZ o825
  CMP AL,CH
  JZ o825
  ES: CMP W[pcd],0a0
  JNB o825
  ES: INC W[pcd]
  ES: INC W[pd1]
  AND AH,0f
  OR AH,CH
  MOV B[DI],AH
o7f6:
  MOV AL,B[DI]
  MOV AH,AL
  AND AL,0f
  CMP AL,7
  JZ o825
  CMP AL,8
  JZ o825
  CMP AL,CL
  JZ o825
  ES: CMP W[pcd],0a0
  JNB o825
  ES: INC W[pcd]
  ES: INC W[pd1]
  AND AH,0f0
  OR AH,CL
  MOV B[DI],AH
  INC DI
  JMP o7ca
o825:
  ES: MOV AX,W[pcd]
  POP BP
  RET

o82b:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  MOV BL,AL
  MOV W[pcd],AX
  MOV AX,W[BP+6]
  MOV BH,AL
  MOV AX,W[BP+8]
  AND AL,0f
  MOV CH,AL
  MOV CL,CH
  ROL CH,1
  ROL CH,1
  ROL CH,1
  ROL CH,1
  CALL oa59
  JZ o854
  JMP o8bb
o854:
  CALL oa6e
  SHR DI,1
  ADD DI,offset p12e
  TEST AX,1
  JZ o88d
o862:
  MOV AL,B[DI]
  MOV AH,AL
  AND AL,0f
  CMP AL,7
  JZ o8bb
  CMP AL,8
  JZ o8bb
  CMP AL,CL
  JZ o8bb
  ES: CMP W[pcd],0
  JB o8bb
  ES: INC W[pd1]
  ES: DEC W[pcd]
  AND AH,0f0
  OR AH,CL
  MOV B[DI],AH
o88d:
  MOV AL,B[DI]
  MOV AH,AL
  AND AL,0f0
  CMP AL,070
  JZ o8bb
  CMP AL,080
  JZ o8bb
  CMP AL,CH
  JZ o8bb
  ES: CMP W[pcd],0
  JB o8bb
  ES: INC W[pd1]
  ES: DEC W[pcd]
  AND AH,0f
  OR AH,CH
  MOV B[DI],AH
  DEC DI
  JMP o862
o8bb:
  ES: MOV AX,W[pcd]
  POP BP
  RET

o8c1:         ;Clear screen to colour
  PUSH BP
  MOV BP,SP
  MOV BX,W[BP+4]
  AND BX,0f
  MOV BH,BL
  MOV CL,4
  SHL BH,CL
  OR BL,BH
  MOV DX,03da
  MOV CX,8000
  MOV DI,1
  MOV SI,offset p12e
  PUSH DS
  MOV AX,0b800
  MOV DS,AX
o8e5:
  IN AL,DX
  TEST AL,8
  JZ o8e5
;  MOV DX,03d8
;  MOV AL,1
;  OUT DX,AL   ;Disable
o8fo:
  MOV B[DI],BL
  ES: MOV B[SI],BL
  INC SI
  INC DI
  INC DI
  LOOP o8fo
  MOV DX,03da
o8fd:
  IN AL,DX
  TEST AL,8
  JZ o8fd
;  MOV DX,03d8
;  MOV AL,9
;  OUT DX,AL   ;Enable
  POP DS
  POP BP
  RET

o9ob:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  MOV BL,AL
  MOV AX,W[BP+6]
  MOV BH,AL
  MOV AX,W[BP+8]
  AND AL,0f
  MOV CH,AL
  MOV BP,0
  MOV SI,0
  PUSH DS
  MOV AX,0b800
  MOV DS,AX
  CALL o95b
  MOV AX,SI
  POP DS
  POP BP
  RET

o933:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  MOV BL,AL
  MOV AX,W[BP+6]
  MOV BH,AL
  MOV AX,W[BP+8]
  AND AL,0f
  MOV CH,AL
  MOV BP,1
  MOV SI,0
  PUSH DS
  MOV AX,0b800
  MOV DS,AX
  CALL o95b
  MOV AX,SI
  POP DS
  POP BP
  RET

o95b:
  CALL oa59
  JZ o961
  RET
o961:
  CMP BP,0
  JNZ o969
  JMP o984
o969:
  CMP BP,1
  JNZ o971
  JMP o984
o971:
  CMP BP,2
  JNZ o979
  JMP o9d9
o979:
  CMP BP,3
  JNZ o984
  JMP oao7
o984:
  CALL oa6e
  TEST AX,1
  JZ o9b4
  CALL oa7d
  PUSH AX
  AND AL,0f
  MOV DX,1
  MOV CL,AL
  SHL DX,CL
  OR SI,DX
  POP AX
  CMP BP,1
  JZ o9a9
  AND AL,0f0
  OR AL,CH
  CALL oa89
  RET
o9a9:
  XOR AL,CH
  CMP CH,0
  JZ o9b3
  CALL oa89
o9b3:
  RET
o9b4:
  CALL oa7d
  PUSH AX
  AND AL,0f0
  MOV CL,4
  SHR AL,CL
  MOV DX,1
  MOV CL,AL
  SHL DX,CL
  OR SI,DX
  MOV CL,4
  SHL CH,CL
  POP AX
  CMP BP,1
  JZ o9a9
  AND AL,0f
  OR AL,CH
  CALL oa89
  RET
o9d9:
  CALL oa6e
  MOV DX,03da
  ES: CMP W[pc9],0
  JNZ o9f9
  ES: CMP W[pcb],0
  JZ o9fb
o9ef:
  IN AL,DX
  TEST AL,1
  JNZ o9ef
o9f4:
  IN AL,DX
  TEST AL,1
  JZ o9f4
o9f9:
  MOV B[DI],CH
o9fb:
  PUSH DI
  SHR DI,1
  ADD DI,offset p12e
  ES: MOV B[DI],CH
  POP DI
  RET
oao7:
  CALL oa6e
  TEST AX,1
  JZ oa3o
  CALL oa7d
  PUSH AX
  AND AL,0f
  ES: MOV B[pc6],AL
  MOV DX,1
  MOV CL,AL
  SHL DX,CL
  OR SI,DX
  POP AX
  AND AL,0f0
  ES: CMP B[pc6],CH
  JNZ oa2f
  CALL oa89
oa2f:
  RET
oa3o:
  CALL oa7d
  PUSH AX
  AND AL,0f0
  ES: MOV B[pc6],AL
  MOV CL,4
  SHR AL,CL
  MOV DX,1
  MOV CL,AL
  SHL DX,CL
  OR SI,DX
  MOV CL,4
  SHL CH,CL
  POP AX
  AND AL,0f
  ES: CMP B[pc6],CH
  JNZ oa58
  CALL oa89
oa58:
  RET

oa59:
  CMP BL,160
  JB oa61
  JMP oa66
oa61:
  CMP BH,100
  JB oa6b
oa66:
  OR SI,080
  RET
oa6b:
  XOR AX,AX
  RET

oa6e:
  MOV AL,0a0
  MUL BH
  MOV BH,0
  ADD AX,BX
  MOV DI,AX
  OR DI,1
  RET

oa7d:
  PUSH DI
  SHR DI,1
  ADD DI,offset p12e
  ES: MOV AL,B[DI]
  POP DI
  RET

oa89:
  MOV AH,AL
  MOV DX,03da
  ES: CMP W[pc9],0
  JNZ oaa8
  ES: CMP W[pcb],0
  JZ oaaa
oa9e:
  IN AL,DX
  TEST AL,1
  JNZ oa9e
oaa3:
  IN AL,DX
  TEST AL,1
  JZ oaa3
oaa8:
  MOV B[DI],AH
oaaa:
  PUSH DI
  SHR DI,1
  ADD DI,offset p12e
  ES: MOV B[DI],AH
  POP DI
  RET

oab6:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  MOV W[pa1],AX
  MOV AX,W[BP+6]
  MOV W[pa3],AX
  MOV AX,W[BP+8]
  MOV W[pa5],AX
  MOV AX,W[BP+0a]
  MOV W[pa7],AX
  MOV AX,W[BP+0c]
  AND AX,0f
  MOV B[pa9],AL
  MOV BP,0
  MOV SI,0
  CALL ob49
  MOV AX,SI
  POP BP
  RET

oae7:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  MOV W[pa1],AX
  MOV AX,W[BP+6]
  MOV W[pa3],AX
  MOV AX,W[BP+8]
  MOV W[pa5],AX
  MOV AX,W[BP+0a]
  MOV W[pa7],AX
  MOV AX,W[BP+0c]
  AND AX,0f
  MOV B[pa9],AL
  MOV BP,3
  MOV SI,0
  CALL ob49
  MOV AX,SI
  POP BP
  RET

ob18:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  MOV W[pa1],AX
  MOV AX,W[BP+6]
  MOV W[pa3],AX
  MOV AX,W[BP+8]
  MOV W[pa5],AX
  MOV AX,W[BP+0a]
  MOV W[pa7],AX
  MOV AX,W[BP+0c]
  AND AX,0f
  MOV B[pa9],AL
  MOV BP,1
  MOV SI,0
  CALL ob49
  MOV AX,SI
  POP BP
  RET

ob49:
  MOV AX,W[pa5]
  SUB AX,W[pa1]
  MOV W[p95],AX
  MOV AX,W[pa7]
  SUB AX,W[pa3]
  MOV W[p97],AX
  MOV B[p9b],0
  MOV B[p9c],1
  MOV B[p9d],1
  MOV B[p9e],0
  CMP W[p95],0
  JGE ob81
  MOV B[p9d],0ff
  NEG W[p95]
ob81:
  CMP W[p97],0
  JGE ob91
  NEG W[p97]
  MOV B[p9c],0ff
ob91:
  MOV AX,W[p97]
  CMP W[p95],AX
  JGE obbe
  PUSH W[p95]
  MOV AX,W[p97]
  MOV W[p95],AX
  POP W[p97]
  MOV AL,B[p9d]
  MOV B[p9b],AL
  MOV B[p9d],0
  MOV AL,B[p9c]
  MOV B[p9e],AL
  MOV B[p9c],0
obbe:
  MOV AX,W[p95]
  SHR AX,1
  MOV W[p99],AX
  MOV W[p9f],1
  MOV AX,W[pa1]
  MOV BL,AL
  MOV AX,W[pa3]
  MOV BH,AL
  CALL oc13
obd9:
  MOV AX,W[p95]
  CMP W[p9f],AX
  JLE obe3
  RET
obe3:
  ADD BL,B[p9d]
  ADD BH,B[p9e]
  MOV AX,W[p97]
  ADD W[p99],AX
  INC W[p9f]
  MOV AX,W[p95]
  CMP W[p99],AX
  JLE ocoe
  MOV AX,W[p95]
  SUB W[p99],AX
  ADD BL,B[p9b]
  ADD BH,B[p9c]
ocoe:
  CALL oc13
  JMP obd9

oc13:
  MOV CH,B[pa9]
  PUSH BX
  PUSH DS
  MOV AX,0b800
  MOV DS,AX
  CALL o95b
  POP DS
  POP BX
  RET

oc43:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  MOV BL,AL
  MOV B[paa],AL
  MOV AX,W[BP+6]
  MOV BH,AL
  MOV DI,W[BP+8]
  MOV SI,0
  MOV BP,0
  CALL oca3
  MOV AX,SI
  POP BP
  RET

oc63:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  MOV BL,AL
  MOV B[paa],AL
  MOV AX,W[BP+6]
  MOV BH,AL
  MOV DI,W[BP+8]
  MOV SI,0
  MOV BP,1
  CALL oca3
  MOV AX,SI
  POP BP
  RET

oc83:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  MOV BL,AL
  MOV B[paa],AL
  MOV AX,W[BP+6]
  MOV BH,AL
  MOV DI,W[BP+8]
  MOV SI,0
  MOV BP,2
  CALL oca3
  MOV AX,SI
  POP BP
  RET

oca3:
  MOV CL,B[DI]
  MOV B[pab],CL
  INC DI
  MOV CH,B[DI]
  INC DI
ocad:
  CALL occf
  INC DI
  INC BL
  CMP BP,2
  JNZ ocba
  INC BL
ocba:
  DEC CL
  JNZ ocad
  INC BH
  DEC CH
  JZ occe
  MOV BL,B[paa]
  MOV CL,B[pab]
  JMP ocad
occe:
  RET

occf:
  PUSH CX
  MOV CH,B[DI]
  CMP CH,058
  JZ ocea
  CMP CH,088
  JZ ocea
  PUSH BX
  PUSH DI
  PUSH DS
  MOV AX,0b800
  MOV DS,AX
  CALL o95b
  POP DS
  POP DI
  POP BX
ocea:
  POP CX
  RET

int9save:
  DW 0,0

ocec:
  MOV AX,DS
  CS: MOV W[o449],AX
  PUSH DS
  MOV AX,0
  MOV DS,AX
  MOV DI,024
  MOV AX,W[DI]
  MOV BX,W[DI+2]
  MOV CX,offset od2e
  MOV DX,CS
  CLI
  MOV W[DI],CX
  MOV W[DI+2],DX
  STI
  POP DS
  CS: MOV W[int9save],AX
  CS: MOV W[int9save+2],BX
  RET

restoreint9:
  CS: MOV CX,W[int9save]
  CS: MOV DX,W[int9save+2]
  XOR AX,AX
  MOV DS,AX
  MOV W[024],CX
  MOV W[026],DX
  RET

od2e:
  STI
  PUSH AX
  PUSH CX
  PUSH SI
  PUSH DS
  CLD
  CS: MOV AX,W[o449]
  MOV DS,AX
  IN AL,060
  PUSH AX
  IN AL,061
  MOV AH,AL
  OR AL,080
  OUT 061,AL
  XCHG AH,AL
  OUT 061,AL
  POP AX
  MOV B[pc3],AL
  CALL od5a
  CLI
  MOV AL,020
  OUT 020,AL
  POP DS
  POP SI
  POP CX
  POP AX
;  CS: JMP D[int9save]
  IRET

od5a:
  MOV SI,offset pdd
  MOV AL,B[pc3]
  MOV CX,01b
od63:
  CMP AL,B[SI]
  JZ od6d
  ADD SI,3
  LOOP od63
  CMP AL,044
  JNZ nokey
  JMP ofbe
nokey:
  RET
od6d:
  INC SI
  JMP W[SI]

od7o:
  MOV B[pbo],0ff
  MOV B[pd3],4
  MOV B[pd4],4
  MOV B[pb8],1
  MOV B[pb9],1
  CALL ofce
  RET

od8d:
  MOV B[pbo],0
  CMP B[pd3],4
  JNZ od9c
  CALL of18
od9c:
  CMP B[pb8],1
  JZ oda4
  RET
oda4:
  CMP B[pb1],0ff
  JNZ odb1
  MOV B[pb8],2
  RET
odb1:
  MOV B[pb8],0
  RET

odb7:
  MOV B[pb1],0ff
  MOV B[pd3],0
  MOV B[pd4],0
  MOV B[pb8],2
  MOV B[pb9],2
  CALL ofce
  RET

odd4:
  MOV B[pb1],0
  CMP B[pd3],0
  JNZ ode3
  CALL of18
ode3:
  CMP B[pb8],2
  JZ odeb
  RET
odeb:
  CMP B[pbo],0ff
  JNZ odf8
  MOV B[pb8],1
  RET
odf8:
  MOV B[pb8],0
  RET

odfe:
  MOV B[pb2],0ff
  MOV B[pd3],2
  MOV B[pd4],2
  RET

oeoe:
  MOV B[pb2],0
  CMP B[pd3],2
  JNZ oe1d
  CALL of18
oe1d:
  RET

oe1e:
  MOV B[pb3],0ff
  MOV B[pd3],6
  MOV B[pd4],6
  RET

oe2e:
  MOV B[pb3],0
  CMP B[pd3],6
  JNZ oe3d
  CALL of18
oe3d:
  RET

oe3e:
  MOV B[pb4],0ff
  MOV B[pd3],1
  MOV B[pd4],1
  RET

oe4e:
  MOV B[pb4],0
  CMP B[pd3],1
  JNZ oe5d
  CALL of18
oe5d:
  RET

oe5e:
  MOV B[pb5],0ff
  MOV B[pd3],3
  MOV B[pd4],3
  RET

oe6e:
  MOV B[pb5],0
  CMP B[pd3],3
  JNZ oe7d
  CALL of18
oe7d:
  RET

oe7e:
  MOV B[pb6],0ff
  MOV B[pd3],7
  MOV B[pd4],7
  RET

oe8e:
  MOV B[pb6],0
  CMP B[pd3],7
  JNZ oe9d
  CALL of18
oe9d:
  RET

oe9e:
  MOV B[pb7],0ff
  MOV B[pd3],5
  MOV B[pd4],5
  RET

oeae:
  MOV B[pb7],0
  CMP B[pd3],5
  JNZ oebd
  CALL of18
oebd:
  RET

oebe:
  MOV B[pbb],0ff
  MOV B[pba],0ff
  RET

oec9:
  MOV B[pba],0
  RET

oecf:
  MOV B[pbc],0ff
  JMP ofa6

oed7:
  MOV B[pbc],0
  RET

oedd:
  MOV B[pbd],0ff
  JMP ofa6

oee5:
  MOV B[pbd],0
  RET

oeeb:
  MOV B[pbe],0ff
  JMP ofa6

oef3:
  MOV B[pbe],0
  RET

oef9:
  CMP B[pbf],0ff
  JZ ofo1
  RET
ofo1:
  XOR B[pco],0ff
  MOV B[pbf],0
  RET

ofoc:
  MOV B[pbf],0ff
  RET

of12:
  MOV B[pc1],0ff
  RET

of18:
  MOV B[pd3],063
  CMP B[pb2],0
  JZ of2e
  MOV B[pd3],2
  MOV B[pd4],2
of2e:
  CMP B[pb3],0
  JZ of3f
  MOV B[pd3],6
  MOV B[pd4],6
of3f:
  CMP B[pbo],0
  JZ of5o
  MOV B[pd3],4
  MOV B[pd4],4
of5o:
  CMP B[pb1],0
  JZ of61
  MOV B[pd3],0
  MOV B[pd4],0
of61:
  CMP B[pb4],0
  JZ of72
  MOV B[pd3],1
  MOV B[pd4],1
of72:
  CMP B[pb5],0
  JZ of83
  MOV B[pd3],3
  MOV B[pd4],3
of83:
  CMP B[pb6],0
  JZ of94
  MOV B[pd3],7
  MOV B[pd4],7
of94:
  CMP B[pb7],0
  JZ ofa5
  MOV B[pd3],5
  MOV B[pd4],5
ofa5:
  RET

ofa6:
  CMP B[pbc],0ff
  JZ ofae
  RET
ofae:
  CMP B[pbd],0ff
  JZ ofb6
  RET
ofb6:
  CMP B[pbe],0ff
  JZ ofbe
  RET
ofbe:
  IN AL,061
  AND AL,0fc
  OUT 061,AL
  MOV AL,020
  OUT 020,AL
  PUSH DS
  MOV AX,040
  MOV DS,AX
  CS: MOV AL,B[vgasave]
  MOV B[089],AL
  POP DS
  CALL restoreint8
  CALL restoreint9
  MOV AX,3
  INT 010
  MOV AX,04c00
  INT 021

ofce:
  CMP B[pbc],0ff
  JZ ofd6
  RET
ofd6:
  CMP B[pbo],0ff
  JNZ offe
  INC B[pc2]
  CMP B[pc2],05e
  JNZ ofed
  MOV B[pc2],05d
ofed:
;  PUSH DX
;  MOV DX,03d4
;  MOV AL,2
;  OUT DX,AL
  MOV AL,B[pc2]
;  INC DX
;  OUT DX,AL      ;Change horizontal synch position?  Make screen wobble???
  MOV B[p7b],AL
;  POP DX
  RET
offe:
  CMP B[pb1],0ff
  JNZ o1o26
  DEC B[pc2]
  CMP B[pc2],054
  JNZ o1o15
  MOV B[pc2],055
o1o15:
;  PUSH DX
;  MOV DX,03d4
;  MOV AL,2
;  OUT DX,AL
  MOV AL,B[pc2]
;  INC DX
;  OUT DX,AL      ;Change horizontal synch position?  Make screen wobble???
  MOV B[p7b],AL
;  POP DX
  RET
o1o26:
  RET

o1o5o:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  MOV AH,0e
  MOV BX,W[BP+6]
  MOV BH,0
  INT 010        ;Output character
  POP BP
  RET

o1o61:
  PUSH BP
  MOV BP,SP
  MOV BX,0
  MOV AX,W[BP+4]
  MOV DH,AL
  MOV AX,W[BP+6]
  MOV DL,AL
  MOV AH,2
  INT 010        ;Set cursor position
  POP BP
  RET

filename:
  DB 'STYX.SCO',0

o1o9a:
  PUSH BP
  PUSH DS
  MOV DS,CS
  MOV AX,03d00
  MOV DX,offset filename
  INT 021
  POP DS
  JC readerror
  MOV BX,AX
  MOV AH,03f
  MOV CX,0200
  MOV DX,offset p215o
  INT 021
  MOV AH,03e
  INT 021
readerror:
  POP BP
  RET

o1oc3:
  PUSH BP
  PUSH DS
  MOV DS,CS
  MOV AH,03c
  MOV CX,020
  MOV DX,offset filename
  INT 021
  POP DS
  JC writeerror
  MOV BX,AX
  MOV AH,040
  MOV CX,0200
  MOV DX,offset p215o
  INT 021
  MOV AH,03e
  INT 021
writeerror:
  POP BP
  RET

o1142:
  PUSH ES
  PUSH BP
  MOV AX,0b800
  MOV ES,AX
  MOV DI,0
  MOV SI,offset p2354
o114f:
  MOV AL,B[SI]
  CMP AL,0fe
  JZ o1163
  ES: MOV B[DI],AL
  INC DI
  INC SI
  CMP DI,04000
  JNZ o114f
  JMP o117a
o1163:
  INC SI
  MOV BL,B[SI]
  INC SI
  MOV AL,B[SI]
  INC SI
o116a:
  ES: MOV B[DI],AL
  INC DI
  CMP DI,04000
  JZ o117a
  DEC BL
  JNZ o116a
  JMP o114f
o117a:
  POP BP
  POP ES
  RET

o117d:
  DW 0

int8save:
  DW 0,0

o117f:
  MOV AX,DS
  CS: MOV W[o117d],AX
  PUSH DS
  MOV AX,0
  MOV DS,AX
  MOV DI,020
  MOV AX,W[DI]
  MOV BX,W[DI+2]
  MOV CX,offset o11dd
  MOV DX,CS
  CLI
  MOV W[DI],CX
  MOV W[DI+2],DX
  STI
  POP DS
  CS: MOV W[int8save],AX
  CS: MOV W[int8save+2],BX
  RET

restoreint8:
  CLI
  MOV AL,036
  OUT 043,AL
  XOR AL,AL
  OUT 040,AL
  OUT 040,AL
  CS: MOV AX,W[int8save]
  CS: MOV BX,W[int8save+2]
  MOV DI,020
  PUSH DS
  XOR CX,CX
  MOV DS,CX
  MOV W[DI],AX
  MOV W[DI+2],BX
  STI
  POP DS
  RET

o11dd:
  PUSHF
  STI
  PUSH AX
  PUSH CX
  PUSH DX
  PUSH DS
  CLD
  CS: MOV AX,W[o117d]
  MOV DS,AX
  CMP W[p38bc],0
  JZ o1211
  CMP W[p38bc],1
  JZ o12o1
  IN AL,061
  XOR AL,2
  OUT 061,AL       ;Toggle speaker position
  JMP o1211
o12o1:
  MOV CX,W[p38c3]
  IN AL,061
  OR AL,2
  OUT 061,AL       ;Turn speaker on
o12oc:
  LOOP o12oc
  AND AL,0fd
  OUT 061,AL       ;Turn speaker off
o1211:
  MOV AX,W[p38be]
  ADD W[p38co],AX
  JNB o121e
  INC B[p38c2]

o121e:
  CS: MOV AX,W[int8speed]
  CS: ADD W[int8count],AX
  JNC eoi

  POP DS
  POP DX
  POP CX
  POP AX
  POPF
  CS: JMP D[int8save]

eoi:
  MOV AL,020
  OUT 020,AL       ;End of interrupt
  POP DS
  POP DX
  POP CX
  POP AX
  POPF
  IRET

int8count:
  DW 0
int8speed:
  DW 0

o1227:
  PUSH BP
  SUB SP,8
  MOV BP,SP
  CALL o5891
  CMP AX,3
  JGE o123d
  MOV W[p38f6],1
  JMP o1243
o123d:
  MOV W[p38f6],2
o1243:
  MOV W[BP+4],0
o1248:
  MOV AX,W[BP+4]
  CMP AX,W[p38f6]
  JL o1254
  JMP o135a
o1254:
  SHL AX,1
  MOV SI,AX
  MOV W[SI+p38ca],050
  MOV W[SI+p38ce],01e
  XOR BX,BX
  MOV W[SI+p38de],BX
  MOV BX,0a
  MOV W[SI+p38e6],BX
  MOV W[SI+p38ea],BX
  MOV W[BP+6],0
o127a:
  MOV AX,W[BP+6]
  CMP AX,8
  JL o1285
  JMP o1339
o1285:
  MOV CL,5
  SHL AX,CL
  MOV SI,AX
  MOV CL,3
  MOV AX,W[BP+4]
  SHL AX,CL
  SHL AX,1
  ADD SI,AX
  MOV AX,W[BP+4]
  SHL AX,1
  MOV DI,AX
  MOV AX,W[DI+p38ca]
  MOV W[SI+p38f8],AX
  MOV CL,5
  MOV AX,W[BP+6]
  SHL AX,CL
  MOV SI,AX
  MOV CL,3
  MOV AX,W[BP+4]
  SHL AX,CL
  SHL AX,1
  INC AX
  INC AX
  ADD SI,AX
  MOV AX,W[BP+4]
  SHL AX,1
  MOV DI,AX
  MOV AX,W[DI+p38ce]
  MOV W[SI+p38f8],AX
  MOV CL,5
  MOV AX,W[BP+6]
  SHL AX,CL
  MOV SI,AX
  MOV CL,3
  MOV AX,W[BP+4]
  SHL AX,CL
  SHL AX,1
  ADD AX,4
  ADD SI,AX
  MOV AX,W[BP+4]
  SHL AX,1
  MOV DI,AX
  MOV AX,W[DI+p38ca]
  MOV W[SI+p38f8],AX
  MOV CL,5
  MOV AX,W[BP+6]
  SHL AX,CL
  MOV SI,AX
  MOV CL,3
  MOV AX,W[BP+4]
  SHL AX,CL
  SHL AX,1
  ADD AX,6
  ADD SI,AX
  MOV AX,W[BP+4]
  SHL AX,1
  MOV DI,AX
  MOV AX,W[DI+p38ce]
  MOV W[SI+p38f8],AX
  MOV CL,5
  MOV AX,W[BP+6]
  SHL AX,CL
  MOV SI,AX
  MOV CL,3
  MOV AX,W[BP+4]
  SHL AX,CL
  SHL AX,1
  ADD AX,8
  ADD SI,AX
  MOV W[SI+p38f8],0
  INC W[BP+6]
  JMP o127a
o1339:
  MOV AX,W[BP+4]
  SHL AX,1
  MOV SI,AX
  MOV W[SI+p38f2],0
  MOV W[SI+p38ee],9
  PUSH W[BP+4]
  CALL o17ae
  MOV SP,BP
  INC W[BP+4]
  JMP o1248
o135a:
  ADD SP,8
  POP BP
  RET

o135f:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  CALL o586e
  TEST AX,AX
  JZ o1373
  XOR AX,AX
  ADD SP,4
  POP BP
  RET
o1373:
  MOV W[BP+2],0
o1378:
  MOV AX,W[BP+2]
  CMP AX,W[p38f6]
  JGE o138c
  PUSH AX
  CALL o1391
  MOV SP,BP
  INC W[BP+2]
  JMP o1378
o138c:
  ADD SP,4
  POP BP
  RET

o1391:
  PUSH BP
  SUB SP,02c
  MOV BP,SP
  MOV W[BP+024],3
o139c:
  CMP W[BP+024],0
  JNZ o13a5
  JMP o17a9
o13a5:
  CALL o5891
  ADD AX,01e
  PUSH AX
  CALL o227
  MOV SP,BP
  CMP AX,01c
  JLE o13be
  PUSH W[BP+030]
  CALL o17ae
  MOV SP,BP
o13be:
  MOV AX,W[BP+030]
  SHL AX,1
  MOV SI,AX
  MOV BX,W[SI+p38e2]
  ADD W[SI+p38de],BX
  CMP W[SI+p38de],0168
  MOV W[BP],AX
  JL o13de
  SUB W[SI+p38de],0168
o13de:
  MOV AX,W[BP+030]
  SHL AX,1
  MOV SI,AX
  MOV BX,W[SI+p38de]
  TEST BX,BX
  MOV W[BP],AX
  JNS o13f6
  ADD W[SI+p38de],0168
o13f6:
  MOV AX,W[BP+030]
  SHL AX,1
  MOV SI,AX
  PUSH W[SI+p38de]
  CALL o2c1
  MOV SP,BP
  MOV BX,W[BP+030]
  SHL BX,1
  CWD
  IDIV W[BX+p38e6]
  PUSH W[BX+p38de]
  MOV W[BP+01e],AX
  CALL o2e7
  MOV SP,BP
  MOV BX,W[BP+030]
  SHL BX,1
  CWD
  IDIV W[BX+p38e6]
  MOV CX,W[BX+p38ca]
  MOV DX,W[BX+p38ce]
  MOV W[BP+01a],CX
  MOV CX,W[BX+p38d2]
  ADD W[BX+p38ca],CX
  MOV CX,W[BX+p38d6]
  ADD W[BX+p38ce],CX
  MOV W[BP+01c],DX
  MOV W[BP+020],AX
  MOV AX,W[BP+01e]
  MOV CX,2
  CWD
  IDIV CX
  MOV CX,W[BX+p38ca]
  SUB CX,AX
  MOV W[BP+8],AX
  MOV AX,W[BP+020]
  MOV W[BP+012],CX
  MOV CX,2
  CWD
  IDIV CX
  MOV CX,W[BX+p38ce]
  SUB CX,AX
  MOV DX,W[BX+p38ca]
  ADD DX,W[BP+8]
  MOV BX,W[BX+p38ce]
  ADD BX,AX
  XOR AX,AX
  PUSH AX
  PUSH BX
  PUSH DX
  PUSH CX
  PUSH W[BP+012]
  MOV W[BP+014],CX
  MOV W[BP+016],DX
  MOV W[BP+018],BX
  CALL ob18
  MOV SP,BP
  MOV W[BP+022],AX
  AND AX,07996
  JNZ o14do
  MOV AX,W[BP+030]
  SHL AX,1
  MOV SI,AX
  CMP W[SI+p38ca],3
  JL o14do
  MOV AX,W[BP+030]
  SHL AX,1
  MOV SI,AX
  CMP W[SI+p38ca],09c
  JG o14do
  MOV AX,W[BP+030]
  SHL AX,1
  MOV SI,AX
  CMP W[SI+p38ce],0b
  JL o14do
  MOV AX,W[BP+030]
  SHL AX,1
  MOV SI,AX
  CMP W[SI+p38ce],060
  JLE o15oc
o14do:
  MOV AX,W[BP+030]
  SHL AX,1
  MOV SI,AX
  MOV BX,W[BP+01a]
  MOV W[SI+p38ca],BX
  MOV AX,W[BP+01c]
  MOV W[SI+p38ce],AX
  PUSH W[BP+030]
  CALL o17ae
  MOV SP,BP
  MOV AX,W[BP+030]
  SHL AX,1
  MOV SI,AX
  CMP W[SI+p38e6],032
  MOV W[BP],AX
  JGE o15o6
  MOV AX,W[SI+p38e6]
  ADD W[SI+p38e6],AX
o15o6:
  DEC W[BP+024]
  JMP o139c
o15oc:
  MOV AX,W[BP+030]
  SHL AX,1
  MOV SI,AX
  MOV CL,5
  MOV BX,W[SI+p38f2]
  SHL BX,CL
  MOV CL,3
  MOV DX,W[BP+030]
  SHL DX,CL
  SHL DX,1
  ADD BX,DX
  MOV CL,5
  MOV W[BP+6],BX
  MOV BX,W[SI+p38f2]
  SHL BX,CL
  MOV W[BP+4],DX
  INC DX
  INC DX
  ADD BX,DX
  MOV CL,5
  MOV DX,W[SI+p38f2]
  SHL DX,CL
  MOV DI,DX
  MOV DX,W[BP+4]
  ADD DX,4
  MOV CX,DI
  ADD CX,DX
  MOV W[BP+0a],CX
  MOV CL,5
  MOV DX,W[SI+p38f2]
  SHL DX,CL
  MOV DI,DX
  MOV DX,W[BP+4]
  ADD DX,6
  MOV CX,DI
  ADD CX,DX
  MOV W[BP+0c],CX
  MOV CL,5
  MOV AX,W[SI+p38f2]
  SHL AX,CL
  MOV SI,AX
  MOV AX,W[BP+4]
  ADD AX,8
  MOV DX,SI
  ADD DX,AX
  MOV SI,DX
  PUSH W[SI+p38f8]
  MOV SI,W[BP+0c]
  PUSH W[SI+p38f8]
  MOV SI,W[BP+0a]
  PUSH W[SI+p38f8]
  PUSH W[BX+p38f8]
  MOV SI,W[BP+6]
  PUSH W[SI+p38f8]
  CALL oae7
  MOV SP,BP
  MOV AX,W[BP+030]
  SHL AX,1
  MOV SI,AX
  MOV CL,5
  MOV AX,W[SI+p38f2]
  SHL AX,CL
  MOV SI,AX
  MOV CL,3
  MOV AX,W[BP+030]
  SHL AX,CL
  SHL AX,1
  ADD SI,AX
  MOV AX,W[BP+012]
  MOV W[SI+p38f8],AX
  MOV AX,W[BP+030]
  SHL AX,1
  MOV SI,AX
  MOV CL,5
  MOV AX,W[SI+p38f2]
  SHL AX,CL
  MOV SI,AX
  MOV CL,3
  MOV AX,W[BP+030]
  SHL AX,CL
  SHL AX,1
  INC AX
  INC AX
  ADD SI,AX
  MOV AX,W[BP+014]
  MOV W[SI+p38f8],AX
  MOV AX,W[BP+030]
  SHL AX,1
  MOV SI,AX
  MOV CL,5
  MOV AX,W[SI+p38f2]
  SHL AX,CL
  MOV SI,AX
  MOV CL,3
  MOV AX,W[BP+030]
  SHL AX,CL
  SHL AX,1
  ADD AX,4
  ADD SI,AX
  MOV AX,W[BP+016]
  MOV W[SI+p38f8],AX
  MOV AX,W[BP+030]
  SHL AX,1
  MOV SI,AX
  MOV CL,5
  MOV AX,W[SI+p38f2]
  SHL AX,CL
  MOV SI,AX
  MOV CL,3
  MOV AX,W[BP+030]
  SHL AX,CL
  SHL AX,1
  ADD AX,6
  ADD SI,AX
  MOV AX,W[BP+018]
  MOV W[SI+p38f8],AX
  MOV AX,W[BP+030]
  SHL AX,1
  MOV SI,AX
  MOV CL,5
  MOV BX,W[SI+p38f2]
  SHL BX,CL
  MOV CL,3
  MOV DX,W[BP+030]
  SHL DX,CL
  SHL DX,1
  ADD DX,8
  ADD BX,DX
  MOV AX,W[SI+p38ee]
  MOV W[BX+p38f8],AX
  MOV AX,W[BP+030]
  SHL AX,1
  MOV SI,AX
  MOV CL,5
  MOV AX,W[SI+p38f2]
  SHL AX,CL
  MOV SI,AX
  MOV CL,3
  MOV AX,W[BP+030]
  SHL AX,CL
  SHL AX,1
  ADD AX,8
  ADD SI,AX
  PUSH W[SI+p38f8]
  PUSH W[BP+018]
  PUSH W[BP+016]
  PUSH W[BP+014]
  PUSH W[BP+012]
  CALL oab6
  MOV SP,BP
  MOV AX,W[BP+030]
  SHL AX,1
  MOV SI,AX
  INC W[SI+p38f2]
  CMP W[SI+p38f2],8
  MOV W[BP],AX
  JL o1714
  MOV W[SI+p38f2],0
  MOV AX,4
  PUSH AX
  CALL o227
  MOV SP,BP
  MOV SI,AX
  CMP SI,5
  JNB o1714
  SHL SI,1
  CS: MOV AX,W[SI+o16fc]
  PUSH AX
  MOV AX,W[BP+030]
  SHL AX,1
  MOV SI,AX
  POP AX
  MOV W[SI+p38ee],AX
o1714:
  MOV AX,W[BP+030]
  SHL AX,1
  MOV SI,AX
  CMP W[SI+p38e6],0a
  MOV W[BP],AX
  JLE o172b
  MOV W[SI+p38e6],0a
o172b:
  MOV AX,W[BP+030]
  SHL AX,1
  MOV SI,AX
  MOV BX,W[SI+p38e6]
  CMP BX,W[SI+p38ea]
  MOV W[BP],AX
  JLE o1743
  DEC W[SI+p38e6]
o1743:
  MOV AX,W[BP+030]
  SHL AX,1
  MOV SI,AX
  MOV BX,W[SI+p38e6]
  CMP BX,W[SI+p38ea]
  MOV W[BP],AX
  JGE o175b
  INC W[SI+p38e6]
o175b:
  XOR AX,AX
  CMP W[BP+030],0
  MOV W[BP+024],AX
  JNZ o1792
  MOV AX,W[p38ca]
  SUB AX,W[p3cf8]
  PUSH AX
  CALL o2a9
  MOV SP,BP
  MOV BX,W[p38ce]
  SUB BX,W[p3cfa]
  PUSH BX
  MOV W[BP+028],AX
  CALL o2a9
  MOV SP,BP
  ADD W[BP+028],AX
  PUSH W[BP+028]
  MOV W[BP+02a],AX
  CALL o45b8
  MOV SP,BP
o1792:
  MOV AX,W[BP+022]
  AND AX,08000
  JNZ o179d
  JMP o139c
o179d:
  MOV AX,1
  PUSH AX
  CALL o5858
  MOV SP,BP
  JMP o139c
o17a9:
  ADD SP,02c
  POP BP
  RET

o16fc:
  DW 3,5,6,9,0a

o17ae:
  PUSH BP
  SUB SP,0e
  MOV BP,SP
  MOV AX,W[BP+012]
  SHL AX,1
  MOV SI,AX
  MOV AX,059
  PUSH AX
  MOV W[BP],SI
  CALL o227
  MOV SP,BP
  SHL AX,1
  SHL AX,1
  MOV SI,W[BP]
  MOV W[SI+p38da],AX
  MOV AX,W[BP+012]
  SHL AX,1
  MOV SI,AX
  MOV AX,3
  PUSH AX
  MOV W[BP],SI
  CALL o227
  MOV SP,BP
  ADD AX,3
  MOV SI,W[BP]
  MOV W[SI+p38ea],AX
  CMP W[p38f6],2
  JNZ o18o2
  MOV AX,W[BP+012]
  SHL AX,1
  MOV SI,AX
  ADD W[SI+p38ea],5
o18o2:
  CALL o5891
  CMP AX,5
  JLE o1811
  MOV W[BP+0c],5
  JMP o1817
o1811:
  CALL o5891
  MOV W[BP+0c],AX
o1817:
  MOV AX,W[BP+012]
  SHL AX,1
  MOV SI,AX
  PUSH W[SI+p38da]
  MOV W[BP+2],SI
  CALL o2c1
  MOV SP,BP
  MOV BX,W[BP+0c]
  ADD BX,0c
  PUSH BX
  MOV W[BP+6],AX
  CALL o227
  MOV SP,BP
  MOV BX,019
  SUB BX,AX
  MOV AX,W[BP+6]
  CWD
  IDIV BX
  MOV SI,W[BP+2]
  MOV W[SI+p38d2],AX
  MOV AX,W[BP+012]
  SHL AX,1
  MOV SI,AX
  PUSH W[SI+p38da]
  MOV W[BP+2],SI
  CALL o2e7
  MOV SP,BP
  MOV BX,W[BP+0c]
  ADD BX,0a
  PUSH BX
  MOV W[BP+6],AX
  CALL o227
  MOV SP,BP
  MOV BX,019
  SUB BX,AX
  MOV AX,W[BP+6]
  CWD
  IDIV BX
  MOV SI,W[BP+2]
  MOV W[SI+p38d6],AX
  MOV AX,W[BP+012]
  SHL AX,1
  MOV SI,AX
  MOV AX,0f
  PUSH AX
  MOV W[BP],SI
  CALL o227
  MOV SP,BP
  ADD AX,5
  MOV SI,W[BP]
  MOV W[SI+p38e2],AX
  MOV AX,1
  PUSH AX
  CALL o227
  MOV SP,BP
  TEST AX,AX
  JZ o18ba
  MOV AX,W[BP+012]
  SHL AX,1
  MOV SI,AX
  MOV AX,W[SI+p38e2]
  NEG AX
  MOV W[SI+p38e2],AX
o18ba:
  ADD SP,0e
  POP BP
  RET

o18bf:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  CMP W[p38f6],2
  JNZ o18e7
  XOR AX,AX
  PUSH AX
  PUSH W[p38do]
  PUSH W[p38cc]
  CALL o933
  MOV SP,BP
  AND AX,1
  JNZ o18e7
  MOV W[p38f6],1
o18e7:
  ADD SP,2
  POP BP
  RET

o18ec:
  PUSH BP
  SUB SP,01a
  MOV BP,SP
  MOV W[BP+016],0
o18f7:
  MOV AX,W[BP+016]
  CMP AX,W[p38f6]
  JL o19o3
  JMP o1aoc
o19o3:
  SHL AX,1
  MOV SI,AX
  MOV AX,W[SI+p38f2]
  MOV W[BP+014],0
  MOV W[BP+018],AX
o1913:
  CMP W[BP+014],8
  JL o191c
  JMP o1ao6
o191c:
  MOV CL,5
  MOV AX,W[BP+018]
  SHL AX,CL
  MOV SI,AX
  MOV CL,3
  MOV BX,W[BP+016]
  SHL BX,CL
  SHL BX,1
  MOV W[BP],SI
  ADD SI,BX
  MOV DI,AX
  MOV W[BP+4],BX
  INC BX
  INC BX
  MOV CX,DI
  ADD CX,BX
  MOV BX,W[BP+4]
  ADD BX,4
  MOV DX,DI
  ADD DX,BX
  MOV AX,W[BP+4]
  ADD AX,6
  MOV BX,DI
  ADD BX,AX
  XOR AX,AX
  PUSH AX
  PUSH W[BX+p38f8]
  MOV DI,DX
  PUSH W[DI+p38f8]
  MOV DI,CX
  PUSH W[DI+p38f8]
  PUSH W[SI+p38f8]
  CALL ob18
  MOV SP,BP
  MOV W[BP+012],AX
  AND AX,0f996
  JZ o197e
  MOV AX,W[BP+016]
  MOV W[BP+016],AX
  JMP o19ef
o197e:
  MOV CL,5
  MOV AX,W[BP+018]
  SHL AX,CL
  MOV SI,AX
  MOV CL,3
  MOV BX,W[BP+016]
  SHL BX,CL
  SHL BX,1
  MOV W[BP],SI
  ADD SI,BX
  MOV DI,AX
  MOV W[BP+4],BX
  INC BX
  INC BX
  MOV CX,DI
  ADD CX,BX
  MOV BX,W[BP+4]
  ADD BX,4
  MOV DX,DI
  ADD DX,BX
  MOV BX,W[BP+4]
  ADD BX,6
  MOV W[BP+0e],BX
  MOV BX,DI
  MOV AX,W[BP+0e]
  ADD BX,AX
  MOV AX,W[BP+4]
  ADD AX,8
  MOV W[BP+010],AX
  MOV AX,DI
  MOV W[BP+0c],BX
  MOV BX,W[BP+010]
  ADD AX,BX
  MOV DI,AX
  PUSH W[DI+p38f8]
  MOV DI,W[BP+0c]
  PUSH W[DI+p38f8]
  MOV DI,DX
  PUSH W[DI+p38f8]
  MOV DI,CX
  PUSH W[DI+p38f8]
  PUSH W[SI+p38f8]
  CALL oab6
  MOV SP,BP
o19ef:
  MOV AX,W[BP+018]
  INC AX
  CMP AX,8
  MOV W[BP+018],AX
  JL o1aoo
  MOV W[BP+018],0
o1aoo:
  INC W[BP+014]
  JMP o1913
o1ao6:
  INC W[BP+016]
  JMP o18f7
o1aoc:
  ADD SP,01a
  POP BP
  RET

o1a11:
  PUSH BP
  SUB SP,01a
  MOV BP,SP
  XOR AX,AX
  MOV W[BP+016],AX
  MOV W[pcb],AX
o1a1f:
  MOV AX,W[BP+016]
  CMP AX,W[p38f6]
  JL o1a2b
  JMP o1ad2
o1a2b:
  SHL AX,1
  MOV SI,AX
  MOV AX,W[SI+p38f2]
  MOV W[BP+014],0
  MOV W[BP+018],AX
o1a3b:
  CMP W[BP+014],8
  JL o1a44
  JMP o1acc
o1a44:
  MOV CL,5
  MOV AX,W[BP+018]
  SHL AX,CL
  MOV SI,AX
  MOV CL,3
  MOV BX,W[BP+016]
  SHL BX,CL
  SHL BX,1
  MOV W[BP],SI
  ADD SI,BX
  MOV DI,AX
  MOV W[BP+4],BX
  INC BX
  INC BX
  MOV CX,DI
  ADD CX,BX
  MOV BX,W[BP+4]
  ADD BX,4
  MOV DX,DI
  ADD DX,BX
  MOV BX,W[BP+4]
  ADD BX,6
  MOV W[BP+0e],BX
  MOV BX,DI
  MOV AX,W[BP+0e]
  ADD BX,AX
  MOV AX,W[BP+4]
  ADD AX,8
  MOV W[BP+010],AX
  MOV AX,DI
  MOV W[BP+0c],BX
  MOV BX,W[BP+010]
  ADD AX,BX
  MOV DI,AX
  PUSH W[DI+p38f8]
  MOV DI,W[BP+0c]
  PUSH W[DI+p38f8]
  MOV DI,DX
  PUSH W[DI+p38f8]
  MOV DI,CX
  PUSH W[DI+p38f8]
  PUSH W[SI+p38f8]
  CALL oae7
  MOV SP,BP
  MOV AX,W[BP+018]
  INC AX
  CMP AX,8
  MOV W[BP+018],AX
  JL o1ac6
  MOV W[BP+018],0
o1ac6:
  INC W[BP+014]
  JMP o1a3b
o1acc:
  INC W[BP+016]
  JMP o1a1f
o1ad2:
  MOV W[pcb],1
  ADD SP,01a
  POP BP
  RET

o1add:
  PUSH BP
  MOV BP,SP
  MOV AX,W[p38f6]
  POP BP
  RET

o1ae5:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  CALL o5891
  CMP AX,2
  JGE o1afb
  MOV W[p3cf6],1
  JMP o1bo1
o1afb:
  MOV W[p3cf6],2
o1bo1:
  CALL o1dcb
  ADD SP,2
  POP BP
  RET

o1bo9:
  PUSH BP
  SUB SP,8
  MOV BP,SP
  CALL o5891
  CMP AX,2
  JLE o1b24
  CALL o1add
  DEC AX
  JNZ o1b24
  MOV W[BP+4],2
  JMP o1b29
o1b24:
  MOV W[BP+4],1
o1b29:
  MOV W[BP+2],0
o1b2e:
  MOV AX,W[BP+2]
  CMP AX,W[BP+4]
  JGE o1ba6
  CALL o586e
  TEST AX,AX
  JZ o1b44
  XOR AX,AX
  ADD SP,8
  POP BP
  RET
o1b44:
  XOR AX,AX
  MOV W[BP+6],AX
  MOV W[p3cf4],AX
o1b4c:
  MOV AX,W[BP+6]
  CMP AX,W[p3cf6]
  JGE o1b8e
  SHL AX,1
  MOV SI,AX
  CMP W[SI+p3ce8],0
  JZ o1b73
  PUSH W[BP+6]
  CALL o1e72
  MOV SP,BP
  MOV AX,2
  PUSH AX
  CALL o41c        ;Delay don't know
  MOV SP,BP
  JMP o1b7b
o1b73:
  PUSH W[BP+6]
  CALL o1bab
  MOV SP,BP
o1b7b:
  CALL o586e
  TEST AX,AX
  JZ o1b89
  XOR AX,AX
  ADD SP,8
  POP BP
  RET
o1b89:
  INC W[BP+6]
  JMP o1b4c
o1b8e:
  CMP W[p3cf6],1
;  JNZ o1b9e       ;Speed up on level 2. Removed.
  MOV AX,2
  PUSH AX
  CALL o41c        ;Main game delay loop
  MOV SP,BP
o1b9e:
  CALL o1f6f
  INC W[BP+2]
  JMP o1b2e
o1ba6:
  ADD SP,8
  POP BP
  RET

o1bab:
  PUSH BP
  SUB SP,6
  MOV BP,SP
  MOV AX,W[BP+0a]
  SHL AX,1
  MOV SI,AX
  MOV BX,W[SI+p39f8]
  MOV CX,W[SI+p39fc]
  CMP W[SI+p3aoo],1
  MOV W[p3cf2],CX
  MOV W[p3cfo],BX
  JNZ o1be9
  PUSH W[BP+0a]
  CALL o216o
  MOV SP,BP
  PUSH W[BP+0a]
  CALL o216o
  MOV SP,BP
  PUSH W[BP+0a]
  CALL o216o
  MOV SP,BP
  JMP o1co1
o1be9:
  PUSH W[BP+0a]
  CALL o2187
  MOV SP,BP
  PUSH W[BP+0a]
  CALL o2187
  MOV SP,BP
  PUSH W[BP+0a]
  CALL o2187
  MOV SP,BP
o1co1:
  MOV W[BP+4],9
o1co6:
  CMP W[BP+4],0
  JG o1cof
  JMP o1c8c
o1cof:
  MOV AX,W[BP+0a]
  SHL AX,1
  MOV SI,AX
  MOV BX,W[SI+p39f8]
  MOV CX,W[SI+p39fc]
  PUSH W[SI+p3ao4]
  MOV W[p3cf2],CX
  MOV W[p3cfo],BX
  CALL o2of4
  MOV SP,BP
  XOR AX,AX
  PUSH AX
  PUSH W[p3cf2]
  PUSH W[p3cfo]
  CALL o933
  MOV SP,BP
  AND AX,01001
  JZ o1c53
  MOV AX,W[BP+0a]
  SHL AX,1
  MOV SI,AX
  MOV W[SI+p3cec],0
  JMP o1c8c
o1c53:
  CMP W[BP+4],1
  JNZ o1c66
  MOV AX,W[BP+0a]
  SHL AX,1
  MOV SI,AX
  INC W[SI+p3cec]
  JMP o1c8c
o1c66:
  MOV AX,W[BP+0a]
  SHL AX,1
  MOV SI,AX
  CMP W[SI+p3aoo],1
  JNZ o1c7e
  PUSH W[BP+0a]
  CALL o2187
  MOV SP,BP
  JMP o1c86
o1c7e:
  PUSH W[BP+0a]
  CALL o216o
  MOV SP,BP
o1c86:
  DEC W[BP+4]
  JMP o1co6
o1c8c:
  MOV W[BP+4],8
o1c91:
  CMP W[BP+4],0
  JLE o1do7
  MOV AX,W[BP+0a]
  SHL AX,1
  MOV SI,AX
  MOV BX,W[SI+p39f8]
  MOV CX,W[SI+p39fc]
  PUSH W[SI+p3ao4]
  MOV W[p3cf2],CX
  MOV W[p3cfo],BX
  CALL o2of4
  MOV SP,BP
  XOR AX,AX
  PUSH AX
  PUSH W[p3cf2]
  PUSH W[p3cfo]
  CALL o933
  MOV SP,BP
  AND AX,0980
  JNZ o1do7
  MOV AX,W[BP+0a]
  SHL AX,1
  MOV SI,AX
  CMP W[SI+p3aoo],1
  JNZ o1ce4
  PUSH W[BP+0a]
  CALL o2187
  MOV SP,BP
  JMP o1cec
o1ce4:
  PUSH W[BP+0a]
  CALL o216o
  MOV SP,BP
o1cec:
  MOV AX,W[BP+0a]
  SHL AX,1
  MOV SI,AX
  MOV BX,W[SI+p39f8]
  MOV AX,W[SI+p39fc]
  MOV W[p3cf2],AX
  MOV W[p3cfo],BX
  DEC W[BP+4]
  JMP o1c91
o1do7:
  MOV AX,W[BP+0a]
  SHL AX,1
  MOV SI,AX
  MOV BX,W[p3cfo]
  MOV W[SI+p39f8],BX
  MOV AX,W[p3cf2]
  MOV W[SI+p39fc],AX
  CALL o5891
  PUSH AX
  CALL o227
  MOV SP,BP
  CMP AX,3
  JLE o1d4a
  CALL o5891
  MOV BX,0c
  SUB BX,AX
  PUSH BX
  CALL o227
  MOV SP,BP
  DEC AX
  JNZ o1d4a
  MOV AX,W[BP+0a]
  SHL AX,1
  MOV SI,AX
  CMP W[SI+p3ao8],03a
  JL o1d58
o1d4a:
  MOV AX,W[BP+0a]
  SHL AX,1
  MOV SI,AX
  CMP W[SI+p3ao8],8
  JGE o1d65
o1d58:
  MOV AX,W[BP+0a]
  SHL AX,1
  MOV SI,AX
  INC W[SI+p3ao8]
  JMP o1d71
o1d65:
  PUSH W[BP+0a]
  CALL o2o75
  MOV SP,BP
  OR W[p3cf4],AX
o1d71:
  PUSH W[BP+0a]
  CALL o1fa8
  MOV SP,BP
  MOV BX,W[p3cf4]
  OR BX,AX
  MOV W[p3cf4],BX
  AND BX,0fe7f
  JNZ o1dbd
  MOV AX,W[BP+0a]
  SHL AX,1
  MOV BX,AX
  MOV AX,W[BX+p39f8]
  SUB AX,W[p3cf8]
  PUSH AX
  CALL o2a9
  MOV SP,BP
  CMP AX,3
  JGE o1dc6
  MOV AX,W[BP+0a]
  SHL AX,1
  MOV SI,AX
  MOV AX,W[SI+p39fc]
  SUB AX,W[p3cfa]
  PUSH AX
  CALL o2a9
  MOV SP,BP
  CMP AX,3
  JGE o1dc6
o1dbd:
  MOV AX,2
  PUSH AX
  CALL o5858
  MOV SP,BP
o1dc6:
  ADD SP,6
  POP BP
  RET

o1dcb:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  MOV W[BP+2],0
o1dd6:
  MOV AX,W[BP+2]
  CMP AX,W[p3cf6]
  JGE o1dea
  PUSH AX
  CALL o1def
  MOV SP,BP
  INC W[BP+2]
  JMP o1dd6
o1dea:
  ADD SP,4
  POP BP
  RET

o1def:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  MOV AX,W[BP+8]
  SHL AX,1
  MOV SI,AX
  MOV W[SI+p3ce8],1
  XOR BX,BX
  MOV W[SI+p3cec],BX
  MOV BX,W[p38ca]
  MOV W[SI+p39f8],BX
  MOV AX,W[p38ce]
  MOV W[SI+p39fc],AX
  CMP W[BP+8],0
  JNZ o1e46
o1e1d:
  XOR AX,AX
  PUSH AX
  PUSH W[p39fc]
  PUSH W[p39f8]
  CALL o933
  MOV SP,BP
  AND AX,080
  JNZ o1e38
  DEC W[p39f8]
  JMP o1e1d
o1e38:
  MOV W[p3ao4],2
  MOV W[p3aoo],1
  JMP o1e6d
o1e46:
  XOR AX,AX
  PUSH AX
  PUSH W[p39fe]
  PUSH W[p39fa]
  CALL o933
  MOV SP,BP
  AND AX,080
  JNZ o1e61
  INC W[p39fa]
  JMP o1e46
o1e61:
  MOV W[p3ao6],6
  MOV W[p3ao2],2
o1e6d:
  ADD SP,4
  POP BP
  RET

o1e72:
  PUSH BP
  SUB SP,0a
  MOV BP,SP
  MOV AX,W[BP+0e]
  SHL AX,1
  MOV SI,AX
  MOV AX,W[SI+p39f8]
  SUB AX,W[p3cf8]
  PUSH AX
  CALL o2a9
  MOV SP,BP
  CMP AX,014
  JG o1eac
  MOV AX,W[BP+0e]
  SHL AX,1
  MOV SI,AX
  MOV AX,W[SI+p39fc]
  SUB AX,W[p3cfa]
  PUSH AX
  CALL o2a9
  MOV SP,BP
  CMP AX,014
  JLE o1f2o
o1eac:
  MOV AX,W[BP+0e]
  SHL AX,1
  MOV SI,AX
  MOV BX,1
  MOV W[SI+p3ao8],BX
  XOR BX,BX
  MOV W[SI+p3cdc],BX
  MOV W[SI+p3ceo],BX
  MOV BX,1
  MOV W[SI+p3ce4],BX
  MOV W[BP],AX
  MOV AX,W[BP+0e]
  MOV BX,03c
  IMUL BX
  MOV BX,W[SI+p3cdc]
  ADD BX,AX
  MOV W[BP+4],AX
  MOV AX,BX
  MOV CX,6
  IMUL CX
  MOV BX,AX
  MOV AX,W[SI+p39f8]
  MOV W[BX+p3aoc],AX
  MOV AX,W[BP+4]
  MOV BX,W[SI+p3cdc]
  ADD BX,AX
  MOV AX,BX
  IMUL CX
  MOV BX,AX
  MOV AX,W[SI+p39fc]
  MOV W[BX+p3aoe],AX
  MOV AX,W[SI+p3cdc]
  ADD AX,W[BP+4]
  IMUL CX
  MOV BX,AX
  XOR AX,AX
  MOV W[BX+p3a1o],AX
  INC W[SI+p3cdc]
  MOV W[SI+p3ce8],AX
o1f2o:
  ADD SP,0a
  POP BP
  RET

o1f25:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  MOV W[BP+2],0
o1f3o:
  MOV AX,W[BP+2]
  CMP AX,W[p3cf6]
  JGE o1f44
  PUSH AX
  CALL o1f49
  MOV SP,BP
  INC W[BP+2]
  JMP o1f3o
o1f44:
  ADD SP,4
  POP BP
  RET

o1f49:
  PUSH BP
  SUB SP,6
  MOV BP,SP
o1f4f:
  MOV AX,W[BP+0a]
  SHL AX,1
  MOV SI,AX
  MOV AX,W[SI+p3cdc]
  CMP AX,W[SI+p3ceo]
  JZ o1f6a
  PUSH W[BP+0a]
  CALL o2o75
  MOV SP,BP
  JMP o1f4f
o1f6a:
  ADD SP,6
  POP BP
  RET

o1f6f:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  MOV W[BP+2],0
o1f7a:
  MOV AX,W[BP+2]
  CMP AX,W[p3cf6]
  JGE o1fa3
  SHL AX,1
  MOV SI,AX
  CMP W[SI+p3cec],064
  JLE o1f9e
  PUSH W[BP+2]
  CALL o1f49
  MOV SP,BP
  PUSH W[BP+2]
  CALL o1def
  MOV SP,BP
o1f9e:
  INC W[BP+2]
  JMP o1f7a
o1fa3:
  ADD SP,4
  POP BP
  RET

o1fa8:
  PUSH BP
  SUB SP,0e
  MOV BP,SP
  MOV AX,W[BP+012]
  SHL AX,1
  MOV SI,AX
  CMP W[SI+p3ce4],0
  JZ o1fc3
  MOV W[BP+0c],0f
  JMP o1fc8
o1fc3:
  MOV W[BP+0c],0
o1fc8:
  MOV AX,W[BP+012]
  SHL AX,1
  MOV SI,AX
  MOV W[BP],AX
  MOV AX,W[BP+012]
  MOV BX,03c
  IMUL BX
  MOV BX,W[SI+p3cdc]
  ADD BX,AX
  MOV W[BP+4],AX
  MOV AX,BX
  MOV CX,6
  IMUL CX
  MOV BX,AX
  MOV AX,W[SI+p39f8]
  MOV W[BX+p3aoc],AX
  MOV AX,W[BP+4]
  MOV BX,W[SI+p3cdc]
  ADD BX,AX
  MOV AX,BX
  IMUL CX
  MOV BX,AX
  MOV AX,W[SI+p39fc]
  MOV W[BX+p3aoe],AX
  MOV AX,W[SI+p3cdc]
  ADD AX,W[BP+4]
  IMUL CX
  MOV BX,AX
  MOV AX,W[BP+0c]
  MOV W[BX+p3a1o],AX
  PUSH AX
  PUSH W[SI+p39fc]
  PUSH W[SI+p39f8]
  CALL o933
  MOV SP,BP
  MOV BX,W[BP+012]
  SHL BX,1
  INC W[BX+p3cdc]
  CMP W[BX+p3cdc],03c
  MOV W[BP+0a],AX
  MOV W[BP],BX
  JL o2o47
  MOV W[BX+p3cdc],0
o2o47:
  MOV AX,W[BP+012]
  SHL AX,1
  MOV SI,AX
  MOV W[BP],AX
  CMP W[SI+p3ce4],0
  JZ o2o6o
  MOV W[SI+p3ce4],0
  JMP o2o6d
o2o6o:
  MOV AX,W[BP+012]
  SHL AX,1
  MOV SI,AX
  MOV W[SI+p3ce4],1
o2o6d:
  MOV AX,W[BP+0a]
  ADD SP,0e
  POP BP
  RET


; End of styx1.asm.

		times ($$-$)&1 db 0  ; Alignment padding in _code between .asm files.

..@0x2596:  ; Start of parse.asm. !!! Convert it from A86 to NASM syntax.

; Styx Remastered
; Copyright (c) Andrew Jenner 1998-2004

PUBLIC _parsecmd

_TEXT SEGMENT WORD PUBLIC 'CODE'

_parsecmd:
  PUSH BP
  MOV BP,SP
  SUB SP,086
  PUSH SI
  PUSH DI
  LES BX,W[BP+4]
  MOV W[BP-2],ES
  MOV W[BP-4],BX
o2363:
  JMP o2368
o2365:
  INC W[BP-4]
o2368:
  LES BX,W[BP-4]
  ES: CMP B[BX],020
  JZ o2365
  XOR SI,SI
  JMP o2383
o2375:
  LES BX,W[BP-4]
  ES: MOV AL,B[BX]
  MOV [BP+SI-086],AL
  INC W[BP-4]
  INC SI
o2383:
  LES BX,[BP-4]
  ES: CMP B[BX],020
  JZ o2392
  ES: CMP B[BX],0d
  JNZ o2375
o2392:
  MOV B[BP+SI-134],0
  CMP B[BP-086],02f
  JZ o23a8
  CMP B[BP-086],02d
  JZ o23a8
  JMP o2453
o23a8:
  CMP B[BP-085],053
  JZ o23b6
  CMP B[BP-085],073
  JNZ o23c5
o23b6:
  CMP B[BP-084],03a
  JNZ o23c2
  MOV SI,3
  JMP o23c5
o23c2:
  MOV SI,2
o23c5:
  CMP B[BP-085],053
  JZ o23d3
  CMP B[BP-085],073
  JNZ o23f9
o23d3:
  XOR DI,DI
  JMP o23ed
o23d7:
  MOV AX,DI
  MOV DX,0a
  MUL DX
  PUSH AX
  MOV AL,[BP+SI-086]
  CBW
  POP DX
  ADD DX,AX
  ADD DX,-030
  MOV DI,DX
  INC SI
o23ed:
  CMP B[BP+SI-086],0
  JNZ o23d7
  PUSH DI
  CALL _setspeedmul
  POP CX
o23f9:
  CMP B[BP-085],03f
  JZ o24oe
  CMP B[BP-085],068
  JZ o24oe
  CMP B[BP-085],048
  JNZ o2414
o24oe:
  CALL _printhelp
  CALL _exit
o2414:
  CMP B[BP-085],043
  JZ o2422
  CMP B[BP-085],063
  JNZ o242a
o2422:
  MOV AX,1
  PUSH AX
  CALL _setmode
  POP CX
o242a:
  CMP B[BP-085],056
  JZ o2438
  CMP B[BP-085],076
  JNZ o244o
o2438:
  MOV AX,2
  PUSH AX
  CALL _setmode
  POP CX
o244o:
  CMP B[BP-085],051
  JZ o244e
  CMP B[BP-085],071
  JNZ o2451
o244e:
  CALL _quiet
o2451:
  JMP o248f
o2453:
  CMP SI,1
  JGE o245a
  JMP o248f
o245a:
  XOR DI,DI
  MOV W[BP-6],DI
  JMP o247e
o2461:
  MOV AX,DI
  MOV DX,0a
  MUL DX
  LEA BX,W[BP-086]
  ADD BX,W[BP-6]
  PUSH AX
  MOV AL,B[BX]
  CBW
  POP DX
  ADD DX,AX
  ADD DX,-030
  MOV DI,DX
  INC W[BP-6]
o247e:
  LEA BX,W[BP-086]
  ADD BX,W[BP-6]
  CMP B[BX],0
  JNZ o2461
  PUSH DI
  CALL _setspeedmul
  POP CX
o248f:
  LES BX,W[BP-4]
  ES: CMP B[BX],0d
  JZ o249b
  JMP o2363
o249b:
  POP DI
  POP SI
  MOV SP,BP
  POP BP
  RET

; End of parse.asm.

		times ($$-$)&1 db 0  ; Alignment padding in _code between .asm files.

..@0x26ee:  ; Start of styx2.asm. !!! Convert it from A86 to NASM syntax.

; Styx Remastered
; Copyright (c) Andrew Jenner 1998-2004

PUBLIC o2o75,o2of4,o216o,o2187,o21ad,o21do,o2325,o235f,o24be
PUBLIC o2868,o287b,o289b,o28bc,o28dd,o28fe,o297a,o2beb,o2df5,o2e61,o2e7b,o2e98
PUBLIC o2efe,o2ff4,o2fff,o3o23,o3o47,o3o68,o3o89,o3ofa,o3167,o3172,o319b,o31c8
PUBLIC o3229,o3296,o33oo,o3339,o3372,o33af,o33df,o33fb,o34o6,o3411,o3424,o3437
PUBLIC o34c3,o3575,o35ee,o364c,o37oo,o37a2,o37aa,o37cf,o38d8,o38ef,o3963
PUBLIC o3aof,o3a65,o3bd3,o3cc3,o3ce6,o3d8b,o3dc8,o3e6d,o3f24,o3fb8,o4o9a,o415b
PUBLIC o41f3,o42d1,o4356,o435e

_TEXT SEGMENT WORD PUBLIC 'CODE'

o2o75:
  PUSH BP
  SUB SP,010
  MOV BP,SP
  MOV AX,W[BP+014]
  SHL AX,1
  MOV SI,AX
  MOV W[BP],AX
  MOV AX,W[BP+014]
  MOV BX,03c
  IMUL BX
  MOV BX,W[SI+p3ceo]
  ADD BX,AX
  MOV W[BP+4],AX
  MOV AX,BX
  MOV CX,6
  IMUL CX
  MOV BX,AX
  MOV AX,W[BP+4]
  MOV CX,W[SI+p3ceo]
  ADD CX,AX
  MOV AX,CX
  MOV DX,6
  IMUL DX
  MOV DI,AX
  MOV AX,W[SI+p3ceo]
  ADD AX,W[BP+4]
  MOV CX,6
  IMUL CX
  MOV SI,AX
  PUSH W[SI+p3a1o]
  PUSH W[DI+p3aoe]
  PUSH W[BX+p3aoc]
  CALL o933
  MOV SP,BP
  MOV BX,W[BP+014]
  SHL BX,1
  INC W[BX+p3ceo]
  CMP W[BX+p3ceo],03c
  MOV W[BP+0e],AX
  MOV W[BP],BX
  JL o2oec
  MOV W[BX+p3ceo],0
o2oec:
  MOV AX,W[BP+0e]
  ADD SP,010
  POP BP
  RET

o2of4:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  JMP o214e
o2ofc:
  INC W[p3cfo]
  JMP o215e
o21o2:
  INC W[p3cfo]
  DEC W[p3cf2]
  JMP o215e
o21oc:
  DEC W[p3cf2]
  JMP o215e
o2112:
  DEC W[p3cfo]
  DEC W[p3cf2]
  JMP o215e
o211c:
  DEC W[p3cfo]
  JMP o215e
o2122:
  DEC W[p3cfo]
  INC W[p3cf2]
  JMP o215e
o212c:
  INC W[p3cf2]
  JMP o215e
o2132:
  INC W[p3cfo]
  INC W[p3cf2]
  JMP o215e

o213e:
  DW offset o2ofc,offset o21o2,offset o21oc,offset o2112,offset o211c
  DW offset o2122,offset o212c,offset o2132

o214e:
  MOV SI,AX
  CMP SI,8
  JNB o215e
  SHL SI,1
  CS: JMP W[SI+o213e]
o215e:
  POP BP
  RET

o216o:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  MOV AX,W[BP+8]
  SHL AX,1
  MOV SI,AX
  DEC W[SI+p3ao4]
  MOV BX,W[SI+p3ao4]
  TEST BX,BX
  MOV W[BP],AX
  JNS o2182
  MOV W[SI+p3ao4],7
o2182:
  ADD SP,4
  POP BP
  RET

o2187:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  MOV AX,W[BP+8]
  SHL AX,1
  MOV SI,AX
  INC W[SI+p3ao4]
  CMP W[SI+p3ao4],7
  MOV W[BP],AX
  JLE o21a8
  MOV W[SI+p3ao4],0
o21a8:
  ADD SP,4
  POP BP
  RET

o21ad:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  MOV W[p3d1o],050
  MOV W[p3d12],061
  MOV AX,2
  MOV W[p3d16],AX
  MOV W[p3d14],AX
  CALL o2325
  ADD SP,2
  POP BP
  RET

o21do:
  PUSH BP
  SUB SP,6
  MOV BP,SP
  CALL o586e
  TEST AX,AX
  JZ o21e4
  XOR AX,AX
  ADD SP,6
  POP BP
  RET
o21e4:
  CALL o35ee
  CMP W[p3do4],1
  JZ o21f1
  JMP o2311
o21f1:
  CMP W[p3do2],0
  JZ o21fb
  JMP o2311
o21fb:
  CALL o37oo
  CMP AX,063
  MOV W[BP+4],AX
  JL o22o9
  JMP o2311
o22o9:
  MOV AX,W[p3doo]
  MOV W[p3doe],AX
  CALL o2e7b
  CALL o2e7b
  CALL o2e7b
  CALL o2e7b
  MOV AX,W[p3doe]
  CMP AX,W[BP+4]
  JNZ o2226
  CALL o287b
o2226:
  CALL o37a2
  TEST AX,AX
  JNZ o223o
  JMP o2311
o223o:
  CMP W[p3d16],2
  JNZ o2275
  MOV AX,W[p3cf8]
  MOV BX,W[p3cfa]
  MOV CX,W[p3doo]
  MOV W[p3doa],AX
  MOV W[p3doe],CX
  MOV W[p3doc],BX
  CALL o2e7b
  PUSH W[p3doe]
  CALL o2df5
  MOV SP,BP
  CALL o2e61
  PUSH W[p3doe]
  CALL o2df5
  MOV SP,BP
  MOV AX,W[p3doa]
  MOV BX,W[p3doc]
  MOV W[p3d1c],AX
  MOV W[p3d1e],BX
  JMP o22b1
o2275:
  MOV AX,W[p3cf8]
  MOV BX,W[p3cfa]
  MOV CX,W[p3doo]
  MOV W[p3doa],AX
  MOV W[p3doe],CX
  MOV W[p3doc],BX
  CALL o2e61
  PUSH W[p3doe]
  CALL o2df5
  MOV SP,BP
  CALL o2e7b
  PUSH W[p3doe]
  CALL o2df5
  MOV SP,BP
  MOV AX,W[p3doa]
  MOV BX,W[p3doc]
  MOV W[p3d1c],AX
  MOV W[p3d1e],BX
o22b1:
  MOV AX,W[p3cf8]
  MOV BX,W[p3cfa]
  MOV CX,W[BP+4]
  PUSH CX
  MOV W[p3doa],AX
  MOV W[p3doe],CX
  MOV W[p3doc],BX
  CALL o2df5
  MOV SP,BP
  XOR AX,AX
  PUSH AX
  PUSH W[p3doc]
  PUSH W[p3doa]
  CALL o933
  MOV SP,BP
  MOV W[BP+2],AX
  AND AX,01001
  JZ o2311
  MOV AX,W[p3cf8]
  MOV BX,W[p3cfa]
  MOV CX,W[p3doo]
  XOR DX,DX
  MOV W[p3d1o],AX
  MOV AX,W[p3doe]
  MOV W[p3do8],AX
  MOV W[p3doo],AX
  MOV W[p3d14],CX
  MOV W[p3d1a],DX
  MOV W[p3do6],DX
  MOV W[p3do4],DX
  MOV W[p3d12],BX
o2311:
  CMP W[p3do4],1
  JNZ o231d
  CALL o235f
  JMP o232o
o231d:
  CALL o24be
o232o:
  ADD SP,6
  POP BP
  RET

o2325:
  PUSH BP
  MOV BP,SP
  CALL o35ee
  MOV AX,1
  XOR BX,BX
  MOV CX,W[p3d1o]
  MOV DX,W[p3d12]
  MOV W[p3do4],AX
  MOV W[p3do2],AX
  MOV AX,W[p3d14]
  MOV B[pbb],0
  MOV W[p3doo],AX
  MOV W[p3cf8],CX
  MOV W[p3cfa],DX
  MOV W[p3d22],BX
  MOV W[p3d18],BX
  MOV W[p3do6],BX
  POP BP
  RET

o235f:
  PUSH BP
  SUB SP,6
  MOV BP,SP
  CALL o45d7
  MOV W[p3d18],0
  MOV AX,W[p3cf8]
  MOV BX,W[p3cfa]
  MOV CX,W[p3doo]
  CMP W[p3d16],2
  MOV W[p3cfc],AX
  MOV W[p3doa],AX
  MOV W[p3doe],CX
  MOV W[p3cfe],BX
  MOV W[p3doc],BX
  JNZ o239d
  CALL o2e7b
  CALL o2e7b
  CALL o2e7b
  JMP o23a6
o239d:
  CALL o2e61
  CALL o2e61
  CALL o2e61
o23a6:
  MOV W[BP+2],8
o23ab:
  CMP W[BP+2],0
  JLE o23f4
  MOV AX,W[p3cf8]
  MOV BX,W[p3cfa]
  PUSH W[p3doe]
  MOV W[p3doa],AX
  MOV W[p3doc],BX
  CALL o2df5
  MOV SP,BP
  XOR AX,AX
  PUSH AX
  PUSH W[p3doc]
  PUSH W[p3doa]
  CALL o933
  MOV SP,BP
  MOV W[BP+4],AX
  AND AX,01001
  JNZ o23f4
  CMP W[p3d16],2
  JNZ o23ec
  CALL o2e61
  JMP o23ef
o23ec:
  CALL o2e7b
o23ef:
  DEC W[BP+2]
  JMP o23ab
o23f4:
  MOV W[BP+2],8
o23f9:
  CMP W[BP+2],0
  JLE o245o
  MOV AX,W[p3cf8]
  MOV BX,W[p3cfa]
  PUSH W[p3doe]
  MOV W[p3doa],AX
  MOV W[p3doc],BX
  CALL o2df5
  MOV SP,BP
  XOR AX,AX
  PUSH AX
  PUSH W[p3doc]
  PUSH W[p3doa]
  CALL o933
  MOV SP,BP
  MOV W[BP+4],AX
  AND AX,0880
  JNZ o245o
  CMP W[p3d16],2
  JNZ o243a
  CALL o2e61
  JMP o243d
o243a:
  CALL o2e7b
o243d:
  MOV AX,W[p3cf8]
  MOV BX,W[p3cfa]
  MOV W[p3doa],AX
  MOV W[p3doc],BX
  DEC W[BP+2]
  JMP o23f9
o245o:
  CMP W[p3do2],0
  JZ o245c
  CALL o2beb
  JMP o2475
o245c:
  MOV AX,W[p3doa]
  MOV BX,W[p3doc]
  MOV CX,W[p3doe]
  MOV W[p3cf8],AX
  MOV W[p3doo],CX
  MOV W[p3cfa],BX
  CALL o28dd
o2475:
  CALL o28bc
  MOV W[BP+4],AX
  AND AX,0668
  JZ o2483
  CALL o28fe
o2483:
  MOV AX,W[BP+4]
  AND AX,0100
  JZ o2496
  MOV AX,3
  PUSH AX
  CALL o5858
  MOV SP,BP
  JMP o24ac
o2496:
  MOV AX,W[p3cf8]
  MOV BX,W[p3cfa]
  MOV CX,W[p3doo]
  MOV W[p3d1o],AX
  MOV W[p3d14],CX
  MOV W[p3d12],BX
o24ac:
  CMP W[p3do2],0
  JZ o24b9
  MOV W[p3do2],0
o24b9:
  ADD SP,6
  POP BP
  RET

o24be:
  PUSH BP
  SUB SP,0e
  MOV BP,SP
  MOV AX,W[p3cf8]
  MOV BX,W[p3cfa]
  MOV CX,W[p3doo]
  MOV W[p3cfc],AX
  MOV W[p3doa],AX
  MOV W[p3doe],CX
  MOV W[p3cfe],BX
  MOV W[p3doc],BX
  CALL o37a2
  TEST AX,AX
  JZ o24fo
  CALL o37oo
  MOV W[BP+0a],AX
  JMP o24f5
o24fo:
  MOV W[BP+0a],063
o24f5:
  MOV AX,W[BP+0a]
  CMP AX,063
  JGE o251a
  MOV W[p3doe],AX
  CALL o2e7b
  CALL o2e7b
  CALL o2e7b
  CALL o2e7b
  MOV AX,W[p3doe]
  CMP AX,W[p3do8]
  JNZ o251a
  MOV W[BP+0a],063
o251a:
  MOV AX,W[BP+0a]
  CMP AX,063
  JGE o2561
  MOV W[p3doe],AX
  CALL o2e7b
  CALL o2e7b
  CALL o2e7b
  MOV AX,W[p3doe]
  CMP AX,W[p3do8]
  JNZ o254o
  CALL o2e61
  MOV AX,W[p3doe]
  MOV W[BP+0a],AX
o254o:
  MOV AX,W[BP+0a]
  MOV W[p3doe],AX
  CALL o2e61
  CALL o2e61
  CALL o2e61
  MOV AX,W[p3doe]
  CMP AX,W[p3do8]
  JNZ o2561
  CALL o2e7b
  MOV AX,W[p3doe]
  MOV W[BP+0a],AX
o2561:
  MOV AX,W[p3doo]
  CMP W[p3do6],0
  MOV W[p3doe],AX
  JNZ o257a
  CMP W[BP+0a],063
  JGE o257a
  MOV AX,W[BP+0a]
  MOV W[p3doe],AX
o257a:
  CMP W[BP+0a],063
  JNZ o258c
  CMP W[p3do6],0
  JNZ o258c
  CALL o2868
  JMP o25d2
o258c:
  PUSH W[p3doe]
  CALL o2df5
  MOV SP,BP
  MOV AX,W[p3doa]
  MOV BX,W[p3doc]
  XOR CX,CX
  PUSH CX
  PUSH BX
  PUSH AX
  MOV W[BP+6],AX
  MOV W[BP+8],BX
  CALL o933
  MOV SP,BP
  AND AX,0880
  JZ o25bd
  MOV W[p3do4],1
  MOV W[p3do6],0
o25bd:
  MOV AX,W[BP+6]
  MOV BX,W[BP+8]
  MOV CX,W[p3doe]
  MOV W[p3cf8],AX
  MOV W[p3doo],CX
  MOV W[p3cfa],BX
o25d2:
  MOV AX,W[p3doo]
  MOV W[p3doe],AX
  MOV W[BP+0a],AX
  CALL o2e61
  MOV W[BP+0c],0
o25e3:
  CMP W[BP+0c],3
  JGE o264e
  MOV AX,W[p3cf8]
  MOV BX,W[p3cfa]
  PUSH W[p3doe]
  MOV W[p3doa],AX
  MOV W[p3doc],BX
  CALL o2df5
  MOV SP,BP
  XOR AX,AX
  PUSH AX
  PUSH W[p3doc]
  PUSH W[p3doa]
  CALL o933
  MOV SP,BP
  PUSH W[p3doe]
  MOV W[BP+4],AX
  CALL o2df5
  MOV SP,BP
  XOR AX,AX
  PUSH AX
  PUSH W[p3doc]
  PUSH W[p3doa]
  CALL o933
  MOV SP,BP
  MOV BX,W[BP+4]
  OR BX,AX
  MOV W[BP+4],BX
  AND BX,0880
  JZ o2646
  MOV AX,W[p3doe]
  MOV W[p3do6],1
  MOV W[BP+0a],AX
o2646:
  CALL o2e7b
  INC W[BP+0c]
  JMP o25e3
o264e:
  MOV AX,W[p3doo]
  MOV BX,W[p3cf8]
  MOV CX,W[p3cfa]
  PUSH AX
  MOV W[p3doe],AX
  MOV W[p3doc],CX
  MOV W[p3doa],BX
  CALL o2df5
  MOV SP,BP
  XOR AX,AX
  PUSH AX
  PUSH W[p3doc]
  PUSH W[p3doa]
  CALL o933
  MOV SP,BP
  PUSH W[p3doe]
  MOV W[BP+4],AX
  CALL o2df5
  MOV SP,BP
  XOR AX,AX
  PUSH AX
  PUSH W[p3doc]
  PUSH W[p3doa]
  CALL o933
  MOV SP,BP
  MOV BX,W[BP+4]
  OR BX,AX
  MOV W[BP+4],BX
  AND BX,0880
  JZ o26bo
  MOV AX,W[p3doe]
  MOV W[p3do6],1
  MOV W[BP+0a],AX
o26bo:
  MOV AX,W[p3doo]
  MOV W[p3doe],AX
  CALL o2e61
  MOV W[BP+0c],0
o26be:
  CMP W[BP+0c],3
  JGE o27o7
  MOV AX,W[p3cf8]
  MOV BX,W[p3cfa]
  PUSH W[p3doe]
  MOV W[p3doa],AX
  MOV W[p3doc],BX
  CALL o2df5
  MOV SP,BP
  XOR AX,AX
  PUSH AX
  PUSH W[p3doc]
  PUSH W[p3doa]
  CALL o933
  MOV SP,BP
  MOV W[BP+4],AX
  AND AX,0880
  JZ o26ff
  MOV AX,W[p3doe]
  MOV W[p3do6],1
  MOV W[BP+0a],AX
o26ff:
  CALL o2e7b
  INC W[BP+0c]
  JMP o26be
o27o7:
  MOV AX,W[p3doo]
  MOV BX,W[p3cf8]
  MOV CX,W[p3cfa]
  PUSH AX
  MOV W[p3doe],AX
  MOV W[p3doc],CX
  MOV W[p3doa],BX
  CALL o2df5
  MOV SP,BP
  XOR AX,AX
  PUSH AX
  PUSH W[p3doc]
  PUSH W[p3doa]
  CALL o933
  MOV SP,BP
  MOV W[BP+4],AX
  AND AX,0880
  JZ o2747
  MOV AX,W[p3doe]
  MOV W[p3do6],1
  MOV W[BP+0a],AX
o2747:
  MOV AX,W[BP+0a]
  MOV W[p3doo],AX
  CALL o289b
  AND AX,08000
  JZ o276d
  CMP W[p3do6],0
  JNZ o276d
  MOV AX,W[p3cfc]
  MOV BX,W[p3cfe]
  MOV W[p3cf8],AX
  MOV W[p3cfa],BX
  CALL o2868
o276d:
  CALL o28dd
  CMP W[p3do4],0
  JNZ o27e1
  MOV AX,W[p3doo]
  XOR BX,BX
  PUSH BX
  PUSH W[p3cfa]
  PUSH W[p3cf8]
  MOV W[p3do8],AX
  CALL o933
  MOV SP,BP
  AND AX,1
  JNZ o2795
  JMP o283f
o2795:
  MOV AX,0f
  PUSH AX
  PUSH W[p3cfa]
  PUSH W[p3cf8]
  CALL o933
  MOV SP,BP
  MOV AX,W[p3d1a]
  SHL AX,1
  MOV SI,AX
  MOV BX,W[p3cf8]
  MOV W[SI+p3d24],BX
  MOV AX,W[p3cfa]
  MOV W[SI+p4cc4],AX
  MOV AX,W[p3d1a]
  INC AX
  CMP AX,2000
  MOV W[p3d1a],AX
  JL o27d1
  MOV AX,3
  PUSH AX
  CALL o5858
  MOV SP,BP
o27d1:
  MOV AX,W[p3d18]
  TEST AX,AX
  JZ o27dc
  DEC W[p3d18]
o27dc:
  CALL o45d7
  JMP o283f
o27e1:
  CMP W[p3d1a],1
  JLE o2824
  MOV AX,W[p3cfc]
  MOV BX,W[p3cfe]
  MOV B[pbb],0
  MOV W[p3d18],0
  MOV W[p3cf8],AX
  MOV W[p3cfa],BX
  CALL o2efe
  XOR AX,AX
  PUSH AX
  PUSH W[p3d1e]
  PUSH W[p3d1c]
  CALL o933
  MOV SP,BP
  AND AX,096
  JNZ o281c
  CALL o287b
o281c:
  MOV W[p3d22],0
  JMP o283f
o2824:
  CALL o2e98
  CMP W[p3d22],0
  JZ o2839
  CALL o287b
  MOV W[p3d22],0
  JMP o283f
o2839:
  MOV W[p3d22],1
o283f:
  CMP W[p3d18],064
  JLE o284f
  MOV AX,3
  PUSH AX
  CALL o5858
  MOV SP,BP
o284f:
  CALL o28bc
  MOV W[BP+4],AX
  AND AX,0768
  JZ o2863
  MOV AX,3
  PUSH AX
  CALL o5858
  MOV SP,BP
o2863:
  ADD SP,0e
  POP BP
  RET

o2868:
  PUSH BP
  MOV BP,SP
  ADD W[p3d18],5
  PUSH W[p3d18]
  CALL o462o
  MOV SP,BP
  POP BP
  RET

o287b:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  CMP W[p3d16],2
  JNZ o289o
  MOV W[p3d16],1
  JMP o2896
o289o:
  MOV W[p3d16],2
o2896:
  ADD SP,2
  POP BP
  RET

o289b:
  PUSH BP
  SUB SP,6
  MOV BP,SP
  MOV AX,W[p3cf8]
  DEC AX
  DEC AX
  MOV BX,W[p3cfa]
  DEC BX
  DEC BX
  MOV CX,offset p5c7f
  PUSH CX
  PUSH BX
  PUSH AX
  CALL oc63
  MOV SP,BP
  ADD SP,6
  POP BP
  RET

o28bc:
  PUSH BP
  SUB SP,6
  MOV BP,SP
  MOV AX,W[p3cf8]
  DEC AX
  DEC AX
  MOV BX,W[p3cfa]
  DEC BX
  DEC BX
  MOV CX,offset p5c64
  PUSH CX
  PUSH BX
  PUSH AX
  CALL oc63
  MOV SP,BP
  ADD SP,6
  POP BP
  RET

o28dd:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  MOV AX,W[p3cfc]
  DEC AX
  DEC AX
  MOV BX,W[p3cfe]
  DEC BX
  DEC BX
  MOV CX,offset p5c64
  PUSH CX
  PUSH BX
  PUSH AX
  CALL oc63
  MOV SP,BP
  ADD SP,4
  POP BP
  RET

o28fe:
  PUSH BP
  SUB SP,8
  MOV BP,SP
  CALL o3o47
  MOV AX,2
  MOV BX,W[p3cfa]
  DEC BX
  DEC BX
  MOV W[BP+6],AX
  MOV W[BP+4],BX
o2916:
  MOV AX,W[p3cfa]
  ADD AX,3
  MOV BX,W[BP+4]
  CMP BX,AX
  JGE o2972
  MOV AX,W[p3cf8]
  DEC AX
  DEC AX
  MOV W[BP+2],AX
o292b:
  MOV AX,W[p3cf8]
  ADD AX,3
  MOV BX,W[BP+2]
  CMP BX,AX
  JGE o296d
  XOR AX,AX
  PUSH AX
  PUSH W[BP+4]
  PUSH BX
  CALL o933
  MOV SP,BP
  AND AX,0668
  JZ o2965
  MOV SI,W[BP+6]
  MOV AL,B[SI+p5c64]
  XOR AH,AH
  CMP AX,0c
  JNZ o2965
  XOR AX,AX
  PUSH AX
  PUSH W[BP+4]
  PUSH W[BP+2]
  CALL o9ob
  MOV SP,BP
o2965:
  INC W[BP+6]
  INC W[BP+2]
  JMP o292b
o296d:
  INC W[BP+4]
  JMP o2916
o2972:
  CALL o3o68
  ADD SP,8
  POP BP
  RET

o297a:
  PUSH BP
  SUB SP,034
  MOV BP,SP
  CALL o48bd
  CMP W[p3do2],0
  JZ o298d
  JMP o2be6
o298d:
  CALL o28bc
  MOV AX,2
  MOV W[BP+0e],AX
  MOV BX,2
  CWD
  IDIV BX
  MOV W[BP+0c],AX
  MOV AX,BX
  MOV W[BP+012],AX
  CWD
  IDIV BX
  MOV BX,W[p3cf8]
  MOV CX,W[p3cfa]
  XOR DX,DX
  MOV W[BP+010],AX
  MOV W[BP+032],CX
  MOV W[BP+02e],CX
  MOV W[BP+02a],CX
  MOV W[BP+026],CX
  MOV W[BP+022],CX
  MOV W[BP+01e],CX
  MOV W[BP+01a],CX
  MOV W[BP+016],CX
  MOV W[BP+8],DX
  MOV W[BP+0a],DX
  MOV W[BP+030],BX
  MOV W[BP+02c],BX
  MOV W[BP+028],BX
  MOV W[BP+024],BX
  MOV W[BP+020],BX
  MOV W[BP+01c],BX
  MOV W[BP+018],BX
  MOV W[BP+014],BX
o29ea:
  CMP W[BP+0a],02d
  JL o29f3
  JMP o2beo
o29f3:
  CMP W[BP+8],02d
  JL o29fc
  JMP o2ae8
o29fc:
  MOV AX,W[BP+014]
  INC AX
  INC AX
  MOV BX,W[BP+016]
  INC BX
  INC BX
  ADD W[BP+018],2
  SUB W[BP+01a],2
  SUB W[BP+01c],2
  SUB W[BP+01e],2
  SUB W[BP+020],2
  ADD W[BP+022],2
  MOV W[BP+014],AX
  MOV AX,W[BP+0e]
  MOV CX,2
  CWD
  IDIV CX
  MOV CX,W[BP+014]
  MOV W[BP+0c],AX
  ADD AX,CX
  MOV DX,W[BP+0c]
  MOV W[BP+016],BX
  SUB BX,DX
  SUB CX,DX
  MOV W[BP],AX
  MOV AX,W[BP+016]
  ADD AX,DX
  MOV DX,0c
  PUSH DX
  PUSH AX
  PUSH CX
  PUSH BX
  PUSH W[BP]
  CALL ob18
  MOV SP,BP
  CALL o48d7
  MOV AX,W[BP+0c]
  MOV BX,W[BP+018]
  SUB BX,AX
  MOV CX,W[BP+01a]
  SUB CX,AX
  MOV DX,W[BP+018]
  ADD DX,AX
  MOV W[BP],BX
  MOV BX,W[BP+01a]
  ADD BX,AX
  MOV AX,0c
  PUSH AX
  PUSH BX
  PUSH DX
  PUSH CX
  PUSH W[BP]
  CALL ob18
  MOV SP,BP
  CALL o48d7
  MOV AX,W[BP+01c]
  MOV BX,W[BP+0c]
  ADD BX,AX
  MOV CX,W[BP+0c]
  MOV DX,W[BP+01e]
  SUB DX,CX
  SUB AX,CX
  MOV W[BP+4],AX
  MOV AX,W[BP+01e]
  ADD AX,CX
  MOV CX,0c
  PUSH CX
  PUSH AX
  PUSH W[BP+4]
  PUSH DX
  PUSH BX
  CALL ob18
  MOV SP,BP
  CALL o48d7
  MOV AX,W[BP+0c]
  MOV BX,W[BP+020]
  SUB BX,AX
  MOV CX,W[BP+022]
  SUB CX,AX
  MOV DX,W[BP+020]
  ADD DX,AX
  MOV W[BP],BX
  MOV BX,W[BP+022]
  ADD BX,AX
  MOV AX,0c
  PUSH AX
  PUSH BX
  PUSH DX
  PUSH CX
  PUSH W[BP]
  CALL ob18
  MOV SP,BP
  CALL o48d7
  MOV AX,W[BP+0e]
  CMP AX,01e
  JGE o2ae5
  INC W[BP+0e]
o2ae5:
  INC W[BP+8]
o2ae8:
  CMP W[BP+8],010
  JG o2af1
  JMP o29ea
o2af1:
  MOV AX,W[BP+024]
  INC AX
  INC AX
  MOV BX,W[BP+026]
  INC BX
  INC BX
  ADD W[BP+028],2
  SUB W[BP+02a],2
  SUB W[BP+02c],2
  SUB W[BP+02e],2
  SUB W[BP+030],2
  ADD W[BP+032],2
  MOV W[BP+024],AX
  MOV AX,W[BP+012]
  MOV CX,2
  CWD
  IDIV CX
  MOV CX,W[BP+024]
  MOV W[BP+010],AX
  ADD AX,CX
  MOV DX,W[BP+010]
  MOV W[BP+026],BX
  SUB BX,DX
  SUB CX,DX
  MOV W[BP],AX
  MOV AX,W[BP+026]
  ADD AX,DX
  MOV DX,0c
  PUSH DX
  PUSH AX
  PUSH CX
  PUSH BX
  PUSH W[BP]
  CALL ob18
  MOV SP,BP
  CALL o48d7
  MOV AX,W[BP+010]
  MOV BX,W[BP+028]
  SUB BX,AX
  MOV CX,W[BP+02a]
  SUB CX,AX
  MOV DX,W[BP+028]
  ADD DX,AX
  MOV W[BP],BX
  MOV BX,W[BP+02a]
  ADD BX,AX
  MOV AX,0c
  PUSH AX
  PUSH BX
  PUSH DX
  PUSH CX
  PUSH W[BP]
  CALL ob18
  MOV SP,BP
  CALL o48d7
  MOV AX,W[BP+02c]
  MOV BX,W[BP+010]
  ADD BX,AX
  MOV CX,W[BP+010]
  MOV DX,W[BP+02e]
  SUB DX,CX
  SUB AX,CX
  MOV W[BP+4],AX
  MOV AX,W[BP+02e]
  ADD AX,CX
  MOV CX,0c
  PUSH CX
  PUSH AX
  PUSH W[BP+4]
  PUSH DX
  PUSH BX
  CALL ob18
  MOV SP,BP
  CALL o48d7
  MOV AX,W[BP+010]
  MOV BX,W[BP+030]
  SUB BX,AX
  MOV CX,W[BP+032]
  SUB CX,AX
  MOV DX,W[BP+030]
  ADD DX,AX
  MOV W[BP],BX
  MOV BX,W[BP+032]
  ADD BX,AX
  MOV AX,0c
  PUSH AX
  PUSH BX
  PUSH DX
  PUSH CX
  PUSH W[BP]
  CALL ob18
  MOV SP,BP
  CALL o48d7
  MOV AX,W[BP+012]
  CMP AX,01e
  JGE o2bda
  INC W[BP+012]
o2bda:
  INC W[BP+0a]
  JMP o29ea
o2beo:
  CALL o2325
  CALL o2e98
o2be6:
  ADD SP,034
  POP BP
  RET

o2beb:
  PUSH BP
  SUB SP,02a
  MOV BP,SP
  CALL o49oa
  CMP W[p3do2],0
  JNZ o2bfe
  JMP o2dfo
o2bfe:
  MOV AX,W[p3cf8]
  MOV BX,W[p3cfa]
  MOV W[BP+2],0
  MOV W[BP+026],AX
  MOV W[BP+022],AX
  MOV W[BP+01e],AX
  MOV W[BP+01a],AX
  MOV W[BP+016],AX
  MOV W[BP+012],AX
  MOV W[BP+0e],AX
  MOV W[BP+0a],AX
  MOV W[BP+028],BX
  MOV W[BP+024],BX
  MOV W[BP+020],BX
  MOV W[BP+01c],BX
  MOV W[BP+018],BX
  MOV W[BP+014],BX
  MOV W[BP+010],BX
  MOV W[BP+0c],BX
o2c3a:
  CMP W[BP+2],028
  JGE o2c85
  ADD W[BP+0a],2
  ADD W[BP+0c],2
  ADD W[BP+0e],2
  SUB W[BP+010],2
  SUB W[BP+012],2
  SUB W[BP+014],2
  SUB W[BP+016],2
  ADD W[BP+018],2
  ADD W[BP+01a],2
  ADD W[BP+01c],2
  ADD W[BP+01e],2
  SUB W[BP+020],2
  SUB W[BP+022],2
  SUB W[BP+024],2
  SUB W[BP+026],2
  ADD W[BP+028],2
  INC W[BP+2]
  JMP o2c3a
o2c85:
  MOV AX,028
  MOV W[BP+2],AX
  MOV W[BP+4],AX
o2c8e:
  CMP W[BP+4],0
  JNZ o2c97
  JMP o2dfo
o2c97:
  CMP W[BP+2],0
  JNZ o2cao
  JMP o2d42
o2cao:
  SUB W[BP+0a],2
  SUB W[BP+0c],2
  SUB W[BP+0e],2
  ADD W[BP+010],2
  ADD W[BP+012],2
  ADD W[BP+014],2
  ADD W[BP+016],2
  SUB W[BP+018],2
  MOV AX,0c
  PUSH AX
  PUSH W[BP+0c]
  PUSH W[BP+0a]
  CALL o933
  MOV SP,BP
  MOV AX,0c
  PUSH AX
  PUSH W[p3cfa]
  PUSH W[BP+0a]
  CALL o933
  MOV SP,BP
  MOV AX,0c
  PUSH AX
  PUSH W[BP+010]
  PUSH W[BP+0e]
  CALL o933
  MOV SP,BP
  MOV AX,0c
  PUSH AX
  PUSH W[BP+010]
  PUSH W[p3cf8]
  CALL o933
  MOV SP,BP
  MOV AX,0c
  PUSH AX
  PUSH W[BP+014]
  PUSH W[BP+012]
  CALL o933
  MOV SP,BP
  MOV AX,0c
  PUSH AX
  PUSH W[p3cfa]
  PUSH W[BP+012]
  CALL o933
  MOV SP,BP
  MOV AX,0c
  PUSH AX
  PUSH W[BP+018]
  PUSH W[p3cf8]
  CALL o933
  MOV SP,BP
  MOV AX,0c
  PUSH AX
  PUSH W[BP+018]
  PUSH W[BP+016]
  CALL o933
  MOV SP,BP
  CALL o492a
  DEC W[BP+2]
o2d42:
  CMP W[BP+2],014
  JL o2d4b
  JMP o2c8e
o2d4b:
  SUB W[BP+01a],2
  SUB W[BP+01c],2
  SUB W[BP+01e],2
  ADD W[BP+020],2
  ADD W[BP+022],2
  ADD W[BP+024],2
  ADD W[BP+026],2
  SUB W[BP+028],2
  MOV AX,0c
  PUSH AX
  PUSH W[BP+01c]
  PUSH W[BP+01a]
  CALL o933
  MOV SP,BP
  MOV AX,0c
  PUSH AX
  PUSH W[p3cfa]
  PUSH W[BP+01a]
  CALL o933
  MOV SP,BP
  MOV AX,0c
  PUSH AX
  PUSH W[BP+020]
  PUSH W[BP+01e]
  CALL o933
  MOV SP,BP
  MOV AX,0c
  PUSH AX
  PUSH W[BP+020]
  PUSH W[p3cf8]
  CALL o933
  MOV SP,BP
  MOV AX,0c
  PUSH AX
  PUSH W[BP+024]
  PUSH W[BP+022]
  CALL o933
  MOV SP,BP
  MOV AX,0c
  PUSH AX
  PUSH W[p3cfa]
  PUSH W[BP+022]
  CALL o933
  MOV SP,BP
  MOV AX,0c
  PUSH AX
  PUSH W[BP+028]
  PUSH W[p3cf8]
  CALL o933
  MOV SP,BP
  MOV AX,0c
  PUSH AX
  PUSH W[BP+028]
  PUSH W[BP+026]
  CALL o933
  MOV SP,BP
  CALL o492a
  DEC W[BP+4]
  JMP o2c8e
o2dfo:
  ADD SP,02a
  POP BP
  RET

o2df5:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  JMP o2e4f
o2dfd:
  INC W[p3doa]
  JMP o2e5f
o2eo3:
  INC W[p3doa]
  DEC W[p3doc]
  JMP o2e5f
o2eod:
  DEC W[p3doc]
  JMP o2e5f
o2e13:
  DEC W[p3doa]
  DEC W[p3doc]
  JMP o2e5f
o2e1d:
  DEC W[p3doa]
  JMP o2e5f
o2e23:
  DEC W[p3doa]
  INC W[p3doc]
  JMP o2e5f
o2e2d:
  INC W[p3doc]
  JMP o2e5f
o2e33:
  INC W[p3doa]
  INC W[p3doc]
  JMP o2e5f

o2e3f:
  DW offset o2dfd,offset o2eo3,offset o2eod,offset o2e13,offset o2e1d
  DW offset o2e23,offset o2e2d,offset o2e33

o2e4f:
  MOV SI,AX
  CMP SI,8
  JNB o2e5f
  SHL SI,1
  CS: JMP W[SI+o2e3f]
o2e5f:
  POP BP
  RET

o2e61:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  MOV AX,W[p3doe]
  DEC AX
  MOV W[p3doe],AX
  JGE o2e76
  MOV W[p3doe],7
o2e76:
  ADD SP,2
  POP BP
  RET

o2e7b:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  MOV AX,W[p3doe]
  INC AX
  CMP AX,7
  MOV W[p3doe],AX
  JLE o2e93
  MOV W[p3doe],0
o2e93:
  ADD SP,2
  POP BP
  RET

o2e98:
  PUSH BP
  SUB SP,0e
  MOV BP,SP
  MOV W[BP+0a],0
o2ea3:
  MOV AX,W[p3d1a]
  MOV BX,W[BP+0a]
  CMP BX,AX
  JGE o2ef9
  TEST AX,AX
  JLE o2ef9
  SHL BX,1
  XOR AX,AX
  PUSH AX
  PUSH W[BX+p4cc4]
  PUSH W[BX+p3d24]
  CALL o9ob
  MOV SP,BP
  MOV W[BP+0c],AX
  AND AX,08080
  JNZ o2ef4
  MOV AX,W[BP+0a]
  SHL AX,1
  MOV SI,AX
  PUSH W[BP+0c]
  MOV W[BP+4],SI
  MOV W[BP+2],SI
  CALL o34c3
  MOV SP,BP
  PUSH AX
  MOV SI,W[BP+4]
  PUSH W[SI+p4cc4]
  MOV SI,W[BP+2]
  PUSH W[SI+p3d24]
  CALL o9ob
  MOV SP,BP
o2ef4:
  INC W[BP+0a]
  JMP o2ea3
o2ef9:
  ADD SP,0e
  POP BP
  RET

o2efe:
  PUSH BP
  SUB SP,0c
  MOV BP,SP
  CALL o4631
  MOV W[BP+8],0
o2foc:
  MOV AX,W[BP+8]
  CMP AX,W[p3d1a]
  JGE o2f2f
  SHL AX,1
  MOV SI,AX
  MOV AX,7
  PUSH AX
  PUSH W[SI+p4cc4]
  PUSH W[SI+p3d24]
  CALL o9ob
  MOV SP,BP
  INC W[BP+8]
  JMP o2foc
o2f2f:
  MOV W[pd1],0
  CALL o18ec
  CALL o1a11
  PUSH W[p3d2o]
  CALL o64o
  MOV SP,BP
  MOV W[pcb],0
  PUSH W[p3d2o]
  PUSH W[p38ce]
  PUSH W[p38ca]
  CALL o9ob
  MOV SP,BP
  CALL o46ca
  CALL o46ca
  CALL o46ca
  CALL o46ca
  CALL o46ca
  CALL o46ca
  CALL o46ca
  MOV AX,7
  PUSH AX
  XOR AX,AX
  PUSH AX
  PUSH W[p38ce]
  PUSH W[p38ca]
  CALL o3o89
  MOV SP,BP
  CALL o47o7
  CALL o47o7
  CALL o47o7
  CALL o47o7
  CALL o18bf
  CALL o18ec
  MOV W[pcb],1
  CALL o5c3
  MOV AX,W[pd1]
  ADD AX,W[p3d1a]
  MOV W[pd1],AX
  CALL o5d66
  MOV SI,offset p5c9a
  PUSH SI
  CALL o5ca2
  MOV SI,offset p5ca2
  PUSH SI
  CALL o5993
  LEA SI,W[BP]
  MOV W[SI+6],AX
  MOV W[SI+4],BX
  MOV W[SI+2],CX
  MOV W[SI],DX
  MOV SI,offset p5caa
  MOV AX,W[SI+6]
  MOV BX,W[SI+4]
  MOV CX,W[SI+2]
  MOV DX,W[SI]
  LEA SI,W[BP]
  PUSH SI
  CALL o5f1b
  CALL o5dce
  PUSH AX
  MOV W[BP+8],AX
  CALL o3963
  MOV SP,BP
  MOV W[p3d1a],0
  ADD SP,0c
  POP BP
  RET

o2ff4:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  MOV W[p3d2o],AX
  POP BP
  RET

o2fff:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  MOV AX,W[BP+6]
  MOV BX,7
  IMUL BX
  ADD AX,01e
  MOV BX,offset p5c7f
  PUSH BX
  MOV BX,2
  PUSH BX
  PUSH AX
  CALL oc43
  MOV SP,BP
  ADD SP,2
  POP BP
  RET

o3o23:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  MOV AX,W[BP+6]
  MOV BX,7
  IMUL BX
  ADD AX,01e
  MOV BX,offset p5c64
  PUSH BX
  MOV BX,2
  PUSH BX
  PUSH AX
  CALL oc43
  MOV SP,BP
  ADD SP,2
  POP BP
  RET

o3o47:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  MOV AX,W[p3cf8]
  DEC AX
  DEC AX
  MOV BX,W[p3cfa]
  DEC BX
  DEC BX
  MOV CX,offset p5c64
  PUSH CX
  PUSH BX
  PUSH AX
  CALL oc63
  MOV SP,BP
  ADD SP,4
  POP BP
  RET

o3o68:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  MOV AX,W[p3cf8]
  DEC AX
  DEC AX
  MOV BX,W[p3cfa]
  DEC BX
  DEC BX
  MOV CX,offset p5c64
  PUSH CX
  PUSH BX
  PUSH AX
  CALL oc63
  MOV SP,BP
  ADD SP,4
  POP BP
  RET

o3o89:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  XOR AX,AX
  MOV BX,W[BP+6]
  MOV CX,W[BP+8]
  PUSH W[BP+0c]
  MOV W[p5cd6],AX
  MOV W[p5cd4],AX
  MOV W[p5cb4],CX
  MOV W[p5cb2],BX
  CALL o3437
  MOV SP,BP
  MOV BX,W[BP+0a]
  PUSH BX
  MOV W[p5cca],AX
  MOV W[p5cc2],BX
  CALL o3437
  MOV SP,BP
  XOR BX,BX
  PUSH BX
  PUSH W[p5cb4]
  PUSH W[p5cb2]
  MOV W[p5cc6],AX
  CALL o933
  MOV SP,BP
  PUSH AX
  MOV W[p5cc8],AX
  CALL o34c3
  MOV SP,BP
  MOV W[p5ccc],0
  MOV BX,W[p5cc8]
  CMP BX,W[p5cc6]
  MOV W[p5cc4],AX
  JZ o3of2
  AND BX,08080
  JZ o3ofa
o3of2:
  MOV AX,1
  ADD SP,2
  POP BP
  RET

o3ofa:
  MOV AX,W[p5cb4]
  MOV W[p5cbc],AX
  CALL o3372
o31o3:
  CALL o33df
  TEST AX,AX
  JZ o315f
  CALL o33af
  XOR AX,AX
  PUSH AX
  PUSH W[p5cb4]
  PUSH W[p5cb2]
  CALL o933
  MOV SP,BP
  CMP AX,W[p5cc6]
  JZ o31o3
  CALL o3167
  CALL o31c8
  CALL o33oo
  TEST AX,AX
  JZ o3135
  CALL o3229
  JMP o3147
o3135:
  CALL o3339
  TEST AX,AX
  JZ o3141
  CALL o3296
  JMP o3147
o3141:
  CALL o3229
  CALL o3296
o3147:
  MOV AX,W[p5cb4]
  MOV BX,W[p5cb6]
  MOV CX,W[p5cb8]
  MOV W[p5cbc],AX
  MOV W[p5cco],CX
  MOV W[p5cbe],BX
  JMP o31o3
o315f:
  MOV AX,W[p5ccc]
  ADD SP,2
  POP BP
  RET

o3167:
  PUSH BP
  MOV BP,SP
  CALL o3172
  CALL o319b
  POP BP
  RET

o3172:
  PUSH BP
  SUB SP,6
  MOV BP,SP
  CALL o33fb
  PUSH W[p5cc2]
  PUSH W[p5cb4]
  PUSH W[p5cb2]
  CALL o793
  MOV SP,BP
  MOV W[p5cb2],AX
  DEC AX
  MOV W[p5cb8],AX
  CALL o34o6
  ADD SP,6
  POP BP
  RET

o319b:
  PUSH BP
  SUB SP,6
  MOV BP,SP
  CALL o33fb
  DEC W[p5cb2]
  PUSH W[p5cc2]
  PUSH W[p5cb4]
  PUSH W[p5cb2]
  CALL o82b
  MOV SP,BP
  MOV W[p5cb2],AX
  INC AX
  MOV W[p5cb6],AX
  CALL o34o6
  ADD SP,6
  POP BP
  RET

o31c8:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  CALL o3411
  MOV AX,W[p5cb6]
  INC W[p5cb4]
  CMP AX,W[p5cb8]
  MOV W[p5cb2],AX
  JNZ o31fa
  XOR AX,AX
  PUSH AX
  PUSH W[p5cb4]
  PUSH W[p5cb2]
  CALL o933
  MOV SP,BP
  CMP AX,W[p5cc8]
  JNZ o31fa
  CALL o3372
o31fa:
  SUB W[p5cb4],2
  MOV AX,W[p5cb2]
  CMP AX,W[p5cb8]
  JNZ o3221
  XOR AX,AX
  PUSH AX
  PUSH W[p5cb4]
  PUSH W[p5cb2]
  CALL o933
  MOV SP,BP
  CMP AX,W[p5cc8]
  JNZ o3221
  CALL o3372
o3221:
  CALL o3424
  ADD SP,2
  POP BP
  RET

o3229:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  MOV AX,W[p5cb4]
  INC AX
  CMP AX,063
  JLE o324o
  MOV AX,1
  ADD SP,2
  POP BP
  RET
o324o:
  CALL o3411
  MOV AX,W[p5cb6]
  INC W[p5cb4]
  MOV W[p5cb2],AX
o324d:
  MOV AX,W[p5cb2]
  CMP AX,W[p5cb8]
  JGE o328e
  PUSH W[p5cb8]
  PUSH W[p5cc4]
  PUSH W[p5cb4]
  PUSH AX
  CALL o71d
  MOV SP,BP
  CMP AX,W[p5cb8]
  MOV W[p5cb2],AX
  JG o328e
  CALL o3372
  PUSH W[p5cb8]
  PUSH W[p5cc4]
  PUSH W[p5cb4]
  PUSH W[p5cb2]
  CALL o6a7
  MOV SP,BP
  MOV W[p5cb2],AX
  JMP o324d
o328e:
  CALL o3424
  ADD SP,2
  POP BP
  RET

o3296:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  MOV AX,W[p5cb4]
  DEC AX
  JGE o32aa
  MOV AX,1
  ADD SP,2
  POP BP
  RET
o32aa:
  CALL o3411
  MOV AX,W[p5cb6]
  DEC W[p5cb4]
  MOV W[p5cb2],AX
o32b7:
  MOV AX,W[p5cb2]
  CMP AX,W[p5cb8]
  JGE o32f8
  PUSH W[p5cb8]
  PUSH W[p5cc4]
  PUSH W[p5cb4]
  PUSH AX
  CALL o71d
  MOV SP,BP
  CMP AX,W[p5cb8]
  MOV W[p5cb2],AX
  JG o32f8
  CALL o3372
  PUSH W[p5cb8]
  PUSH W[p5cc4]
  PUSH W[p5cb4]
  PUSH W[p5cb2]
  CALL o6a7
  MOV SP,BP
  MOV W[p5cb2],AX
  JMP o32b7
o32f8:
  CALL o3424
  ADD SP,2
  POP BP
  RET

o33oo:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  MOV AX,W[p5cbc]
  INC AX
  MOV BX,W[p5cb4]
  CMP BX,AX
  JNZ o3332
  MOV AX,W[p5cbe]
  DEC AX
  MOV BX,W[p5cb6]
  CMP BX,AX
  JLE o3332
  MOV AX,W[p5cco]
  INC AX
  MOV BX,W[p5cb8]
  CMP BX,AX
  JGE o3332
  MOV AX,1
  ADD SP,2
  POP BP
  RET
o3332:
  XOR AX,AX
  ADD SP,2
  POP BP
  RET

o3339:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  MOV AX,W[p5cbc]
  DEC AX
  MOV BX,W[p5cb4]
  CMP BX,AX
  JNZ o336b
  MOV AX,W[p5cbe]
  DEC AX
  MOV BX,W[p5cb6]
  CMP BX,AX
  JLE o336b
  MOV AX,W[p5cco]
  INC AX
  MOV BX,W[p5cb8]
  CMP BX,AX
  JGE o336b
  MOV AX,1
  ADD SP,2
  POP BP
  RET
o336b:
  XOR AX,AX
  ADD SP,2
  POP BP
  RET

o3372:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  MOV AX,W[p5cd4]
  SHL AX,1
  MOV SI,AX
  MOV BX,W[p5cb2]
  MOV W[SI+p5cd8],BX
  MOV AX,W[p5cb4]
  MOV W[SI+p64a8],AX
  MOV AX,W[p5cd4]
  INC AX
  CMP AX,W[p5cd6]
  MOV W[p5cd4],AX
  JLE o339e
  MOV W[p5cd6],AX
o339e:
  MOV AX,W[p5cd4]
  CMP AX,03e8
  JL o33aa
  DEC W[p5cd4]
o33aa:
  ADD SP,4
  POP BP
  RET

o33af:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  MOV AX,W[p5cd4]
  DEC AX
  MOV W[p5cd4],AX
  JGE o33c4
  MOV W[p5cd4],0
o33c4:
  MOV AX,W[p5cd4]
  SHL AX,1
  MOV SI,AX
  MOV BX,W[SI+p5cd8]
  MOV AX,W[SI+p64a8]
  MOV W[p5cb4],AX
  MOV W[p5cb2],BX
  ADD SP,4
  POP BP
  RET

o33df:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  CMP W[p5cd4],0
  JLE o33f4
  MOV AX,1
  ADD SP,2
  POP BP
  RET
o33f4:
  XOR AX,AX
  ADD SP,2
  POP BP
  RET

o33fb:
  PUSH BP
  MOV BP,SP
  MOV AX,W[p5cb2]
  MOV W[p5cce],AX
  POP BP
  RET

o34o6:
  PUSH BP
  MOV BP,SP
  MOV AX,W[p5cce]
  MOV W[p5cb2],AX
  POP BP
  RET

o3411:
  PUSH BP
  MOV BP,SP
  MOV AX,W[p5cb2]
  MOV BX,W[p5cb4]
  MOV W[p5cdo],AX
  MOV W[p5cd2],BX
  POP BP
  RET

o3424:
  PUSH BP
  MOV BP,SP
  MOV AX,W[p5cdo]
  MOV BX,W[p5cd2]
  MOV W[p5cb2],AX
  MOV W[p5cb4],BX
  POP BP
  RET

o3437:
  PUSH BP
  MOV BP,SP
  PUSH CX
  MOV CX,W[BP+4]
  MOV AX,CX
  CMP CX,010
  JNB o34c1
  MOV AX,1
  SHL AX,CL
o34c1:
  POP CX
  POP BP
  RET

o34c3:
  PUSH BP
  MOV BP,SP
  PUSH BX
  PUSH CX
  MOV AX,W[BP+4]
  MOV CX,1
  XOR BX,BX
l1:
  CMP AX,CX
  JZ l2
  SHL CX,1
  INC BX
  CMP BX,010
  JGE l3
  JMP l1
l2:
  MOV AX,BX
l3:
  POP CX
  POP BX
  POP BP
  RET

o3575:
  PUSH BP
  SUB SP,6
  MOV BP,SP
  MOV AL,063
  XOR BX,BX
  MOV W[p6c82],1
  MOV B[pd4],AL
  MOV B[pd3],AL
  MOV W[BP+4],BX
  MOV W[p6c84],BX
o3592:
  CMP W[BP+4],0a
  JGE o35e9
  MOV DX,0201
  XOR AL,AL
  OUT DX,AL
  IN AL,DX
  AND AX,3
  JNZ o35b8
  MOV W[p6c82],0
o35b8:
  MOV W[BP+2],0
o35bd:
  IN AL,DX
  AND AX,3
  JZ o35d7
  CMP W[BP+2],0ff
  JGE o35d7
  INC W[BP+2]
  JMP o35bd
o35d7:
  CMP W[BP+2],0fa
  JLE o35e4
  MOV W[p6c82],0
o35e4:
  INC W[BP+4]
  JMP o3592
o35e9:
  ADD SP,6
  POP BP
  RET

o35ee:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  MOV AL,B[pd4]
  XOR AH,AH
  MOV BL,B[pd3]
  XOR BH,BH
  CMP BX,063
  MOV W[p6c78],AX
  MOV W[BP],BX
  JGE o36oe
  MOV W[p6c78],BX
o36oe:
  MOV B[pd4],063
  CMP B[pba],0
  JZ o3622
  MOV W[p6c84],1
  JMP o3628
o3622:
  MOV W[p6c84],0
o3628:
  CMP W[p6c82],0
  JZ o3647
  CALL o4f2
  CMP W[pd9],0
  JZ o3641
  MOV W[p6c84],1
  JMP o3647
o3641:
  MOV W[p6c84],0
o3647:
  ADD SP,4
  POP BP
  RET

o364c:
  PUSH BP
  SUB SP,6
  MOV BP,SP
  MOV W[BP+4],1
o3657:
  CMP W[BP+4],0
  JZ o3693
  CMP W[p6c82],0
  JZ o3673
  CALL o4f2
  CMP W[pd9],0
  JZ o3673
  MOV W[BP+4],0
o3673:
  MOV AL,B[pc3]
  XOR AH,AH
  TEST AX,AX
  MOV W[BP],AX
  JZ o3657
  AND AX,080
  JNZ o3657
  XOR AX,AX
  MOV B[pc3],0
  MOV W[p6c82],AX
  MOV W[BP+4],AX
  JMP o3657
o3693:
  CMP W[p6c82],0
  JZ o36fb
  CALL o4f2
  MOV AX,W[pd5]
  SUB AX,01e
  MOV W[p6c7a],AX
  JGE o36ae
  MOV W[p6c7a],0
o36ae:
  ADD W[p6c7a],5
  MOV AX,W[pd7]
  SUB AX,01e
  MOV W[p6c7c],AX
  JGE o36c4
  MOV W[p6c7c],0
o36c4:
  ADD W[p6c7c],5
  MOV AX,W[pd5]
  ADD AX,01e
  CMP AX,0ff
  MOV W[p6c7e],AX
  JLE o36dd
  MOV W[p6c7e],0ff
o36dd:
  SUB W[p6c7e],5
  MOV AX,W[pd7]
  ADD AX,01e
  CMP AX,0ff
  MOV W[p6c8o],AX
  JLE o36f6
  MOV W[p6c8o],0ff
o36f6:
  SUB W[p6c8o],5
o36fb:
  ADD SP,6
  POP BP
  RET

o37oo:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  MOV AX,W[p6c78]
  MOV W[BP+2],AX
  CMP W[p6c82],0
  JNZ o3716
  JMP o379a
o3716:
  MOV W[BP+2],063
  MOV AX,W[pd5]
  CMP AX,W[p6c7a]
  JGE o3745
  MOV W[BP+2],4
  MOV AX,W[pd7]
  CMP AX,W[p6c7c]
  JGE o3737
  MOV W[BP+2],3
o3737:
  MOV AX,W[pd7]
  CMP AX,W[p6c8o]
  JLE o3745
  MOV W[BP+2],5
o3745:
  MOV AX,W[pd5]
  CMP AX,W[p6c7e]
  JLE o376f
  MOV W[BP+2],0
  MOV AX,W[pd7]
  CMP AX,W[p6c7c]
  JGE o3761
  MOV W[BP+2],1
o3761:
  MOV AX,W[pd7]
  CMP AX,W[p6c8o]
  JLE o376f
  MOV W[BP+2],7
o376f:
  MOV AX,W[pd5]
  CMP AX,W[p6c7a]
  JL o379a
  CMP AX,W[p6c7e]
  JG o379a
  MOV AX,W[pd7]
  CMP AX,W[p6c7c]
  JGE o378c
  MOV W[BP+2],2
o378c:
  MOV AX,W[pd7]
  CMP AX,W[p6c8o]
  JLE o379a
  MOV W[BP+2],6
o379a:
  MOV AX,W[BP+2]
  ADD SP,4
  POP BP
  RET

o37a2:
  PUSH BP
  MOV BP,SP
  MOV AX,W[p6c84]
  POP BP
  RET

o37aa:
  PUSH BP
  MOV BP,SP
  XOR AX,AX
  MOV W[p6c96],2
  MOV W[p6c98],0f
  MOV BX,1
  PUSH BX
  MOV W[p6c92],AX
  MOV W[p6c94],AX
  CALL o2ff4
  MOV SP,BP
  CALL o3cc3
  POP BP
  RET

o37cf:
  PUSH BP
  SUB SP,0c
  MOV BP,SP
  MOV W[p6c9o],0
  MOV W[p6c8e],0
  CALL o1o9a
  MOV AX,1
  MOV W[BP+8],AX
  MOV W[BP+6],AX
o37fo:
  CMP W[BP+8],0b
  JGE o385f
  MOV W[BP+0a],0
o37fb:
  MOV AX,W[BP+0a]
  CMP AX,3
  JGE o381f
  MOV BX,W[BP+8]
  SHL BX,1
  SHL BX,1
  ADD BX,AX
  MOV SI,W[BP+6]
  MOV AL,B[SI+p215o]
  MOV B[BX+p6cfa],AL
  INC W[BP+6]
  INC W[BP+0a]
  JMP o37fb
o381f:
  ADD W[BP+6],2
  MOV W[BP+0a],0
o3828:
  MOV AX,W[BP+0a]
  CMP AX,6
  JGE o3846
  MOV SI,W[BP+6]
  MOV AL,B[SI+p215o]
  MOV DI,W[BP+0a]
  MOV B[DI+p6c9c],AL
  INC W[BP+6]
  INC W[BP+0a]
  JMP o3828
o3846:
  MOV AX,W[BP+8]
  SHL AX,1
  SHL AX,1
  ADD AX,offset p6cce
  PUSH AX
  MOV AX,offset p6c9c
  PUSH AX
  CALL o42d1
  MOV SP,BP
  INC W[BP+8]
  JMP o37fo
o385f:
  MOV AL,B[p215o]
  XOR AH,AH
  CMP AX,073
  JZ o389a
  MOV W[BP+4],0
o386e:
  MOV AX,W[BP+4]
  CMP AX,0b
  JGE o389a
  SHL AX,1
  SHL AX,1
  MOV SI,AX
  MOV W[SI+p6cdo],0
  MOV W[SI+p6cce],0
  ADD AX,offset p6cfa
  MOV BX,offset p6dfa
  PUSH BX
  PUSH AX
  CALL o5bab
  MOV SP,BP
  INC W[BP+4]
  JMP o386e
o389a:
  ADD SP,0c
  POP BP
  RET

o38d8:
  PUSH BP
  MOV BP,SP
  XOR AX,AX
  XOR BX,BX
  MOV W[p6c8c],AX
  MOV W[p6c88],AX
  MOV W[p6c8a],BX
  MOV W[p6c86],BX
  POP BP
  RET

o38ef:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  MOV AX,W[p6c98]
  DEC AX
  MOV W[p6c98],AX
  JNZ o395e
  MOV AX,W[p6c96]
  JMP o394a
o39o3:
  MOV W[p6c98],0c
  MOV W[p6c96],3
  MOV AX,4
  PUSH AX
  CALL o2ff4
  MOV SP,BP
  JMP o395b
o391a:
  MOV W[p6c98],8
  MOV W[p6c96],5
  MOV AX,2
  PUSH AX
  CALL o2ff4
  MOV SP,BP
  JMP o395b
o3931:
  MOV W[p6c98],012
  MOV W[p6c96],2
  MOV AX,1
  PUSH AX
  CALL o2ff4
  MOV SP,BP
  JMP o395b
o394a:
  CMP AX,5
  JZ o3931
  CMP AX,3
  JZ o391a
  CMP AX,2
  JZ o39o3
  JMP o395b
o395b:
  CALL o3aof
o395e:
  ADD SP,2
  POP BP
  RET

o3963:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  MOV AX,W[BP+8]
  MOV W[p6c94],AX
  MOV AX,W[p6c96]
  JMP o39c6
o3974:
  MOV AX,W[p6c94]
  SUB AX,W[p6c92]
  XOR BX,BX
  TEST AX,AX
  JNS o3982
  DEC BX
o3982:
  ADD W[p6c86],AX
  ADC W[p6c88],BX
  JMP o39d5
o398c:
  MOV AX,W[p6c94]
  SUB AX,W[p6c92]
  MOV BX,5
  IMUL BX
  XOR BX,BX
  TEST AX,AX
  JNS o399f
  DEC BX
o399f:
  ADD W[p6c86],AX
  ADC W[p6c88],BX
  JMP o39d5
o39a9:
  MOV AX,W[p6c94]
  SUB AX,W[p6c92]
  MOV BX,0a
  IMUL BX
  XOR BX,BX
  TEST AX,AX
  JNS o39bc
  DEC BX
o39bc:
  ADD W[p6c86],AX
  ADC W[p6c88],BX
  JMP o39d5
o39c6:
  CMP AX,5
  JZ o39a9
  CMP AX,3
  JZ o398c
  CMP AX,2
  JZ o3974
o39d5:
  MOV AX,W[p6c88]
  MOV BX,W[p6c86]
  MOV CX,0f
  MOV DX,0423f
  CALL o6of2
  JLE o39f3
  MOV W[p6c88],0
  MOV W[p6c86],0
o39f3:
  MOV AX,W[p6c94]
  CMP AX,0320
  MOV W[p6c92],AX
  JL o3ao7
  MOV AX,1
  PUSH AX
  CALL o5863
  MOV SP,BP
o3ao7:
  CALL o3cc3
  ADD SP,4
  POP BP
  RET

o3aof:
  PUSH BP
  MOV BP,SP
  MOV AX,W[p6c96]
  JMP o3a52
o3a17:
  MOV AX,offset p6d26
  PUSH AX
  MOV AX,1
  PUSH AX
  MOV AX,08a
  PUSH AX
  CALL oc83
  MOV SP,BP
  JMP o3a63
o3a2a:
  MOV AX,offset p6d67
  PUSH AX
  MOV AX,1
  PUSH AX
  MOV AX,08a
  PUSH AX
  CALL oc83
  MOV SP,BP
  JMP o3a63
o3a3d:
  MOV AX,offset p6da8
  PUSH AX
  MOV AX,1
  PUSH AX
  MOV AX,08a
  PUSH AX
  CALL oc83
  MOV SP,BP
  JMP o3a63
o3a52:
  CMP AX,5
  JZ o3a3d
  CMP AX,3
  JZ o3a2a
  CMP AX,2
  JZ o3a17
  JMP o3a63
o3a63:
  POP BP
  RET

o3a65:
  PUSH BP
  SUB SP,8
  MOV BP,SP
  CALL o3cc3
  MOV AX,W[p6c88]
  MOV BX,W[p6c86]
  MOV CX,W[p6cf8]
  MOV DX,W[p6cf6]
  CALL o6of2
  JLE o3aef
  MOV AX,0b
  PUSH AX
  CALL o5odd
  MOV SP,BP
  MOV AX,014
  PUSH AX
  MOV AX,0a
  PUSH AX
  MOV AX,offset p6dfe
  PUSH AX
  CALL o4feb
  MOV SP,BP
  XOR AX,AX
  PUSH AX
  MOV AX,013
  PUSH AX
  MOV AX,095
  PUSH AX
  MOV AX,013
  PUSH AX
  MOV AX,0a
  PUSH AX
  CALL oab6
  MOV SP,BP
  XOR AX,AX
  PUSH AX
  MOV AX,01b
  PUSH AX
  MOV AX,095
  PUSH AX
  MOV AX,01b
  PUSH AX
  MOV AX,0a
  PUSH AX
  CALL oab6
  MOV SP,BP
  CALL o57d5
  MOV AX,014
  PUSH AX
  MOV AX,0a
  PUSH AX
  MOV AX,offset p6dfe
  PUSH AX
  CALL o4feb
  MOV SP,BP
  CALL o5c3
  CALL o3fb8
  CALL o415b
  CALL o3f24
  JMP o3bce
o3aef:
  MOV W[BP+2],02b
o3af4:
  CMP W[BP+2],036
  JGE o3b15
  XOR AX,AX
  PUSH AX
  PUSH W[BP+2]
  MOV AX,07f
  PUSH AX
  PUSH W[BP+2]
  MOV AX,01e
  PUSH AX
  CALL oab6
  MOV SP,BP
  INC W[BP+2]
  JMP o3af4
o3b15:
  MOV AX,7
  PUSH AX
  MOV AX,02a
  PUSH AX
  MOV AX,07f
  PUSH AX
  MOV AX,02a
  PUSH AX
  MOV AX,01e
  PUSH AX
  CALL oab6
  MOV SP,BP
  MOV AX,7
  PUSH AX
  MOV AX,036
  PUSH AX
  MOV AX,07f
  PUSH AX
  MOV AX,02a
  PUSH AX
  MOV AX,07f
  PUSH AX
  CALL oab6
  MOV SP,BP
  MOV AX,7
  PUSH AX
  MOV AX,036
  PUSH AX
  MOV AX,01e
  PUSH AX
  MOV AX,036
  PUSH AX
  MOV AX,07f
  PUSH AX
  CALL oab6
  MOV SP,BP
  MOV AX,7
  PUSH AX
  MOV AX,02a
  PUSH AX
  MOV AX,01e
  PUSH AX
  MOV AX,036
  PUSH AX
  MOV AX,01e
  PUSH AX
  CALL oab6
  MOV SP,BP
  MOV AX,7
  PUSH AX
  CALL o5odd
  MOV SP,BP
  MOV W[BP+2],1
o3b87:
  CMP W[BP+2],01e
  JGE o3bab
  PUSH W[BP+2]
  CALL o5o29
  MOV SP,BP
  MOV AX,02d
  PUSH AX
  MOV AX,022
  PUSH AX
  MOV AX,offset p6eod
  PUSH AX
  CALL o4feb
  MOV SP,BP
  MOV AX,8
  PUSH AX
  CALL o41c    ;Delay don't know
  POP AX
  INC W[BP+2]
  JMP o3b87
o3bab:
  MOV AX,0b
  PUSH AX
  CALL o5odd
  MOV SP,BP
  MOV AX,02d
  PUSH AX
  MOV AX,022
  PUSH AX
  MOV AX,offset p6eod
  PUSH AX
  CALL o4feb
  MOV SP,BP
  MOV AX,200
  PUSH AX
  CALL o41c    ;Delay don't know
  MOV SP,BP
o3bce:
  ADD SP,8
  POP BP
  RET

o3bd3:
  PUSH BP
  SUB SP,0c
  MOV BP,SP
  MOV AX,W[p6c94]
  MOV BX,0a
  CWD
  IDIV BX
  SUB AX,050
  CMP AX,1
  MOV W[BP+8],AX
  JGE o3bf2
  MOV W[BP+8],0
o3bf2:
  MOV AX,1000
  IMUL W[BP+8]
  XOR BX,BX
  TEST AX,AX
  JNS o3bff
  DEC BX
o3bff:
  ADD W[p6c86],AX
  ADC W[p6c88],BX
  MOV W[BP],AX
  MOV W[BP+8],AX
  MOV W[BP+2],BX
  TEST AX,AX
  JNZ o3c17
  JMP o3cbe
o3c17:
  MOV CX,offset p6e17
  PUSH CX
  MOV CX,offset p6c9c
  PUSH CX
  MOV W[BP+4],AX
  MOV W[BP+6],BX
  CALL o5bab
  MOV SP,BP
  XOR AX,AX
  PUSH AX
  PUSH W[BP+6]
  PUSH W[BP+4]
  MOV AX,offset p6c9c
  PUSH AX
  CALL o41f3
  MOV SP,BP
  MOV AX,offset p6c9c
  PUSH AX
  CALL o5ad5
  MOV SP,BP
  MOV BX,0b
  PUSH BX
  MOV W[BP+8],AX
  CALL o5odd
  MOV SP,BP
  MOV AX,026
  PUSH AX
  MOV AX,02d
  PUSH AX
  MOV AX,offset p6e18
  PUSH AX
  CALL o4feb
  MOV SP,BP
  MOV AX,02d
  PUSH AX
  PUSH AX
  MOV AX,offset p6e2o
  PUSH AX
  CALL o4feb
  MOV SP,BP
  MOV AX,034
  PUSH AX
  MOV AX,02d
  PUSH AX
  MOV AX,offset p6e18
  PUSH AX
  CALL o4feb
  MOV SP,BP
  MOV AX,03b
  PUSH AX
  MOV AX,02d
  PUSH AX
  MOV AX,offset p6e18
  PUSH AX
  CALL o4feb
  MOV SP,BP
  MOV AX,W[BP+8]
  MOV BX,5
  IMUL BX
  MOV BX,050
  SUB BX,AX
  MOV AX,03b
  PUSH AX
  PUSH BX
  MOV AX,offset p6c9c
  PUSH AX
  CALL o4feb
  MOV SP,BP
  MOV AX,042
  PUSH AX
  MOV AX,02d
  PUSH AX
  MOV AX,offset p6e18
  PUSH AX
  CALL o4feb
  MOV SP,BP
o3cbe:
  ADD SP,0c
  POP BP
  RET

o3cc3:
  PUSH BP
  MOV BP,SP
  MOV AX,2
  PUSH AX
  MOV AX,1
  PUSH AX
  PUSH W[p6c88]
  PUSH W[p6c86]
  CALL o3ce6
  MOV SP,BP
  CALL o3d8b
  CALL o3aof
  CALL o3dc8
  POP BP
  RET

o3ce6:
  PUSH BP
  SUB SP,0c
  MOV BP,SP
  MOV W[BP+6],0
  MOV W[BP+0a],1
  MOV W[BP+8],086a0
o3cfb:
  MOV AX,W[BP+0a]
  MOV BX,W[BP+8]
  XOR CX,CX
  MOV DX,1
  CALL o6of2
  JLE o3d7o
  MOV AX,W[BP+012]
  MOV BX,W[BP+010]
  MOV CX,W[BP+0a]
  MOV DX,W[BP+8]
  CALL o5afb
  MOV AX,W[BP+012]
  MOV W[BP+4],BX
  MOV BX,W[BP+010]
  MOV CX,W[BP+0a]
  MOV DX,W[BP+8]
  CALL o5afb
  MOV W[BP+012],CX
  MOV W[BP+010],DX
  CMP W[BP+4],0
  JNZ o3d45
  CMP W[BP+8],086a0
  JNZ o3d43
  CMP W[BP+0a],1
o3d43:
  JZ o3d57
o3d45:
  MOV AX,W[BP+014]
  ADD AX,W[BP+6]
  PUSH W[BP+016]
  PUSH AX
  PUSH W[BP+4]
  CALL o4b72
  MOV SP,BP
o3d57:
  MOV AX,W[BP+0a]
  MOV BX,W[BP+8]
  XOR CX,CX
  MOV DX,0a
  CALL o5afb
  INC W[BP+6]
  MOV W[BP+0a],AX
  MOV W[BP+8],BX
  JMP o3cfb
o3d7o:
  MOV AX,W[BP+010]
  MOV BX,W[BP+014]
  ADD BX,5
  PUSH W[BP+016]
  PUSH BX
  PUSH AX
  MOV W[BP+4],AX
  CALL o4b72
  MOV SP,BP
  ADD SP,0c
  POP BP
  RET

o3d8b:
  PUSH BP
  SUB SP,6
  MOV BP,SP
  CALL o58a4
  DEC AX
  MOV W[BP+2],1
  MOV W[BP+4],AX
o3d9d:
  CMP W[BP+2],5
  JGE o3dc3
  CMP W[BP+4],0
  JLE o3db3
  PUSH W[BP+2]
  CALL o3o23
  MOV SP,BP
  JMP o3dbb
o3db3:
  PUSH W[BP+2]
  CALL o2fff
  MOV SP,BP
o3dbb:
  DEC W[BP+4]
  INC W[BP+2]
  JMP o3d9d
o3dc3:
  ADD SP,6
  POP BP
  RET

o3dc8:
  PUSH BP
  SUB SP,0c
  MOV BP,SP
  MOV W[BP+2],01a
  MOV AX,W[p6c94]
  MOV W[BP+6],0
  MOV W[BP+8],064
  MOV W[BP+0a],AX
o3de3:
  MOV AX,W[BP+8]
  CMP AX,1
  JLE o3e2f
  MOV AX,W[BP+0a]
  CWD
  IDIV W[BP+8]
  MOV W[BP+4],AX
  MOV AX,W[BP+0a]
  CWD
  IDIV W[BP+8]
  MOV W[BP+0a],DX
  CMP W[BP+4],0
  JNZ o3eob
  CMP W[BP+8],0a
  JNZ o3e1e
o3eob:
  MOV AX,W[BP+2]
  ADD AX,W[BP+6]
  MOV BX,2
  PUSH BX
  PUSH AX
  PUSH W[BP+4]
  CALL o4b72
  MOV SP,BP
o3e1e:
  MOV AX,W[BP+8]
  MOV BX,0a
  CWD
  IDIV BX
  INC W[BP+6]
  MOV W[BP+8],AX
  JMP o3de3
o3e2f:
  MOV AX,W[BP+0a]
  MOV BX,W[BP+2]
  ADD BX,3
  MOV CX,2
  PUSH CX
  PUSH BX
  PUSH AX
  MOV W[BP+4],AX
  CALL o4b72
  MOV SP,BP
  MOV AX,0f
  PUSH AX
  MOV AX,6
  PUSH AX
  MOV AX,072
  PUSH AX
  CALL o9ob
  MOV SP,BP
  MOV AX,offset p6de9
  PUSH AX
  MOV AX,2
  PUSH AX
  MOV AX,07b
  PUSH AX
  CALL oc83
  MOV SP,BP
  ADD SP,0c
  POP BP
  RET

o3e6d:
  PUSH BP
  SUB SP,6
  MOV BP,SP
  MOV AX,01a
  PUSH AX
  MOV AX,1
  PUSH AX
  CALL o1o61
  MOV SP,BP
  MOV AX,3
  PUSH AX
  MOV AX,offset p6e28
  PUSH AX
  CALL o5535
  MOV SP,BP
  MOV W[BP+4],2
  MOV W[BP+2],1
o3e97:
  CMP W[BP+2],0b
  JL o3eao
  JMP o3f1f
o3eao:
  MOV AX,offset p6e17
  PUSH AX
  MOV AX,offset p6ca6
  PUSH AX
  CALL o5bab
  MOV SP,BP
  MOV AX,W[BP+2]
  SHL AX,1
  SHL AX,1
  ADD AX,offset p6cfa
  PUSH AX
  MOV AX,offset p6ca6
  PUSH AX
  CALL o5ede
  MOV SP,BP
  MOV AX,offset p6e34
  PUSH AX
  MOV AX,offset p6ca6
  PUSH AX
  CALL o5ede
  MOV SP,BP
  MOV AX,W[BP+2]
  SHL AX,1
  SHL AX,1
  MOV SI,AX
  MOV AX,1
  PUSH AX
  PUSH W[SI+p6cdo]
  PUSH W[SI+p6cce]
  MOV AX,offset p6c9c
  PUSH AX
  CALL o41f3
  MOV SP,BP
  MOV AX,offset p6c9c
  PUSH AX
  MOV AX,offset p6ca6
  PUSH AX
  CALL o5ede
  MOV SP,BP
  MOV AX,W[BP+2]
  INC AX
  INC AX
  MOV BX,01a
  PUSH BX
  PUSH AX
  CALL o1o61
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p6ca6
  PUSH AX
  CALL o5535
  MOV SP,BP
  MOV W[BP+4],1
  INC W[BP+2]
  JMP o3e97
o3f1f:
  ADD SP,6
  POP BP
  RET

o3f24:
  PUSH BP
  SUB SP,6
  MOV BP,SP
  MOV AX,offset p6e37
  PUSH AX
  MOV AX,offset p215o
  PUSH AX
  CALL o5bab
  MOV SP,BP
  MOV W[BP+2],1
o3f3c:
  CMP W[BP+2],0b
  JGE o3fad
  MOV AX,offset p6e17
  PUSH AX
  MOV AX,offset p6ca6
  PUSH AX
  CALL o5bab
  MOV SP,BP
  MOV AX,W[BP+2]
  SHL AX,1
  SHL AX,1
  ADD AX,offset p6cfa
  PUSH AX
  MOV AX,offset p6ca6
  PUSH AX
  CALL o5ede
  MOV SP,BP
  MOV AX,offset p6e34
  PUSH AX
  MOV AX,offset p6ca6
  PUSH AX
  CALL o5ede
  MOV SP,BP
  MOV AX,W[BP+2]
  SHL AX,1
  SHL AX,1
  MOV SI,AX
  MOV AX,1
  PUSH AX
  PUSH W[SI+p6cdo]
  PUSH W[SI+p6cce]
  MOV AX,offset p6c9c
  PUSH AX
  CALL o41f3
  MOV SP,BP
  MOV AX,offset p6c9c
  PUSH AX
  MOV AX,offset p6ca6
  PUSH AX
  CALL o5ede
  MOV SP,BP
  MOV AX,offset p6ca6
  PUSH AX
  MOV AX,offset p215o
  PUSH AX
  CALL o5ede
  MOV SP,BP
  INC W[BP+2]
  JMP o3f3c
o3fad:
  CALL o1oc3
  ADD SP,6
  POP BP
  RET

o3fb8:
  PUSH BP
  SUB SP,0a
  MOV BP,SP
  MOV AX,7
  PUSH AX
  CALL o5odd
  MOV SP,BP
  MOV AX,032
  PUSH AX
  MOV AX,01e
  PUSH AX
  MOV AX,offset p6e39
  PUSH AX
  CALL o4feb
  MOV SP,BP
  MOV AX,03c
  PUSH AX
  MOV AX,028
  PUSH AX
  MOV AX,offset p6e44
  PUSH AX
  CALL o4feb
  MOV SP,BP
  MOV AX,0f
  PUSH AX
  CALL o5odd
  MOV SP,BP
  MOV AX,050
  PUSH AX
  MOV AX,037
  PUSH AX
  MOV AX,offset p6e4d
  PUSH AX
  CALL o4feb
  MOV SP,BP
  MOV AX,offset p6dfa
  PUSH AX
  MOV AX,offset p6cfa
  PUSH AX
  CALL o5bab
  MOV SP,BP
  XOR AX,AX
  MOV W[BP+8],AX
  MOV W[p6c9a],AX
o4o18:
  CMP W[BP+8],3
  JGE o4o9o
  MOV W[BP+6],0
o4o23:
  CMP W[BP+6],0
  JNZ o4o63
  CMP W[p6c9a],0
  JNZ o4o63
  MOV AX,W[BP+8]
  MOV BX,014
  IMUL BX
  ADD AX,037
  MOV BX,050
  PUSH BX
  PUSH AX
  CALL o4o9a
  MOV SP,BP
  MOV W[BP+6],AX
  CMP W[BP+8],0
  JZ o4o56
  CMP AX,0e
  JNZ o4o56
  DEC W[BP+8]
o4o56:
  PUSH W[BP+6]
  CALL o53cd
  MOV SP,BP
  MOV W[BP+6],AX
  JMP o4o23
o4o63:
  CMP W[BP+6],0
  JZ o4o8b
  MOV AX,W[BP+8]
  MOV BX,014
  IMUL BX
  ADD AX,037
  MOV BX,050
  PUSH BX
  PUSH AX
  PUSH W[BP+6]
  CALL o4c8a
  MOV SP,BP
  MOV AX,W[BP+6]
  MOV SI,W[BP+8]
  MOV B[SI+p6cfa],AL
o4o8b:
  INC W[BP+8]
  JMP o4o18
o4o9o:
  MOV B[pc3],0
  ADD SP,0a
  POP BP
  RET

o4o9a:
  PUSH BP
  SUB SP,6
  MOV BP,SP
  MOV B[pc3],0
  MOV W[BP+4],0
o4oaa:
  CMP W[BP+4],032
  JL o4ob3
  JMP o414e
o4ob3:
  PUSH W[BP+0c]
  PUSH W[BP+0a]
  MOV AX,05f
  PUSH AX
  CALL o4c8a
  MOV SP,BP
  MOV W[BP+2],0
o4oc7:
  CMP W[BP+2],01e
  JGE o4of6
  MOV AL,B[pc3]
  XOR AH,AH
  AND AX,080
  JNZ o4oe8
  CMP B[pc3],0
  JZ o4oe8
  MOV AL,B[pc3]
  XOR AH,AH
  ADD SP,6
  POP BP
  RET
o4oe8:
  MOV AX,5
  PUSH AX
  CALL o41c       ;Delay don't know
  MOV SP,BP
  INC W[BP+2]
  JMP o4oc7
o4of6:
  PUSH W[BP+0c]
  PUSH W[BP+0a]
  MOV AX,020
  PUSH AX
  CALL o4c8a
  MOV SP,BP
  MOV W[BP+2],0
o41oa:
  CMP W[BP+2],032
  JGE o4148
  MOV AL,B[pc3]
  XOR AH,AH
  AND AX,080
  JNZ o413a
  CMP B[pc3],0
  JZ o413a
  PUSH W[BP+0c]
  PUSH W[BP+0a]
  MOV AX,05f
  PUSH AX
  CALL o4c8a
  MOV SP,BP
  MOV AL,B[pc3]
  XOR AH,AH
  ADD SP,6
  POP BP
  RET
o413a:
  MOV AX,5
  PUSH AX
  CALL o41c
  MOV SP,BP     ;Delay don't know
  INC W[BP+2]
  JMP o41oa
o4148:
  INC W[BP+4]
  JMP o4oaa
o414e:
  MOV W[p6c9a],1
  XOR AX,AX
  ADD SP,6
  POP BP
  RET

o415b:
  PUSH BP
  SUB SP,0a
  MOV BP,SP
  MOV W[BP+8],0a
o4166:
  MOV AX,W[BP+8]
  CMP AX,1
  JLE o418d
  SHL AX,1
  SHL AX,1
  MOV SI,AX
  MOV AX,W[p6c88]
  MOV BX,W[p6c86]
  MOV CX,W[SI+p6ccc]
  MOV DX,W[SI+p6cca]
  CALL o6of2
  JL o418d
  DEC W[BP+8]
  JMP o4166
o418d:
  MOV W[BP+6],0a
o4192:
  MOV AX,W[BP+6]
  CMP AX,W[BP+8]
  JLE o41c8
  SHL AX,1
  SHL AX,1
  MOV SI,AX
  MOV BX,W[SI+p6ccc]
  MOV CX,W[SI+p6cca]
  MOV W[SI+p6cdo],BX
  MOV W[SI+p6cce],CX
  MOV W[BP],AX
  ADD AX,offset p6cfa
  MOV BX,SI
  ADD BX,offset p6cf6
  PUSH BX
  PUSH AX
  CALL o5bab
  MOV SP,BP
  DEC W[BP+6]
  JMP o4192
o41c8:
  MOV AX,W[BP+8]
  SHL AX,1
  SHL AX,1
  MOV SI,AX
  MOV BX,W[p6c88]
  MOV CX,W[p6c86]
  MOV W[SI+p6cdo],BX
  MOV W[SI+p6cce],CX
  ADD AX,offset p6cfa
  MOV BX,offset p6cfa
  PUSH BX
  PUSH AX
  CALL o5bab
  MOV SP,BP
  ADD SP,0a
  POP BP
  RET

o41f3:
  PUSH BP
  SUB SP,01c
  MOV BP,SP
  XOR AX,AX
  MOV W[BP+0c],1
  MOV W[BP+0a],086a0
  MOV BX,offset p6e17
  PUSH BX
  PUSH W[BP+020]
  MOV W[BP+8],AX
  MOV W[BP+6],AX
  CALL o5bab
  MOV SP,BP
o4217:
  MOV AX,W[BP+0c]
  MOV BX,W[BP+0a]
  XOR CX,CX
  MOV DX,1
  CALL o6of2
  JG o422a
  JMP o42ac
o422a:
  MOV AX,W[BP+024]
  MOV BX,W[BP+022]
  MOV CX,W[BP+0c]
  MOV DX,W[BP+0a]
  CALL o5afb
  MOV AX,W[BP+024]
  MOV W[BP+4],BX
  MOV BX,W[BP+022]
  MOV CX,W[BP+0c]
  MOV DX,W[BP+0a]
  CALL o5afb
  MOV AX,0a
  PUSH AX
  PUSH W[BP+4]
  LEA AX,W[BP+012]
  PUSH AX
  MOV W[BP+024],CX
  MOV W[BP+022],DX
  CALL o5bca
  MOV SP,BP
  CMP W[BP+4],0
  JNZ o426d
  CMP W[BP+8],0
  JZ o428o
o426d:
  LEA AX,W[BP+012]
  PUSH AX
  PUSH W[BP+020]
  CALL o5ede
  MOV SP,BP
  MOV W[BP+8],1
  JMP o4292
o428o:
  CMP W[BP+026],0
  JZ o4292
  MOV AX,offset p6e53
  PUSH AX
  PUSH W[BP+020]
  CALL o5ede
  MOV SP,BP
o4292:
  MOV AX,W[BP+0c]
  MOV BX,W[BP+0a]
  XOR CX,CX
  MOV DX,0a
  CALL o5afb
  INC W[BP+6]
  MOV W[BP+0c],AX
  MOV W[BP+0a],BX
  JMP o4217
o42ac:
  MOV AX,W[BP+022]
  MOV BX,0a
  PUSH BX
  PUSH AX
  LEA BX,W[BP+012]
  PUSH BX
  MOV W[BP+4],AX
  CALL o5bca
  MOV SP,BP
  LEA AX,W[BP+012]
  PUSH AX
  PUSH W[BP+020]
  CALL o5ede
  MOV SP,BP
  ADD SP,01c
  POP BP
  RET

o42d1:
  PUSH BP
  SUB SP,0e
  MOV BP,SP
  MOV W[BP+6],0
  MOV W[BP+0c],1
  MOV W[BP+0a],086a0
  MOV SI,W[BP+014]
  MOV W[SI+2],0
  MOV W[SI],0
o42f2:
  MOV AX,W[BP+0c]
  MOV BX,W[BP+0a]
  XOR CX,CX
  XOR DX,DX
  CALL o6of2
  JLE o4351
  MOV BX,W[BP+012]
  ADD BX,W[BP+6]
  MOV AL,B[BX]
  XOR AH,AH
  PUSH AX
  CALL o536d
  MOV SP,BP
  XOR BX,BX
  TEST AX,AX
  JNS o4318
  DEC BX
o4318:
  MOV W[BP],AX
  MOV W[BP+4],AX
  MOV AX,W[BP+0c]
  MOV W[BP+2],BX
  MOV BX,W[BP+0a]
  MOV CX,W[BP+2]
  MOV DX,W[BP]
  CALL o5a54
  MOV SI,W[BP+014]
  ADD W[SI],BX
  ADC W[SI+2],AX
  MOV AX,W[BP+0c]
  MOV BX,W[BP+0a]
  XOR CX,CX
  MOV DX,0a
  CALL o5afb
  INC W[BP+6]
  MOV W[BP+0c],AX
  MOV W[BP+0a],BX
  JMP o42f2
o4351:
  ADD SP,0e
  POP BP
  RET

o4356:
  PUSH BP
  MOV BP,SP
  MOV AX,W[p6c96]
  POP BP
  RET

o435e:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  CMP B[pco],0
  JZ o4378
  CMP W[p6e5a],0
  JNZ o4378
  MOV W[p6e5a],1
o4378:
  CMP B[pco],0
  JNZ o4398
  CMP W[p6e5a],0
  JZ o4398
  MOV W[p6e5a],0
  MOV AX,028
  PUSH AX
  CALL o4b46
  MOV SP,BP
  CALL o49f7
o4398:
  MOV AL,B[p38c2]
  XOR AH,AH
  CMP AX,W[p6e56]
  JZ o43c2
  CMP W[p6e5a],0
  JZ o43c2
  CALL o586e
  TEST AX,AX
  JNZ o43c2
  MOV AL,B[p38c2]
  XOR AH,AH
  MOV W[p6e56],AX
  CALL o44f4
  CALL o45e2
  CALL o4964
o43c2:
  ADD SP,2
  POP BP
  RET

; End of styx2.asm.

		times ($$-$)&1 db 0  ; Alignment padding in _code between .asm files.

..@0x4912:  ; Start of styx3.asm. !!! Convert it from A86 to NASM syntax.

; Styx Remastered
; Copyright (c) Andrew Jenner 1998-2004

PUBLIC o43c7,o4427,o44ce,o44f4,o45b8,o45d7,o45e2,o462o
PUBLIC o4631,o46ca,o47o7,o4744,o476o,o4892,o48bd,o48d7,o49oa,o492a,o4964,o49f7
PUBLIC o4a3c,o4a8c,o4b13,o4b46,o4b72,o4c8a,o4feb,o5o29,o5odd,o521a,o536d,o53cd
PUBLIC o551e,o5535,o556a,o57d5,o5858,o5863,o586e,o5891,o58a4,o58ac,o5939,o5993
PUBLIC o5a54,o5ac5,o5ad5,o5afb,o5bab,o5bca,o5ca2,o5d66,o5dce,o5ede
PUBLIC o5f1b,o6o56,o6of2,o61of,o611o,o689c,o68ce,o6a3f,o6b15,o6b26,o6b5a,o6b7b
PUBLIC o6b91,o6baf,o6bd3
PUBLIC codeend

_TEXT SEGMENT WORD PUBLIC 'CODE'

o43c7:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  MOV AL,B[p38c2]
  XOR AH,AH
  MOV W[p6e56],AX
  CALL o44ce
  CALL o45d7
  ADD SP,2
  POP BP
  RET

o4427:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  MOV AL,0b6
  OUT 043,AL
  MOV AL,020
  OUT 042,AL
  XOR AL,AL
  OUT 042,AL
  IN AL,061
  MOV W[BP+2],AX
  AND AX,0fc
  OR AL,3
  OUT 061,AL
  MOV W[BP+2],AX
  MOV AL,036
  OUT 043,AL
  XOR AL,AL
  OUT 040,AL
  MOV AL,080
  OUT 040,AL
  CS: MOV W[int8speed],08000
  MOV AX,1
  XOR BX,BX
  MOV W[p6e84],12000
  MOV W[p6e82],028
  MOV W[p6e5e],AX
  MOV W[p6e86],AX
  MOV W[p6e6o],AX
  MOV W[p6e5a],AX
  MOV W[p38bc],BX
  MOV W[p6e5c],BX
  CALL o49f7
  CALL o43c7
  CALL o4a8c
  ADD SP,4
  POP BP
  RET

o44ce:
  PUSH BP
  MOV BP,SP
  MOV AX,2000
  MOV W[p6e86],0f
  MOV W[p6e66],1
  MOV W[p6e68],5
  MOV W[p6e6a],0
  MOV W[p6e62],AX
  MOV W[p6e64],AX
  POP BP
  RET

o44f4:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  CMP W[p6e6a],0
  JNZ o45o4
  JMP o45b3
o45o4:
  MOV W[p6e6o],1
  MOV AX,W[p6e62]
  MOV BX,W[p6e64]
  CMP BX,AX
  JGE o451a
  SUB W[p6e62],5
o451a:
  MOV AX,W[p6e62]
  MOV BX,W[p6e64]
  CMP BX,AX
  JLE o452a
  ADD W[p6e62],5
o452a:
  MOV W[p6e82],0a
  MOV AX,W[p6e62]
  SHL AX,1
  MOV BX,5
  PUSH BX
  MOV W[p6e84],AX
  CALL o227
  MOV SP,BP
  DEC AX
  JNZ o456o
  MOV AX,3
  PUSH AX
  CALL o227
  MOV SP,BP
  DEC AX
  MOV BX,0e
  PUSH BX
  MOV W[p6e66],AX
  CALL o227
  MOV SP,BP
  SUB AX,5
  MOV W[p6e68],AX
o456o:
  MOV AX,W[p6e86]
  ADD AX,W[p6e66]
  CMP AX,014
  MOV W[p6e86],AX
  JG o4574
  CMP AX,0a
  JGE o457b
o4574:
  MOV AX,W[p6e68]
  ADD W[p6e86],AX
o457b:
  CMP W[p6e86],032
  JLE o4592
  NEG W[p6e68]
  MOV W[p6e66],-1
  MOV W[p6e86],032
o4592:
  CMP W[p6e86],1
  JGE o45b3
  MOV AX,5
  PUSH AX
  CALL o227
  MOV SP,BP
  INC AX
  INC AX
  MOV W[p6e66],1
  MOV W[p6e86],0
  MOV W[p6e68],AX
o45b3:
  ADD SP,4
  POP BP
  RET

o45b8:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  MOV W[p6e6a],1
  MOV AX,W[BP+6]
  MOV BX,5
  IMUL BX
  ADD AX,1500
  MOV W[p6e64],AX
  ADD SP,2
  POP BP
  RET

o45d7:
  PUSH BP
  MOV BP,SP
  MOV W[p6e6e],0
  POP BP
  RET

o45e2:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  CMP W[p6e6e],0
  JZ o461b
  MOV W[p6e6o],1
  MOV AX,5
  IMUL W[p6e6c]
  MOV BX,2000
  SUB BX,AX
  MOV AX,014
  IMUL W[p6e6c]
  MOV CX,30000
  SUB CX,AX
  MOV AX,W[p6e6c]
  MOV W[p6e86],AX
  MOV W[p6e82],CX
  MOV W[p6e84],BX
o461b:
  ADD SP,2
  POP BP
  RET

o462o:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  MOV W[p6e6e],1
  MOV W[p6e6c],AX
  POP BP
  RET

o4631:
  PUSH BP
  SUB SP,0c
  MOV BP,SP
  MOV W[BP+8],4000
  MOV W[BP+0a],07e4  ;???
  XOR AX,AX
  MOV W[p6e6o],2
  MOV W[p6e6e],AX
  MOV W[p6e6a],AX
  CALL o4356
  JMP o46b3
o4654:
  MOV AX,W[BP+8]
  MOV BX,W[BP+0a]
  MOV W[p6e82],AX
  MOV W[p6e84],BX
  JMP o46c2
o4663:
  MOV AX,W[BP+8]
  CALL o5d66
  MOV SI,offset p6e88
  PUSH SI
  CALL o5993
  CALL o5dce
  MOV W[p6e82],AX
  MOV AX,W[BP+0a]
  CALL o5d66
  MOV SI,offset p6e88
  PUSH SI
  CALL o5993
  CALL o5dce
  MOV W[p6e84],AX
  JMP o46c2
o468b:
  MOV AX,W[BP+8]
  CALL o5d66
  MOV SI,offset p6e9o
  PUSH SI
  CALL o5993
  CALL o5dce
  MOV W[p6e82],AX
  MOV AX,W[BP+0a]
  CALL o5d66
  MOV SI,offset p6e9o
  PUSH SI
  CALL o5993
  CALL o5dce
  MOV W[p6e84],AX
  JMP o46c2
o46b3:
  CMP AX,5
  JZ o468b
  CMP AX,3
  JZ o4663
  CMP AX,2
  JZ o4654
o46c2:
  CALL o4964
  ADD SP,0c
  POP BP
  RET

o46ca:
  PUSH BP
  SUB SP,8
  MOV BP,SP
  MOV AX,W[p6e82]
  CALL o5d66
  MOV SI,offset p6e98
  PUSH SI
  CALL o5993
  CALL o5dce
  MOV W[p6e82],AX
  MOV AX,W[p6e84]
  CALL o5d66
  MOV SI,offset p6e98
  PUSH SI
  CALL o5993
  CALL o5dce
  MOV W[p6e84],AX
  CALL o4964
  MOV AX,1
  PUSH AX
  CALL o41c         ;Delay don't know
  MOV SP,BP
  ADD SP,8
  POP BP
  RET

o47o7:
  PUSH BP
  SUB SP,8
  MOV BP,SP
  MOV AX,W[p6e82]
  CALL o5d66
  MOV SI,offset p6eao
  PUSH SI
  CALL o5993
  CALL o5dce
  MOV W[p6e82],AX
  MOV AX,W[p6e84]
  CALL o5d66
  MOV SI,offset p6eao
  PUSH SI
  CALL o5993
  CALL o5dce
  MOV W[p6e84],AX
  CALL o4964
  MOV AX,1
  PUSH AX
  CALL o41c     ;Delay don't know
  MOV SP,BP
  ADD SP,8
  POP BP
  RET

o4744:
  PUSH BP
  MOV BP,SP
  XOR AX,AX
  MOV W[p6e6o],2
  MOV W[p6e6e],AX
  MOV W[p6e6a],AX
  CALL o49f7
  MOV W[p6e8o],0
  POP BP
  RET

o476o:
  PUSH BP
  MOV BP,SP
  MOV AX,W[p6e8o]
  MOV SI,AX
  CMP SI,018
  JNB o4889
  SHL SI,1
  SHL SI,1
  CS: MOV AX,W[SI+o484b]
  MOV W[p6e82],AX
  CS: MOV AX,W[SI+o484b+2]
  MOV W[p6e84],AX
o4889:
  CALL o4964
  INC W[p6e8o]
  POP BP
  RET

o484b:
  DW 05f2,011d1,0712,011d1,05f2,011d1,0712,011d1,05f2,011d1,0712,011d1
  DW 05f2,011d1,0712,011d1,054c, 0fdf,064c, 0fdf,054c, 0fdf,064c, 0fdf
  DW 054c, 0fdf,064c, 0fdf,054c, 0fdf,064c, 0fdf,04b8, 0e24,059c, 0e24
  DW 04b8, 0e24,059c, 0e24,04b8, 0e24,059c, 0e24,04b8, 0e24,059c, 0e24

o4892:
  PUSH BP
  SUB SP,2
  MOV BP,SP
o4898:
  MOV AX,W[p6e82]
  CMP AX,08e8
  JGE o48b8
  MOV BX,064
  CWD
  IDIV BX
  ADD W[p6e82],AX
  CALL o4964
  MOV AX,3
  PUSH AX
  CALL o41c     ;Delay don't know
  MOV SP,BP
  JMP o4898
o48b8:
  ADD SP,2
  POP BP
  RET

o48bd:
  PUSH BP
  MOV BP,SP
  MOV W[p6e6a],0
  CALL o49f7
  MOV W[p6e6e],0
  MOV W[p6e7o],012c  ;???
  POP BP
  RET

o48d7:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  PUSH W[p6e7o]
  CALL o4b13
  MOV SP,BP
  CALL delay1            ;Death delay
  MOV AX,028
  PUSH AX
  CALL o4b13
  MOV SP,BP
  MOV AX,W[p6e7o]
  MOV BX,064
  CWD
  IDIV BX
  ADD W[p6e7o],AX
  ADD SP,2
  POP BP
  RET

o49oa:
  PUSH BP
  MOV BP,SP
  MOV W[p6e6a],0
  CALL o49f7
  MOV W[p6e6e],0
  MOV W[p6e72],2000
  MOV W[p6e74],1000
  POP BP
  RET

o492a:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  MOV W[p6e6o],2
  MOV AX,W[p6e72]
  MOV W[p6e82],AX
  MOV BX,032
  CWD
  IDIV BX
  SUB W[p6e72],AX
  MOV AX,W[p6e74]
  MOV W[p6e84],AX
  CWD
  IDIV BX
  ADD W[p6e74],AX
  CALL o4964
  CALL delay2           ;Birth delay
  ADD SP,2
  POP BP
  RET

o4964:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  CMP W[p6e5a],0
  JNZ o4974
  JMP o49f2
o4974:
  CALL o4a3c
  PUSH W[p6e82]
  CALL o4b46
  MOV SP,BP
  CMP W[p6e84],500
  JGE o4995
  CMP W[p6e6o],2
  JNZ o4995
  MOV W[p6e84],500
o4995:
  CMP W[p6e84],1000
  JGE o49aa
  CMP W[p6e6o],1
  JNZ o49aa
  MOV W[p6e84],1000
o49aa:
  MOV AX,W[p6e84]
  MOV W[p38be],AX
  CS: MOV W[int8speed],AX
  OUT 040,AL
  MOV AL,AH
  OUT 040,AL
  MOV AX,W[p6e86]
  SUB AX,0a
  CMP AX,1
  MOV W[BP+2],AX
  JGE o49e1
  MOV W[BP+2],1
o49e1:
  CMP W[BP+2],032
  JLE o49ec
  MOV W[BP+2],032
o49ec:
  PUSH BX
  PUSH CX
  PUSH DX
  XOR DX,DX
  MOV AX,W[BP+2]
  CS: MOV CX,W[volume+2]
  CS: MOV BX,W[volume]
  CALL lmul
  XOR CX,CX
  MOV BX,100
  CALL ldiv
  CMP DX,0
  JE volok
  XOR AX,AX
  JMP volok2
volok:
  CMP AX,0
  JNE volok2
  MOV AX,1
volok2:
  MOV W[p38c3],AX
  POP DX
  POP CX
  POP BX
o49f2:
  ADD SP,4
  POP BP
  RET

o49f7:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  CMP W[p6e5e],1
  JNZ o4a37
  XOR AX,AX
  MOV BX,028
  PUSH BX
  MOV W[p38bc],AX
  MOV W[p6e5e],AX
  CALL o4b46
  MOV SP,BP
  IN AL,061
  MOV W[BP+2],AX
  AND AX,0fc
  OR AL,3
  OUT 061,AL
o4a37:
  ADD SP,4
  POP BP
  RET

o4a3c:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  MOV AX,W[p6e6o]
  CMP W[p6e5e],0
  MOV W[p38bc],AX
  JNZ o4a87
  CMP W[p6e5a],0
  JZ o4a87
  MOV W[p6e5e],1
  MOV AX,028
  PUSH AX
  CALL o4b46
  MOV SP,BP
  IN AL,061
  XOR AH,AH
  MOV W[BP+2],AX
  XOR AH,AH
  OR AL,3
  OUT 061,AL
o4a87:
  ADD SP,4
  POP BP
  RET

o4a8c:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  CMP W[p6e5c],0
  JNZ o4aa2
  CALL o117f
  MOV W[p6e5c],1
o4aa2:
  ADD SP,2
  POP BP
  RET

o4b13:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  CMP W[p6e5a],0
  JZ o4b41
  MOV AX,W[BP+6]
  OUT 042,AL
  MOV AL,AH
  OUT 042,AL
o4b41:
  ADD SP,2
  POP BP
  RET

o4b46:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  MOV AX,W[BP+6]
  OUT 042,AL
  MOV AL,AH
  OUT 042,AL
  ADD SP,2
  POP BP
  RET

o4b72:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  MOV AX,W[BP+6]
  MOV SI,AX
  CMP SI,0a
  JNB o4c85
  SHL SI,1
  CS: MOV BX,W[SI+o4c61]
  MOV AX,W[BP+8]
  SHL AX,1
  SHL AX,1
  PUSH BX
  PUSH W[BP+0a]
  PUSH AX
  CALL oc83
  MOV SP,BP
o4c85:
  ADD SP,2
  POP BP
  RET

o4c61:
  DW offset p6eb4,offset p6eco,offset p6ecc,offset p6ed8,offset p6ee4
  DW offset p6efo,offset p6efc,offset p6fo8,offset p6f14,offset p6f2o

o4c8a:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  MOV SI,AX
  SUB SI,020
  JB o4fe9
  CMP SI,040
  JNB o4fe9
  SHL SI,1
  CS: MOV AX,W[SI+o4f54]
  CMP AX,0
  JE o4fe9
  PUSH AX
  PUSH W[BP+8]
  PUSH W[BP+6]
  CALL oc83
  MOV SP,BP
o4fe9:
  POP BP
  RET

o4f54:
  DW offset p72ee,0,0,0,0,0,0,0,0,0,0,0,0,0,offset p7313,offset p7416
  DW offset p735d,offset p7382,offset p73a7,offset p73cc,offset p73f1
  DW offset p7416,offset p743b,offset p746o,offset p7485,offset p74aa
  DW 0,0,0,0,0,0,0,offset p6f2c,offset p6f51,offset p6f76,offset p6f9b
  DW offset p6fco,offset p6fe5,offset p7ooa,offset p7o2f,offset p7o54
  DW offset p7o79,offset p7o9e,offset p7oc3,offset p7oe8,offset p71od
  DW offset p7132,offset p7157,offset p717c,offset p71a1,offset p71c6
  DW offset p71eb,offset p721o,offset p7235,offset p725a,offset p727f
  DW offset p72a4,offset p72c9,0,0,0,0,offset p7338

o4feb:
  PUSH BP
  SUB SP,6
  MOV BP,SP
  MOV W[BP+4],0
o4ff6:
  MOV AX,W[BP+4]
  MOV SI,W[BP+0a]
  ADD SI,AX
  MOV BL,B[SI]
  XOR BH,BH
  TEST BX,BX
  MOV W[BP],BX
  JZ o5o24
  MOV BX,0a
  IMUL BX
  MOV BX,W[BP+0c]
  ADD BX,AX
  PUSH W[BP+0e]
  PUSH BX
  PUSH W[BP]
  CALL o4c8a
  MOV SP,BP
  INC W[BP+4]
  JMP o4ff6
o5o24:
  ADD SP,6
  POP BP
  RET

o5o29:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  MOV AX,W[BP+6]
  INC AX
  MOV BX,6
  CWD
  IDIV BX
  ADD DX,9
  PUSH DX
  MOV BX,offset p7ooa
  PUSH BX
  CALL o521a
  MOV SP,BP
  MOV AX,W[BP+6]
  INC AX
  INC AX
  MOV BX,6
  CWD
  IDIV BX
  ADD DX,9
  PUSH DX
  MOV BX,offset p6f2c
  PUSH BX
  CALL o521a
  MOV SP,BP
  MOV AX,W[BP+6]
  ADD AX,3
  MOV BX,6
  CWD
  IDIV BX
  ADD DX,9
  PUSH DX
  MOV BX,offset p7oe8
  PUSH BX
  CALL o521a
  MOV SP,BP
  MOV AX,W[BP+6]
  ADD AX,4
  MOV BX,6
  CWD
  IDIV BX
  ADD DX,9
  PUSH DX
  MOV BX,offset p7132
  PUSH BX
  CALL o521a
  MOV SP,BP
  MOV AX,W[BP+6]
  ADD AX,5
  MOV BX,6
  CWD
  IDIV BX
  ADD DX,9
  PUSH DX
  MOV BX,offset p7235
  PUSH BX
  CALL o521a
  MOV SP,BP
  MOV AX,W[BP+6]
  INC AX
  MOV BX,6
  CWD
  IDIV BX
  ADD DX,9
  PUSH DX
  MOV BX,offset p6fco
  PUSH BX
  CALL o521a
  MOV SP,BP
  MOV AX,W[BP+6]
  INC AX
  INC AX
  MOV BX,6
  CWD
  IDIV BX
  ADD DX,9
  PUSH DX
  MOV BX,offset p71a1
  PUSH BX
  CALL o521a
  MOV SP,BP
  ADD SP,2
  POP BP
  RET

o5odd:
  PUSH BP
  MOV BP,SP
  PUSH W[BP+4]
  MOV AX,offset p6f2c
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p6f51
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p6f76
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p6f9b
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p6fco
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p6fe5
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p7ooa
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p7o2f
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p7o54
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p7o79
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p7o9e
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p7oc3
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p7oe8
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p71od
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p7132
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p7157
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p717c
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p71a1
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p71c6
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p71eb
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p721o
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p7235
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p725a
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p727f
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p72a4
  PUSH AX
  CALL o521a
  MOV SP,BP
  PUSH W[BP+4]
  MOV AX,offset p72c9
  PUSH AX
  CALL o521a
  MOV SP,BP
  POP BP
  RET

o521a:
  PUSH BP
  SUB SP,0c
  MOV BP,SP
  MOV AX,W[BP+012]
  MOV CL,4
  MOV W[BP+8],AX
  SHL AX,CL
  MOV W[BP+6],2
  MOV W[BP+0a],AX
o5232:
  MOV AX,W[BP+6]
  CMP AX,025
  JGE o528o
  MOV SI,W[BP+010]
  ADD SI,AX
  MOV AL,B[SI]
  XOR AH,AH
  TEST AX,0f
  MOV W[BP+2],AX
  MOV W[BP],SI
  JZ o525a
  AND AX,0f0
  MOV B[SI],AL
  XOR AH,AH
  OR AX,W[BP+8]
  MOV B[SI],AL
o525a:
  MOV SI,W[BP+010]
  ADD SI,W[BP+6]
  MOV AL,B[SI]
  XOR AH,AH
  TEST AX,0f0
  MOV W[BP+2],AX
  MOV W[BP],SI
  JZ o527b
  AND AX,0f
  MOV B[SI],AL
  XOR AH,AH
  OR AX,W[BP+0a]
  MOV B[SI],AL
o527b:
  INC W[BP+6]
  JMP o5232
o528o:
  ADD SP,0c
  POP BP
  RET

o536d:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  SUB AX,030
  JBE o53cb
  CMP AX,9
  JG o53cb
  POP BP
  RET
o53cb:
  XOR AX,AX
  POP BP
  RET

o53cd:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  MOV SI,AX
  SUB SI,2
  JB o551b
  CMP SI,038
  JNB o551b
  XOR AH,AH
  CS: MOV AL,B[SI+o5498]
  POP BP
  RET
o551b:
  XOR AX,AX
  POP BP
  RET

o5498:
  DB "1234567890",0,0,0,0
  DB "QWERTYUIOP",0,0,0,0
  DB "ASDFGHJKL",0,0,0,0,0
  DB "ZXCVBNM",0,".",0,0,0,0," "

o551e:
  PUSH BP
  MOV BP,SP
  MOV AX,0a
  PUSH AX
  CALL o1o5o
  MOV SP,BP
  MOV AX,0d
  PUSH AX
  CALL o1o5o
  MOV SP,BP
  POP BP
  RET

o5535:
  PUSH BP
  SUB SP,8
  MOV BP,SP
  MOV W[BP+4],0
o554o:
  MOV SI,W[BP+0c]
  ADD SI,W[BP+4]
  MOV AL,B[SI]
  XOR AH,AH
  TEST AX,AX
  MOV W[BP],AX
  JZ o5562
  PUSH W[BP+0e]
  PUSH AX
  MOV W[BP+6],AX
  CALL o1o5o
  MOV SP,BP
  INC W[BP+4]
  JMP o554o
o5562:
  CALL o551e
  ADD SP,8
  POP BP
  RET

o556a:
  PUSH BP
  SUB SP,0a
  MOV BP,SP
  MOV W[p74d8],0af
  MOV W[BP+8],0
  CALL o4c3
  XOR AX,AX
  PUSH AX
  CALL o44b
  POP AX
  CALL ocec
  MOV B[pc3],0
  CALL o37cf
  CALL o4427
o55a8:
  MOV AL,B[pc3]
  TEST AL,AL
  JZ o55b6
  XOR AH,AH
  AND AX,080
  JZ o55do
o55b6:
  XOR AX,AX
  PUSH AX
  CALL o44b
  MOV SP,BP
  MOV DX,03d9
  XOR AL,AL
  OUT DX,AL    ;Border colour 0
  CALL o1142
  CALL o3e6d
o55do:
  CALL o3575
  CALL o364c
  MOV B[pc3],0
  MOV W[pcb],0
  MOV AX,6
  PUSH AX
  CALL o543
  MOV SP,BP
  XOR AX,AX
  PUSH AX
  CALL o8c1
  MOV SP,BP
  MOV AX,7
  PUSH AX
  MOV AX,9
  PUSH AX
  MOV AX,09e
  PUSH AX
  MOV AX,9
  PUSH AX
  MOV AX,1
  PUSH AX
  CALL oab6
  MOV SP,BP
  MOV AX,7
  PUSH AX
  MOV AX,062
  PUSH AX
  MOV AX,09e
  PUSH AX
  MOV AX,9
  PUSH AX
  MOV AX,09e
  PUSH AX
  CALL oab6
  MOV SP,BP
  MOV AX,7
  PUSH AX
  MOV AX,062
  PUSH AX
  MOV AX,1
  PUSH AX
  MOV AX,062
  PUSH AX
  MOV AX,09e
  PUSH AX
  CALL oab6
  MOV SP,BP
  MOV AX,7
  PUSH AX
  MOV AX,9
  PUSH AX
  MOV AX,1
  PUSH AX
  MOV AX,062
  PUSH AX
  MOV AX,1
  PUSH AX
  CALL oab6
  MOV SP,BP
  MOV AX,7
  PUSH AX
  MOV AX,0a
  PUSH AX
  MOV AX,09d
  PUSH AX
  MOV AX,0a
  PUSH AX
  MOV AX,2
  PUSH AX
  CALL oab6
  MOV SP,BP
  MOV AX,7
  PUSH AX
  MOV AX,061
  PUSH AX
  MOV AX,09d
  PUSH AX
  MOV AX,0a
  PUSH AX
  MOV AX,09d
  PUSH AX
  CALL oab6
  MOV SP,BP
  MOV AX,7
  PUSH AX
  MOV AX,061
  PUSH AX
  MOV AX,2
  PUSH AX
  MOV AX,061
  PUSH AX
  MOV AX,09d
  PUSH AX
  CALL oab6
  MOV SP,BP
  MOV AX,7
  PUSH AX
  MOV AX,0a
  PUSH AX
  MOV AX,2
  PUSH AX
  MOV AX,061
  PUSH AX
  MOV AX,2
  PUSH AX
  CALL oab6
  MOV SP,BP
  MOV W[p74d4],1
  MOV W[p74d2],3
  CALL o38d8
  CALL o43c7
  MOV B[pc3],0
  CALL o57b5
  MOV W[pcb],1
  CALL o5c3
o56dd:
  CMP W[p74d2],0
  JNZ o56e7
  JMP o57af
o56e7:
  MOV W[p74do],0
o56ed:
  CMP W[p74do],0
  JNZ o5739
  CMP W[p74d6],0
  JNZ o5739
  CALL o21do
  CALL o135f
  CALL o435e
  CALL o1bo9
  CALL o21do
  CALL o135f
  CALL o435e
  CALL o1bo9
  CALL o21do
  CALL o1bo9
  CALL o21do
  CALL o135f
  CALL o435e
  CALL o21do
  CALL o1bo9
  CALL o38ef
  CALL o58ac
  JMP o56ed
o5739:
  CMP W[p74do],0
  JZ o575o
  CALL o297a
  CALL o1f25
  CALL o1dcb
  DEC W[p74d2]
  CALL o3cc3
o575o:
  CMP W[p74d6],0
  JZ o56dd
  CALL o49f7
  CALL o1f25
  CALL o28bc
  CALL o3bd3
  CALL o57d5
  MOV AX,W[p74d4]
  INC AX
  CMP AX,9
  MOV W[p74d4],AX
  JLE o5778
  MOV W[p74d4],9
o5778:
  XOR AX,AX
  MOV W[BP+6],AX
  MOV W[pcb],AX
o578o:
  CMP W[BP+6],9
  JGE o57ao
  XOR AX,AX
  PUSH AX
  PUSH W[BP+6]
  MOV AX,09f
  PUSH AX
  PUSH W[BP+6]
  XOR AX,AX
  PUSH AX
  CALL oab6
  MOV SP,BP
  INC W[BP+6]
  JMP o578o
o57ao:
  MOV W[pcb],1
  CALL o57b5
  CALL o5c3
  JMP o56dd
o57af:
  CALL o3a65
  JMP o55a8
o57b5:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  MOV W[p74d6],0
  CALL o1227
  CALL o1ae5
  CALL o21ad
  CALL o37aa
  CALL o3cc3
  ADD SP,2
  POP BP
  RET

o57d5:
  PUSH BP
  SUB SP,6
  MOV BP,SP
  CALL o4744
  MOV W[pcb],0
  MOV W[BP+4],0b
o57e9:
  CMP W[BP+4],01c
  JGE o58oa
  XOR AX,AX
  PUSH AX
  PUSH W[BP+4]
  MOV AX,09c
  PUSH AX
  PUSH W[BP+4]
  MOV AX,3
  PUSH AX
  CALL oab6
  MOV SP,BP
  INC W[BP+4]
  JMP o57e9
o58oa:
  MOV W[BP+2],01c
o58of:
  MOV AX,W[BP+2]
  CMP AX,061
  JGE o5847
  MOV W[BP+4],AX
o581a:
  MOV AX,W[BP+2]
  ADD AX,3
  MOV BX,W[BP+4]
  CMP BX,AX
  JGE o583e
  XOR AX,AX
  PUSH AX
  PUSH BX
  MOV AX,09c
  PUSH AX
  PUSH BX
  MOV AX,3
  PUSH AX
  CALL oab6
  MOV SP,BP
  INC W[BP+4]
  JMP o581a
o583e:
  CALL o476o
  MOV AX,8
  PUSH AX
  CALL o41c       ;Delay don't know
  POP AX
  ADD W[BP+2],3
  JMP o58of
o5847:
  CALL o4892
  CALL o4744
  MOV W[pcb],1
  ADD SP,6
  POP BP
  RET

o5858:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  MOV W[p74do],AX
  POP BP
  RET

o5863:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  MOV W[p74d6],AX
  POP BP
  RET

o586e:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  CMP W[p74do],0
  JNZ o5882
  CMP W[p74d6],0
  JZ o588a
o5882:
  MOV AX,1
  ADD SP,2
  POP BP
  RET
o588a:
  XOR AX,AX
  ADD SP,2
  POP BP
  RET

o5891:
  PUSH BP
  MOV BP,SP
  MOV AX,W[p74d4]
  POP BP
  RET

o58a4:
  PUSH BP
  MOV BP,SP
  MOV AX,W[p74d2]
  POP BP
  RET

o58ac:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  MOV AL,B[pc3]
  XOR AH,AH
  CMP AX,039
  MOV W[BP],AX
  JZ o58c4
  CMP AX,0b9
  JNZ o5934
o58c4:
  MOV AX,028
  PUSH AX
  CALL o4b13
  MOV SP,BP
  CALL o49f7
  MOV AX,3
  PUSH AX
  CALL o5odd
  MOV SP,BP
  MOV AX,1
  PUSH AX
  XOR AX,AX
  PUSH AX
  MOV AX,offset p74da
  PUSH AX
  CALL o4feb
  MOV SP,BP
o58e9:
  MOV AL,B[pc3]
  XOR AH,AH
  CMP AX,039
  JNZ o58fe
  MOV AX,028
  PUSH AX
  CALL o4b13
  MOV SP,BP
  JMP o58e9
o58fe:
  MOV AL,B[pc3]
  XOR AH,AH
  AND AX,080
  JZ o5913
  MOV AX,028
  PUSH AX
  CALL o4b13
  MOV SP,BP
  JMP o58fe
o5913:
  MOV AX,7
  PUSH AX
  CALL o5odd
  MOV SP,BP
  MOV AX,1
  PUSH AX
  XOR AX,AX
  PUSH AX
  MOV AX,offset p74eb
  PUSH AX
  CALL o4feb
  MOV SP,BP
  CALL o3cc3
  MOV B[pc3],0
o5934:
  ADD SP,4
  POP BP
  RET

o596b:
  MOV W[BP],010
o597o:
  SHR SI,1
  RCR AX,1
  RCR BX,1
  RCR CX,1
  RCR DX,1
  SHR DI,1
  JNB o598d
  ADD DX,W[BP+014]
  ADC CX,W[BP+012]
  ADC BX,W[BP+010]
  ADC AX,W[BP+0e]
  ADC SI,0
o598d:
  DEC W[BP]
  JNZ o597o
  RET

o5993:
  PUSH BP
  PUSH DI
  SUB SP,016
  MOV BP,SP
  MOV DI,W[SI+6]
  XOR DI,AX
  MOV W[BP+2],DI
  AND AX,07fff
  JNZ o59b8
  MOV DI,AX
  OR DI,BX
  JNZ o59b8
  OR DI,CX
  JNZ o59b8
  OR DI,DX
  JNZ o59b8
  JMP o5a41
o59b8:
  MOV DI,W[SI+6]
  AND DI,07fff
  JNZ o59cf
  OR DI,W[SI+4]
  JNZ o59cf
  OR DI,W[SI+2]
  JNZ o59cf
  OR DI,W[SI]
  JZ o5a41
o59cf:
  CALL o689c
  MOV W[BP+4],SI
  MOV W[BP+6],AX
  MOV W[BP+8],BX
  MOV W[BP+0a],CX
  MOV W[BP+0c],DX
  MOV SI,W[BP+01c]
  MOV AX,W[SI+6]
  MOV BX,W[SI+4]
  MOV CX,W[SI+2]
  MOV DX,W[SI]
  CALL o689c
  ADD W[BP+4],SI
  MOV W[BP+0e],AX
  MOV W[BP+010],BX
  MOV W[BP+012],CX
  MOV W[BP+014],DX
  XOR SI,SI
  XOR AX,AX
  XOR BX,BX
  XOR CX,CX
  XOR DX,DX
  MOV DI,W[BP+0c]
  CALL o596b
  MOV DI,W[BP+0a]
  CALL o596b
  MOV DI,W[BP+8]
  CALL o596b
  MOV DI,W[BP+6]
  CALL o596b
o5a23:
  TEST SI,SI
  JZ o5a36
  SHR SI,1
  RCR AX,1
  RCR BX,1
  RCR CX,1
  RCR DX,1
  INC W[BP+4]
  JMP o5a23
o5a36:
  MOV SI,W[BP+4]
  MOV DI,W[BP+2]
  CALL o68ce
  JMP o5a49
o5a41:
  XOR AX,AX
  XOR BX,BX
  XOR CX,CX
  XOR DX,DX
o5a49:
  MOV SI,W[BP+01c]
  ADD SP,016
  POP DI
  POP BP
  RET 2

o5a54:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  MOV W[BP],AX
  OR AX,BX
  JZ o5aco
  MOV W[BP+2],CX
  OR CX,DX
  JZ o5abc
  MOV AX,W[BP]
  MOV CX,W[BP+2]
  MOV SI,AX
  TEST SI,SI
  JNS o5a7b
  NOT AX
  NEG BX
  SBB AX,-1
o5a7b:
  XOR SI,CX
  MOV W[BP],SI
  TEST CX,CX
  JNS o5a8b
  NOT CX
  NEG DX
  SBB CX,-1
o5a8b:
  MOV SI,020
  MOV W[BP+2],SI
  XOR SI,SI
  XOR DI,DI
o5a95:
  SHR SI,1
  RCR DI,1
  RCR AX,1
  RCR BX,1
  JNB o5aa3
  ADD DI,DX
  ADC SI,CX
o5aa3:
  DEC W[BP+2]
  JNZ o5a95
  SHR AX,1
  RCR BX,1
  MOV SI,W[BP]
  TEST SI,SI
  JNS o5aco
  NOT AX
  NEG BX
  SBB AX,-1
  JMP o5aco
o5abc:
  XOR AX,AX
  XOR BX,BX
o5aco:
  ADD SP,4
  POP BP
  RET

o5ac5:
  PUSH BP
  MOV BP,SP
  PUSH W[BP+6]
  PUSH W[BP+4]
  CALL o172
  MOV SP,BP
  POP BP
  RET

o5ad5:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  MOV W[BP+2],0
o5aeo:
  MOV SI,W[BP+8]
  ADD SI,W[BP+2]
  MOV AL,B[SI]
  XOR AH,AH
  TEST AX,AX
  JZ o5af3
  INC W[BP+2]
  JMP o5aeo
o5af3:
  MOV AX,W[BP+2]
  ADD SP,4
  POP BP
  RET

o5afb:
  PUSH BP
  SUB SP,4
  MOV BP,SP
  MOV W[BP],CX
  OR CX,DX
  JNZ o5bof
  XOR AX,AX
  XOR BX,BX
  JMP o5ba6
o5bof:
  MOV W[BP+2],AX
  OR AX,BX
  JNZ o5b1d
  XOR CX,CX
  XOR DX,DX
  JMP o5ba6
o5b1d:
  MOV CX,W[BP]
  MOV AX,W[BP+2]
  MOV SI,AX
  TEST SI,SI
  JNS o5b3o
  NOT AX
  NEG BX
  SBB AX,-1
o5b3o:
  XOR SI,CX
  MOV W[BP],SI
  XOR SI,SI
  TEST CX,CX
  JNS o5b42
  NOT CX
  NEG DX
  SBB CX,-1
o5b42:
  JNZ o5b69
  TEST DX,DX
  JS o5b61
  MOV DI,020
o5b4b:
  SHL BX,1
  RCL AX,1
  RCL SI,1
  CMP SI,DX
  JB o5b58
  SUB SI,DX
  INC BX
o5b58:
  DEC DI
  JNZ o5b4b
  XOR CX,CX
  MOV DX,SI
  JMP o5b8a
o5b61:
  SHL BX,1
  RCL AX,1
  SHL DX,1
  RCL CX,1
o5b69:
  MOV DI,010
o5b6c:
  SHL BX,1
  RCL AX,1
  RCL SI,1
  CMP SI,CX
  JB o5b81
  JNZ o5b7c
  CMP AX,DX
  JB o5b81
o5b7c:
  SUB AX,DX
  SBB SI,CX
  INC BX
o5b81:
  DEC DI
  JNZ o5b6c
  MOV CX,SI
  MOV DX,AX
  XOR AX,AX
o5b8a:
  TEST W[BP],08000
  JZ o5b98
  NOT AX
  NEG BX
  SBB AX,-1
o5b98:
  TEST W[BP+2],08000
  JZ o5ba6
  NOT CX
  NEG DX
  SBB CX,-1
o5ba6:
  ADD SP,4
  POP BP
  RET

o5bab:
  PUSH BP
  SUB SP,4
  MOV BP,SP
o5bb1:
  MOV SI,W[BP+8]
  INC W[BP+8]
  MOV DI,W[BP+0a]
  INC W[BP+0a]
  MOV AL,B[DI]
  MOV B[SI],AL
  TEST AL,AL
  JNZ o5bb1
  ADD SP,4
  POP BP
  RET

o5bca:
  PUSH BP
  SUB SP,014
  MOV BP,SP
  MOV SI,W[BP+018]
  MOV B[SI],0
  CMP W[BP+01c],2
  JGE o5be3
  XOR AX,AX
  ADD SP,014
  POP BP
  RET
o5be3:
  MOV W[BP+4],0b
o5be8:
  MOV AX,W[BP+4]
  DEC AX
  MOV SI,AX
  MOV W[BP+4],AX
  MOV AX,W[BP+01a]
  MOV BX,0a
  XOR DX,DX
  DIV BX
  ADD DX,030
  MOV B[BP+SI+8],DL
  MOV AX,W[BP+01a]
  XOR DX,DX
  DIV BX
  MOV W[BP+01a],AX
  CMP W[BP+01a],0
  JNZ o5be8
  MOV AX,0b
  MOV BX,W[BP+4]
  SUB AX,BX
  MOV CX,W[BP+01c]
  CMP AX,CX
  MOV W[BP],AX
  JL o5c29
  INC AX
  SUB AX,CX
  ADD W[BP+4],AX
o5c29:
  MOV W[BP+6],0
o5c2e:
  MOV AX,W[BP+4]
  CMP AX,0b
  JGE o5c4b
  MOV SI,W[BP+018]
  ADD SI,W[BP+6]
  INC W[BP+4]
  MOV DI,AX
  MOV AL,B[BP+DI+8]
  MOV B[SI],AL
  INC W[BP+6]
  JMP o5c2e
o5c4b:
  MOV AX,W[BP+6]
  MOV SI,W[BP+018]
  ADD SI,AX
  MOV B[SI],0
  ADD SP,014
  POP BP
  RET
o5c5b:
  MOV W[BP],010
  XOR DI,DI
o5c62:
  SHL DI,1
  TEST SI,SI
  JNZ o5c82
  CMP AX,W[BP+0e]
  JB o5c92
  JNZ o5c82
  CMP BX,W[BP+010]
  JB o5c92
  JNZ o5c82
  CMP CX,W[BP+012]
  JB o5c92
  JNZ o5c82
  CMP DX,W[BP+014]
  JBE o5c92
o5c82:
  SUB DX,W[BP+014]
  SBB CX,W[BP+012]
  SBB BX,W[BP+010]
  SBB AX,W[BP+0e]
  SBB SI,0
  INC DI
o5c92:
  SHL DX,1
  RCL CX,1
  RCL BX,1
  RCL AX,1
  RCL SI,1
  DEC W[BP]
  JNZ o5c62
  RET

o5ca2:
  PUSH BP
  PUSH DI
  SUB SP,016
  MOV BP,SP
  MOV DI,W[SI+6]
  XOR DI,AX
  MOV W[BP+2],DI
  AND AX,07fff
  JNZ o5cc7
  MOV DI,AX
  OR DI,BX
  JNZ o5cc7
  OR DI,CX
  JNZ o5cc7
  OR DI,DX
  JNZ o5cc7
  JMP o5d53
o5cc7:
  MOV DI,W[SI+6]
  AND DI,07fff
  JNZ o5ce8
  OR DI,W[SI+4]
  JNZ o5ce8
  OR DI,W[SI+2]
  JNZ o5ce8
  OR DI,W[SI]
  JNZ o5ce8
  MOV AX,3
  PUSH AX
  CALL o61of
  POP AX
  JMP o5d53
o5ce8:
  CALL o689c
  MOV W[BP+4],SI
  MOV W[BP+6],AX
  MOV W[BP+8],BX
  MOV W[BP+0a],CX
  MOV W[BP+0c],DX
  MOV SI,W[BP+01c]
  MOV AX,W[SI+6]
  MOV BX,W[SI+4]
  MOV CX,W[SI+2]
  MOV DX,W[SI]
  CALL o689c
  SUB W[BP+4],SI
  MOV W[BP+0e],AX
  MOV W[BP+010],BX
  MOV W[BP+012],CX
  MOV W[BP+014],DX
  XOR SI,SI
  MOV AX,W[BP+6]
  MOV BX,W[BP+8]
  MOV CX,W[BP+0a]
  MOV DX,W[BP+0c]
  CALL o5c5b
  MOV W[BP+6],DI
  CALL o5c5b
  MOV W[BP+8],DI
  CALL o5c5b
  MOV W[BP+0a],DI
  CALL o5c5b
  MOV DX,DI
  MOV CX,W[BP+0a]
  MOV BX,W[BP+8]
  MOV AX,W[BP+6]
  MOV SI,W[BP+4]
  MOV DI,W[BP+2]
  CALL o68ce
  JMP o5d5b
o5d53:
  XOR AX,AX
  XOR BX,BX
  XOR CX,CX
  XOR DX,DX
o5d5b:
  MOV SI,W[BP+01c]
  ADD SP,016
  POP DI
  POP BP
  RET 2

o5d66:
  PUSH SI
  PUSH DI
  XOR BX,BX
  XOR CX,CX
  XOR DX,DX
  MOV DI,AX
  TEST AX,AX
  JNS o5d76
  NEG AX
o5d76:
  MOV SI,0f
  CALL o68ce
  POP DI
  POP SI
  RET

o5dce:
  PUSH SI
  PUSH DI
  MOV DI,AX
  AND DI,07fff
  JNZ o5ddd
o5dd8:
  XOR AX,AX
  POP DI
  POP SI
  RET
o5ddd:
  PUSH AX
  CALL o689c
  POP DI
  INC SI
  JLE o5dd8
  CMP SI,010
  JL o5def
  MOV AX,07fff
  JMP o5df6
o5def:
  MOV CX,010
  SUB CX,SI
  SHR AX,CL
o5df6:
  TEST DI,DI
  JNS o5dfc
  NEG AX
o5dfc:
  POP DI
  POP SI
  RET

o5ede:
  PUSH BP
  SUB SP,4
  MOV BP,SP
o5ee4:
  MOV SI,W[BP+8]
  MOV AL,B[SI]
  XOR AH,AH
  TEST AX,AX
  JZ o5ef4
  INC W[BP+8]
  JMP o5ee4
o5ef4:
  MOV SI,W[BP+8]
  INC W[BP+8]
  MOV DI,W[BP+0a]
  INC W[BP+0a]
  MOV AL,B[DI]
  MOV B[SI],AL
  TEST AL,AL
  JNZ o5ef4
  ADD SP,4
  POP BP
  RET

o5f1b:
  PUSH BP
  PUSH DI
  SUB SP,0e
  MOV BP,SP
  MOV W[BP],08000
  MOV W[BP+2],AX
  AND AX,07fff
  JNZ o5f4e
  MOV DI,AX
  OR DI,BX
  JNZ o5f4e
  OR DI,CX
  JNZ o5f4e
  OR DI,DX
  JNZ o5f4e
  MOV AX,W[SI+6]
  XOR AX,W[BP]
  MOV BX,W[SI+4]
  MOV CX,W[SI+2]
  MOV DX,W[SI]
  JMP o6o4b
o5f4e:
  MOV DI,W[SI+6]
  AND DI,07fff
  JNZ o5f6b
  OR DI,W[SI+4]
  JNZ o5f6b
  OR DI,W[SI+2]
  JNZ o5f6b
  OR DI,W[SI]
  JNZ o5f6b
  MOV AX,W[BP+2]
  JMP o6o4b
o5f6b:
  CALL o689c
  MOV W[BP+4],SI
  MOV W[BP+6],AX
  MOV W[BP+8],BX
  MOV W[BP+0a],CX
  MOV W[BP+0c],DX
  MOV SI,W[BP+014]
  MOV AX,W[SI+6]
  MOV BX,W[SI+4]
  MOV CX,W[SI+2]
  MOV DX,W[SI]
  CALL o689c
  MOV DI,SI
  SUB SI,W[BP+4]
  JGE o5fbf
  CMP SI,-040
  JG o5fb2
  MOV SI,W[BP+4]
  MOV DI,W[BP+2]
  MOV AX,W[BP+6]
  MOV BX,W[BP+8]
  MOV CX,W[BP+0a]
  MOV DX,W[BP+0c]
  CALL o68ce
  JMP o6o4b
o5fb2:
  SHR AX,1
  RCR BX,1
  RCR CX,1
  RCR DX,1
  INC SI
  JNZ o5fb2
  JMP o5fd9
o5fbf:
  MOV W[BP+4],DI
  CMP SI,040
  JL o5fd9
  MOV DI,W[BP+014]
  MOV DI,W[DI+6]
  XOR DI,W[BP]
  MOV SI,W[BP+4]
  CALL o68ce
  JMP o6o4b
o5fd9:
  XCHG AX,W[BP+6]
  XCHG BX,W[BP+8]
  XCHG CX,W[BP+0a]
  XCHG DX,W[BP+0c]
  TEST SI,SI
  JZ o5ff4
o5fe9:
  SHR AX,1
  RCR BX,1
  RCR CX,1
  RCR DX,1
  DEC SI
  JNZ o5fe9
o5ff4:
  MOV SI,W[BP+014]
  MOV SI,W[SI+6]
  XOR SI,W[BP+2]
  XOR SI,W[BP]
  JS o6o1d
  ADD DX,W[BP+0c]
  ADC CX,W[BP+0a]
  ADC BX,W[BP+8]
  ADC AX,W[BP+6]
  JNB o6o42
  RCR AX,1
  RCR BX,1
  RCR CX,1
  RCR DX,1
  INC W[BP+4]
  JMP o6o42
o6o1d:
  SUB DX,W[BP+0c]
  SBB CX,W[BP+0a]
  SBB BX,W[BP+8]
  SBB AX,W[BP+6]
  JNB o6o42
  XOR W[BP+2],08000
  NOT AX
  NOT BX
  NOT CX
  NEG DX
  CMC
  ADC CX,0
  ADC BX,0
  ADC AX,0
o6o42:
  MOV DI,W[BP+2]
  MOV SI,W[BP+4]
  CALL o68ce
o6o4b:
  MOV SI,W[BP+014]
  ADD SP,0e
  POP DI
  POP BP
  RET 2

o6o56:
  PUSH BP
  SUB SP,010c
  MOV BP,SP
  LEA AX,W[BP+0112]
  MOV W[BP+0a],AX
o6o64:
  MOV SI,W[BP+0110]
  MOV AL,B[SI]
  XOR AH,AH
  TEST AX,AX
  JZ o6oec
  MOV BX,SI
  MOV W[BP],BX
  INC BX
  MOV AL,B[SI]
  XOR AH,AH
  CMP AX,025
  MOV W[BP+4],AX
  MOV W[BP+0110],BX
  JNZ o6oe1
  MOV AL,B[BX]
  XOR AH,AH
  CMP AX,025
  JNZ o6oa2
  INC W[BP+0110]
  MOV AL,B[BX]
  XOR AH,AH
  PUSH AX
  MOV W[BP+4],AX
  CALL o6a3f
  MOV SP,BP
  JMP o6o64
o6oa2:
  LEA AX,W[BP+6]
  PUSH AX
  LEA AX,W[BP+0a]
  PUSH AX
  LEA AX,W[BP+0c]
  PUSH AX
  PUSH W[BP+0110]
  CALL o611o
  MOV SP,BP
  TEST AX,AX
  MOV W[BP+8],AX
  JZ o6o64
  MOV W[BP+2],0
  MOV W[BP+0110],AX
o6oc7:
  MOV AX,W[BP+2]
  CMP AX,W[BP+6]
  JGE o6o64
  MOV SI,AX
  MOV AL,B[BP+SI+0c]
  XOR AH,AH
  PUSH AX
  CALL o6a3f
  MOV SP,BP
  INC W[BP+2]
  JMP o6oc7
o6oe1:
  PUSH W[BP+4]
  CALL o6a3f
  MOV SP,BP
  JMP o6o64
o6oec:
  ADD SP,010c
  POP BP
  RET

o6of2:
  PUSH AX
  XOR AX,CX
  POP AX
  PUSH AX
  JS o61o8
  SUB AX,CX
  JNZ o61ob
  XOR AX,AX
  CMP BX,DX
  JZ o61ob
  JA o61o8
  DEC AX
  JMP o61ob
o61o8:
  OR AX,07fff
o61ob:
  TEST AX,AX
  POP AX
  RET

o61of:
  RET

o611o:
  PUSH BP
  SUB SP,036
  MOV BP,SP
  XOR AX,AX
  MOV W[BP+012],-1
  MOV W[BP+014],020
  MOV SI,W[BP+03a]
  MOV BL,B[SI]
  XOR BH,BH
  CMP BX,02d
  MOV W[BP+0c],AX
  MOV W[BP+016],AX
  MOV W[BP+0e],AX
  MOV W[BP+010],AX
  JNZ o6143
  MOV AX,1
  INC W[BP+03a]
  MOV W[BP+0c],AX
o6143:
  MOV SI,W[BP+03a]
  MOV AL,B[SI]
  XOR AH,AH
  MOV W[BP],AX
  INC AX
  MOV SI,AX
  MOV AL,B[SI+p751c]
  XOR AH,AH
  AND AX,4
  JZ o61a5
  CMP W[BP],030
  JNZ o6166
  MOV W[BP+014],030
o6166:
  MOV SI,W[BP+03a]
  INC W[BP+03a]
  MOV AL,B[SI]
  XOR AH,AH
  AND AX,0f
  MOV W[BP+016],AX
o6176:
  MOV SI,W[BP+03a]
  MOV AL,B[SI]
  XOR AH,AH
  INC AX
  MOV DI,AX
  MOV AL,B[DI+p751c]
  XOR AH,AH
  AND AX,4
  JZ o61a5
  MOV AX,W[BP+016]
  MOV BX,0a
  IMUL BX
  INC W[BP+03a]
  MOV BL,B[SI]
  XOR BH,BH
  AND BX,0f
  ADD AX,BX
  MOV W[BP+016],AX
  JMP o6176
o61a5:
  MOV SI,W[BP+03a]
  MOV AL,B[SI]
  XOR AH,AH
  CMP AX,02e
  JNZ o61e8
  INC W[BP+03a]
  MOV W[BP+012],0
o61b9:
  MOV SI,W[BP+03a]
  MOV AL,B[SI]
  XOR AH,AH
  INC AX
  MOV DI,AX
  MOV AL,B[DI+p751c]
  XOR AH,AH
  AND AX,4
  JZ o61e8
  MOV AX,W[BP+012]
  MOV BX,0a
  IMUL BX
  INC W[BP+03a]
  MOV BL,B[SI]
  XOR BH,BH
  AND BX,0f
  ADD AX,BX
  MOV W[BP+012],AX
  JMP o61b9
o61e8:
  MOV SI,W[BP+03a]
  MOV AL,B[SI]
  XOR AH,AH
  CMP AX,06c
  JNZ o61fd
  MOV AX,1
  INC W[BP+03a]
  MOV W[BP+0e],AX
o61fd:
  MOV W[BP+01c],0
  MOV SI,W[BP+03a]
  MOV AL,B[SI]
  XOR AH,AH
  JMP o64b7
o62oc:
  CMP W[BP+0e],0
  JZ o6229
  MOV SI,W[BP+03e]
  MOV AX,W[SI]
  ADD W[SI],4
  MOV SI,AX
  MOV BX,W[SI+2]
  MOV CX,W[SI]
  MOV W[BP+01e],CX
  MOV W[BP+020],BX
  JMP o6242
o6229:
  MOV SI,W[BP+03e]
  MOV AX,W[SI]
  ADD W[SI],2
  MOV SI,AX
  MOV BX,W[SI]
  XOR CX,CX
  TEST BX,BX
  JNS o623c
  DEC CX
o623c:
  MOV W[BP+020],CX
  MOV W[BP+01e],BX
o6242:
  MOV AX,W[BP+020]
  TEST AX,AX
  JNS o628b
  NOT W[BP+020]
  NEG W[BP+01e]
  SBB W[BP+020],-1
  MOV W[BP+010],1
  JMP o628b
o625a:
  CMP W[BP+0e],0
  JZ o6277
  MOV SI,W[BP+03e]
  MOV AX,W[SI]
  ADD W[SI],4
  MOV SI,AX
  MOV BX,W[SI+2]
  MOV CX,W[SI]
  MOV W[BP+01e],CX
  MOV W[BP+020],BX
  JMP o628b
o6277:
  MOV SI,W[BP+03e]
  MOV AX,W[SI]
  ADD W[SI],2
  MOV SI,AX
  MOV BX,W[SI]
  XOR AX,AX
  MOV W[BP+020],AX
  MOV W[BP+01e],BX
o628b:
  MOV W[BP+6],0b
o629o:
  MOV AX,W[BP+6]
  DEC AX
  MOV SI,AX
  MOV W[BP+6],AX
  MOV AX,W[BP+020]
  MOV BX,W[BP+01e]
  XOR CX,CX
  MOV DX,0a
  MOV W[BP],SI
  CALL o5afb
  ADD DX,030
  ADC CX,0
  MOV SI,W[BP]
  MOV B[BP+SI+022],DL
  MOV AX,W[BP+020]
  MOV BX,W[BP+01e]
  XOR CX,CX
  MOV DX,0a
  CALL o5afb
  MOV W[BP+020],AX
  MOV W[BP+01e],BX
  MOV AX,W[BP+020]
  OR AX,W[BP+01e]
  JNZ o629o
  CMP W[BP+010],1
  JNZ o62e5
  MOV AX,W[BP+6]
  DEC AX
  MOV SI,AX
  MOV B[BP+SI+022],02d
  MOV W[BP+6],AX
o62e5:
  LEA AX,W[BP+022]
  MOV BX,W[BP+6]
  ADD BX,AX
  MOV AX,0b
  SUB AX,W[BP+6]
  MOV W[BP+0a],AX
  MOV W[BP+01c],BX
  JMP o64cd
o62fc:
  CMP W[BP+0e],0
  JZ o6319
  MOV SI,W[BP+03e]
  MOV AX,W[SI]
  ADD W[SI],4
  MOV SI,AX
  MOV BX,W[SI+2]
  MOV CX,W[SI]
  MOV W[BP+01e],CX
  MOV W[BP+020],BX
  JMP o632d
o6319:
  MOV SI,W[BP+03e]
  MOV AX,W[SI]
  ADD W[SI],2
  MOV SI,AX
  MOV BX,W[SI]
  XOR AX,AX
  MOV W[BP+020],AX
  MOV W[BP+01e],BX
o632d:
  MOV W[BP+6],8
o6332:
  MOV AX,W[BP+6]
  DEC AX
  MOV SI,AX
  MOV BX,W[BP+020]
  MOV CX,W[BP+01e]
  XOR BX,BX
  AND CX,0f
  MOV BX,CX
  MOV CL,B[BX+p761e]
  MOV B[BP+SI+022],CL
  MOV CX,4
  MOV BX,W[BP+020]
  MOV DX,W[BP+01e]
  JCXZ o635e
o6358:
  SAR BX,1
  RCR DX,1
  LOOP o6358
o635e:
  MOV W[BP+020],BX
  AND BX,0fff
  MOV W[BP+6],AX
  MOV W[BP+01e],DX
  MOV W[BP+020],BX
  MOV AX,W[BP+020]
  OR AX,W[BP+01e]
  JNZ o6332
  LEA AX,W[BP+022]
  MOV BX,W[BP+6]
  ADD BX,AX
  MOV AX,8
  SUB AX,W[BP+6]
  MOV W[BP+0a],AX
  MOV W[BP+01c],BX
  JMP o64cd
o638d:
  CMP W[BP+0e],0
  JZ o63aa
  MOV SI,W[BP+03e]
  MOV AX,W[SI]
  ADD W[SI],4
  MOV SI,AX
  MOV BX,W[SI+2]
  MOV CX,W[SI]
  MOV W[BP+01e],CX
  MOV W[BP+020],BX
  JMP o63be
o63aa:
  MOV SI,W[BP+03e]
  MOV AX,W[SI]
  ADD W[SI],2
  MOV SI,AX
  MOV BX,W[SI]
  XOR AX,AX
  MOV W[BP+020],AX
  MOV W[BP+01e],BX
o63be:
  MOV W[BP+6],0b
o63c3:
  MOV AX,W[BP+6]
  DEC AX
  MOV SI,AX
  MOV BX,W[BP+020]
  MOV CX,W[BP+01e]
  XOR BX,BX
  AND CX,7
  ADD CX,030
  ADC BX,0
  MOV B[BP+SI+022],CL
  MOV CX,3
  MOV BX,W[BP+020]
  MOV DX,W[BP+01e]
  JCXZ o63ef
o63e9:
  SAR BX,1
  RCR DX,1
  LOOP o63e9
o63ef:
  MOV W[BP+020],BX
  AND BX,01fff
  MOV W[BP+6],AX
  MOV W[BP+01e],DX
  MOV W[BP+020],BX
  MOV AX,W[BP+020]
  OR AX,W[BP+01e]
  JNZ o63c3
  LEA AX,W[BP+022]
  MOV BX,W[BP+6]
  ADD BX,AX
  MOV AX,0b
  SUB AX,W[BP+6]
  MOV W[BP+0a],AX
  MOV W[BP+01c],BX
  JMP o64cd
o641e:
  CMP W[BP+012],-1
  JNZ o6429
  MOV W[BP+012],0c8
o6429:
  MOV W[BP+0a],0
o642e:
  MOV AX,W[BP+0a]
  CMP AX,W[BP+012]
  JGE o644c
  MOV DI,W[BP+03e]
  MOV SI,W[DI]
  MOV DI,W[SI]
  ADD DI,AX
  MOV AL,B[DI]
  XOR AH,AH
  TEST AX,AX
  JZ o644c
  INC W[BP+0a]
  JMP o642e
o644c:
  MOV SI,W[BP+03e]
  MOV AX,W[SI]
  ADD W[SI],2
  MOV SI,AX
  MOV BX,W[SI]
  MOV W[BP+01c],BX
  JMP o64cd
o645d:
  LEA AX,W[BP+022]
  MOV W[BP+0a],1
  MOV SI,W[BP+03e]
  MOV BX,W[SI]
  ADD W[SI],2
  MOV CX,W[BX]
  MOV W[BP+01c],AX
  MOV B[BP+022],CL
  JMP o64cd
o6477:
  MOV W[BP+01a],2
  JMP o64cd
o647e:
  MOV W[BP+01a],0
  JMP o64cd
o6485:
  MOV W[BP+01a],1
  JMP o64cd
o648c:
  XOR AX,AX
  ADD SP,036
  POP BP
  RET

o6493:
  DW 066,offset o6485
  DW 065,offset o647e
  DW 067,offset o6477
  DW 063,offset o645d
  DW 073,offset o641e
  DW 06f,offset o638d
  DW 078,offset o62fc
  DW 075,offset o625a
  DW 064,offset o62oc

o64b7:
  MOV SI,020
o64ba:
  CS: CMP AX,W[SI+o6493]
  JNZ o64c6
  CS: JMP W[SI+o6493+2]
o64c6:
  SUB SI,4
  JNS o64ba
  JMP o648c
o64cd:
  CMP W[BP+01c],0
  JNZ o64d6
  JMP o6588
o64d6:
  MOV AX,W[BP+016]
  TEST AX,AX
  JZ o64e2
  CMP AX,W[BP+0a]
  JGE o64e8
o64e2:
  MOV AX,W[BP+0a]
  MOV W[BP+016],AX
o64e8:
  MOV AX,W[BP+0a]
  SUB W[BP+016],AX
  MOV W[BP+6],0
  CMP W[BP+0c],0
  JZ o6538
o64f9:
  MOV AX,W[BP+0a]
  DEC AX
  TEST AX,AX
  MOV W[BP+0a],AX
  JS o651b
  MOV AX,W[BP+6]
  INC W[BP+6]
  MOV SI,W[BP+03c]
  ADD SI,AX
  MOV DI,W[BP+01c]
  INC W[BP+01c]
  MOV AL,B[DI]
  MOV B[SI],AL
  JMP o64f9
o651b:
  MOV AX,W[BP+016]
  DEC AX
  TEST AX,AX
  MOV W[BP+016],AX
  JS o6577
  MOV AX,W[BP+6]
  INC W[BP+6]
  MOV SI,W[BP+03c]
  ADD SI,AX
  MOV AX,W[BP+014]
  MOV B[SI],AL
  JMP o651b
o6538:
  MOV AX,W[BP+016]
  DEC AX
  TEST AX,AX
  MOV W[BP+016],AX
  JS o6555
  MOV AX,W[BP+6]
  INC W[BP+6]
  MOV SI,W[BP+03c]
  ADD SI,AX
  MOV AX,W[BP+014]
  MOV B[SI],AL
  JMP o6538
o6555:
  MOV AX,W[BP+0a]
  DEC AX
  TEST AX,AX
  MOV W[BP+0a],AX
  JS o6577
  MOV AX,W[BP+6]
  INC W[BP+6]
  MOV SI,W[BP+03c]
  ADD SI,AX
  MOV DI,W[BP+01c]
  INC W[BP+01c]
  MOV AL,B[DI]
  MOV B[SI],AL
  JMP o6555
o6577:
  MOV AX,W[BP+6]
  MOV SI,W[BP+040]
  MOV W[SI],AX
  MOV AX,W[BP+03a]
  INC AX
  ADD SP,036
  POP BP
  RET
o6588:
  CMP W[BP+012],-1
  JNZ o6593
  MOV W[BP+012],6
o6593:
  CMP W[BP+012],014
  JLE o659e
  MOV W[BP+012],014
o659e:
  MOV AX,W[BP+012]
  INC AX
  LEA BX,W[BP+022]
  PUSH BX
  LEA BX,W[BP+010]
  PUSH BX
  LEA BX,W[BP+018]
  PUSH BX
  PUSH W[BP+01a]
  PUSH AX
  MOV BX,W[BP+03e]
  PUSH W[BX]
  CALL o6bd3
  MOV SP,BP
  MOV SI,W[BP+03e]
  ADD W[SI],8
  LEA BX,W[BP+022]
  MOV CX,W[BP+018]
  TEST CX,CX
  MOV W[BP+0a],AX
  MOV W[BP+6],CX
  MOV W[BP+01c],BX
  JNS o65d8
  NEG W[BP+6]
o65d8:
  CMP W[BP+01a],2
  JNZ o65ef
  CMP W[BP+0a],0
  JZ o65ea
  CMP W[BP+6],6
  JGE o65ef
o65ea:
  MOV W[BP+01a],0
o65ef:
  CMP W[BP+0a],0
  JZ o65f8
  DEC W[BP+018]
o65f8:
  XOR AX,AX
  MOV W[BP+6],AX
  CMP W[BP+010],0
  JZ o66o6
  INC W[BP+6]
o66o6:
  CMP W[BP+01a],0
  JZ o662d
  MOV AX,W[BP+012]
  INC AX
  MOV BX,W[BP+6]
  ADD BX,AX
  MOV AX,W[BP+018]
  TEST AX,AX
  MOV W[BP+6],BX
  JS o6622
  ADD W[BP+6],AX
o6622:
  CMP W[BP+012],0
  JZ o6659
  INC W[BP+6]
  JMP o6659
o662d:
  MOV AX,W[BP+012]
  ADD AX,6
  ADD W[BP+6],AX
  MOV AX,W[BP+018]
  TEST AX,AX
  JNS o6641
  NEG AX
  JMP o6644
o6641:
  MOV AX,W[BP+018]
o6644:
  CMP AX,063
  MOV W[BP+8],AX
  JLE o664f
  INC W[BP+6]
o664f:
  CMP W[BP+8],03e7
  JLE o6659
  INC W[BP+6]
o6659:
  CMP W[BP+0c],0
  JNZ o6688
  MOV AX,W[BP+016]
  CMP AX,W[BP+6]
  JLE o6688
  MOV BX,W[BP+6]
  SUB W[BP+016],BX
o666d:
  MOV AX,W[BP+016]
  DEC AX
  TEST AX,AX
  MOV W[BP+016],AX
  JS o6688
  MOV SI,W[BP+03c]
  INC W[BP+03c]
  MOV AX,W[BP+014]
  MOV B[SI],AL
  INC W[BP+6]
  JMP o666d
o6688:
  CMP W[BP+010],0
  JZ o6697
  MOV SI,W[BP+03c]
  INC W[BP+03c]
  MOV B[SI],02d
o6697:
  CMP W[BP+01a],0
  JNZ o66ao
  JMP o6782
o66ao:
  MOV AX,W[BP+018]
  TEST AX,AX
  JNS o67ob
  MOV SI,W[BP+03c]
  MOV AX,SI
  MOV W[BP],AX
  INC AX
  MOV B[SI],030
  MOV SI,AX
  MOV W[BP+03c],AX
  INC AX
  MOV B[SI],02e
  MOV W[BP+03c],AX
o66bf:
  MOV AX,W[BP+012]
  DEC AX
  TEST AX,AX
  MOV W[BP+012],AX
  JNS o66cd
  JMP o685c
o66cd:
  MOV AX,W[BP+018]
  INC AX
  TEST AX,AX
  MOV W[BP+018],AX
  JNS o66e3
  MOV SI,W[BP+03c]
  INC W[BP+03c]
  MOV B[SI],030
  JMP o66bf
o66e3:
  MOV AX,W[BP+0a]
  DEC AX
  TEST AX,AX
  MOV W[BP+0a],AX
  JS o67oo
  MOV SI,W[BP+03c]
  INC W[BP+03c]
  MOV DI,W[BP+01c]
  INC W[BP+01c]
  MOV AL,B[DI]
  MOV B[SI],AL
  JMP o66bf
o67oo:
  MOV SI,W[BP+03c]
  INC W[BP+03c]
  MOV B[SI],030
  JMP o66bf
o67ob:
  MOV AX,W[BP+018]
  DEC W[BP+018]
  TEST AX,AX
  JS o673d
  MOV AX,W[BP+0a]
  DEC AX
  TEST AX,AX
  MOV W[BP+0a],AX
  JS o6732
  MOV SI,W[BP+03c]
  INC W[BP+03c]
  MOV DI,W[BP+01c]
  INC W[BP+01c]
  MOV AL,B[DI]
  MOV B[SI],AL
  JMP o67ob
o6732:
  MOV SI,W[BP+03c]
  INC W[BP+03c]
  MOV B[SI],030
  JMP o67ob
o673d:
  CMP W[BP+012],0
  JZ o674c
  MOV SI,W[BP+03c]
  INC W[BP+03c]
  MOV B[SI],02e
o674c:
  MOV AX,W[BP+012]
  DEC AX
  TEST AX,AX
  MOV W[BP+012],AX
  JNS o675a
  JMP o685c
o675a:
  MOV AX,W[BP+0a]
  DEC AX
  TEST AX,AX
  MOV W[BP+0a],AX
  JS o6777
  MOV SI,W[BP+03c]
  INC W[BP+03c]
  MOV DI,W[BP+01c]
  INC W[BP+01c]
  MOV AL,B[DI]
  MOV B[SI],AL
  JMP o674c
o6777:
  MOV SI,W[BP+03c]
  INC W[BP+03c]
  MOV B[SI],030
  JMP o674c
o6782:
  MOV AX,W[BP+0a]
  DEC AX
  TEST AX,AX
  MOV W[BP+0a],AX
  JS o679f
  MOV SI,W[BP+03c]
  INC W[BP+03c]
  MOV DI,W[BP+01c]
  INC W[BP+01c]
  MOV AL,B[DI]
  MOV B[SI],AL
  JMP o67a8
o679f:
  MOV SI,W[BP+03c]
  INC W[BP+03c]
  MOV B[SI],030
o67a8:
  MOV SI,W[BP+03c]
  INC W[BP+03c]
  MOV B[SI],02e
o67b1:
  MOV AX,W[BP+012]
  DEC AX
  TEST AX,AX
  MOV W[BP+012],AX
  JS o67e4
  MOV AX,W[BP+0a]
  DEC AX
  TEST AX,AX
  MOV W[BP+0a],AX
  JS o67d9
  MOV SI,W[BP+03c]
  INC W[BP+03c]
  MOV DI,W[BP+01c]
  INC W[BP+01c]
  MOV AL,B[DI]
  MOV B[SI],AL
  JMP o67b1
o67d9:
  MOV SI,W[BP+03c]
  INC W[BP+03c]
  MOV B[SI],030
  JMP o67b1
o67e4:
  MOV SI,W[BP+03c]
  MOV AX,SI
  MOV W[BP],AX
  INC AX
  MOV B[SI],045
  MOV BX,W[BP+018]
  TEST BX,BX
  MOV W[BP+03c],AX
  JNS o68o7
  MOV SI,AX
  INC W[BP+03c]
  MOV B[SI],02d
  NEG W[BP+018]
  JMP o681o
o68o7:
  MOV SI,W[BP+03c]
  INC W[BP+03c]
  MOV B[SI],02b
o681o:
  MOV W[BP+0a],0b
o6815:
  MOV AX,W[BP+0a]
  DEC AX
  MOV SI,AX
  MOV W[BP+0a],AX
  MOV AX,W[BP+018]
  MOV BX,0a
  CWD
  IDIV BX
  ADD DX,030
  MOV B[BP+SI+022],DL
  MOV AX,W[BP+018]
  CWD
  IDIV BX
  MOV W[BP+018],AX
  CMP W[BP+0a],9
  JG o6815
  CMP W[BP+018],0
  JNZ o6815
o6842:
  MOV AX,W[BP+0a]
  CMP AX,0b
  JGE o685c
  MOV SI,W[BP+03c]
  INC W[BP+03c]
  INC W[BP+0a]
  MOV DI,AX
  MOV AL,B[BP+DI+022]
  MOV B[SI],AL
  JMP o6842
o685c:
  CMP W[BP+0c],1
  JNZ o688b
  MOV AX,W[BP+016]
  CMP AX,W[BP+6]
  JLE o688b
  MOV BX,W[BP+6]
  SUB W[BP+016],BX
o687o:
  MOV AX,W[BP+016]
  DEC AX
  TEST AX,AX
  MOV W[BP+016],AX
  JS o688b
  MOV SI,W[BP+03c]
  INC W[BP+03c]
  MOV AX,W[BP+014]
  MOV B[SI],AL
  INC W[BP+6]
  JMP o687o
o688b:
  MOV AX,W[BP+6]
  MOV SI,W[BP+040]
  MOV W[SI],AX
  MOV AX,W[BP+03a]
  INC AX
  ADD SP,036
  POP BP
  RET

o689c:
  PUSH CX
  MOV SI,AX
  AND SI,07ff0
  MOV CL,4
  SHR SI,CL
  SUB SI,03ff
  POP CX
  MOV AH,AL
  MOV AL,BH
  MOV BH,BL
  MOV BL,CH
  MOV CH,CL
  MOV CL,DH
  MOV DH,DL
  XOR DL,DL
  MOV DI,3
o68bf:
  SHL DX,1
  RCL CX,1
  RCL BX,1
  RCL AX,1
  DEC DI
  JNZ o68bf
  OR AX,08000
  RET

o68ce:
  AND DI,08000
  PUSH DI
  SUB SI,0b
  TEST AX,AX
  JNZ o69o9
  SUB SI,010
  MOV AX,BX
  TEST AX,AX
  JNZ o69o3
  SUB SI,010
  MOV AX,CX
  TEST AX,AX
  JNZ o68fb
  SUB SI,010
  MOV AX,DX
  TEST AX,AX
  JNZ o68f7
  POP DI
  RET
o68f7:
  XOR DX,DX
  JMP o69o9
o68fb:
  MOV BX,DX
  XOR CX,CX
  XOR DX,DX
  JMP o69o9
o69o3:
  MOV BX,CX
  MOV CX,DX
  XOR DX,DX
o69o9:
  TEST AX,0ffe0
  JZ o6939
o69oe:
  INC SI
  SHR AX,1
  RCR BX,1
  RCR CX,1
  RCR DX,1
  RCR DI,1
  TEST AX,0ffe0
  JNZ o69oe
  TEST DI,DI
  JNS o6939
  ADD DX,1
  ADC CX,0
  ADC BX,0
  ADC AX,0
  JMP o69o9
o693o:
  DEC SI
  SHL DX,1
  RCL CX,1
  RCL BX,1
  RCL AX,1
o6939:
  TEST AX,010
  JZ o693o
  POP DI
  ADD SI,03ff
  JLE o6959
  CMP SI,07ff
  JGE o6965
  PUSH CX
  AND AX,0f
  MOV CL,4
  SHL SI,CL
  OR SI,DI
  OR AX,SI
  POP CX
  RET
o6959:
  MOV AX,1
  PUSH AX
  CALL o61of
  POP AX
  XOR AX,AX
  JMP o6972
o6965:
  MOV AX,2
  PUSH AX
  CALL o61of
  POP AX
  MOV AX,07ff0
  OR AX,DI
o6972:
  XOR BX,BX
  XOR CX,CX
  XOR DX,DX
  RET

o6a3f:
  PUSH BP
  SUB SP,2
  MOV BP,SP
  MOV AX,W[BP+6]
  AND AX,07f
  PUSH AX
  MOV AX,6
  PUSH AX
  CALL o6b15
  MOV SP,BP
  MOV AX,W[BP+6]
  ADD SP,2
  POP BP
  RET

o6b15:
  PUSH BP
  MOV BP,SP
  MOV AX,W[BP+4]
  MOV AH,AL
  MOV DX,W[BP+6]
  INT 021
  XOR AH,AH
  POP BP
  RET

o6b26:
  MOV SI,040
  XOR AX,AX
  MOV BX,W[BP+4]
  MOV CX,W[BP+6]
  MOV DX,W[BP+8]
  MOV DI,W[BP+0a]
o6b37:
  SHL DI,1
  RCL DX,1
  RCL CX,1
  RCL BX,1
  RCL AX,1
  CMP AX,0a
  JB o6b4a
  SUB AX,0a
  INC DI
o6b4a:
  DEC SI
  JNZ o6b37
  MOV W[BP+4],BX
  MOV W[BP+6],CX
  MOV W[BP+8],DX
  MOV W[BP+0a],DI
  RET

o6b5a:
  MOV AX,W[BP+0a]
  SHL AX,1
  MOV W[BP+0a],AX
  MOV AX,W[BP+8]
  RCL AX,1
  MOV W[BP+8],AX
  MOV AX,W[BP+6]
  RCL AX,1
  MOV W[BP+6],AX
  MOV AX,W[BP+4]
  RCL AX,1
  MOV W[BP+4],AX
  RET

o6b7b:
  MOV BX,AX
  XOR CX,CX
  SHL AX,1
  RCL CX,1
  SHL AX,1
  RCL CX,1
  ADD AX,BX
  ADC CX,0
  SHL AX,1
  RCL CX,1
  RET

o6b91:
  XOR CX,CX
  MOV DI,6
o6b96:
  MOV AX,W[BP+DI+4]
  MOV W[BP+DI+4],CX
  CALL o6b7b
  MOV BX,W[BP+DI+4]
  ADD AX,BX
  ADC CX,0
  MOV W[BP+DI+4],AX
  DEC DI
  DEC DI
  JNS o6b96
  RET

o6baf:
  MOV AX,W[BP+4]
  MOV BX,W[BP+6]
  MOV CX,W[BP+8]
  MOV DX,W[BP+0a]
o6bbb:
  SHR AX,1
  RCR BX,1
  RCR CX,1
  RCR DX,1
  DEC SI
  JNZ o6bbb
  MOV W[BP+4],AX
  MOV W[BP+6],BX
  MOV W[BP+8],CX
  MOV W[BP+0a],DX
  RET

o6bd3:
  PUSH BP
  SUB SP,028
  MOV BP,SP
  MOV W[BP],0
  MOV W[BP+0c],0
  MOV SI,W[BP+02c]
  MOV AX,W[SI+6]
  TEST AX,AX
  JNS o6bf2
  OR W[BP],08000
o6bf2:
  AND AX,07fff
  JNZ o6co7
  MOV DI,AX
  OR DI,W[SI+4]
  JNZ o6co7
  OR DI,W[SI+2]
  JNZ o6co7
  OR DI,W[SI]
  JZ o6c83
o6co7:
  MOV CL,4
  SHR AX,CL
  SUB AX,03fe
  MOV W[BP+0e],AX
  MOV CX,W[SI]
  MOV BX,W[SI+2]
  MOV AX,W[SI+4]
  MOV SI,W[SI+6]
  XOR DX,DX
  MOV DI,5
o6c21:
  SHR SI,1
  RCR AX,1
  RCR BX,1
  RCR CX,1
  RCR DX,1
  DEC DI
  JNZ o6c21
  OR AX,08000
  MOV W[BP+4],AX
  MOV W[BP+6],BX
  MOV W[BP+8],CX
  MOV W[BP+0a],DX
  MOV W[BP+0c],0
o6c42:
  MOV SI,W[BP+0e]
  MOV CX,SI
  TEST SI,SI
  JZ o6cb4
  JNS o6c5d
  ADD SI,3
  JS o6c65
  MOV SI,1
  CALL o6baf
  INC W[BP+0e]
  JMP o6c42
o6c5d:
  CALL o6b26
  INC W[BP+0c]
  JMP o6c74
o6c65:
  MOV SI,4
  ADD W[BP+0e],SI
  CALL o6baf
  CALL o6b91
  DEC W[BP+0c]
o6c74:
  TEST W[BP+4],08000
  JNZ o6c42
  DEC W[BP+0e]
  CALL o6b5a
  JMP o6c74
o6c83:
  XOR SI,SI
  OR W[BP],04000
o6c8a:
  XOR CX,CX
  TEST W[BP],04000
  JNZ o6cb4
  MOV AX,W[BP+4]
  OR AX,W[BP+6]
  JNZ o6ca3
  MOV AX,W[BP+8]
  OR AX,W[BP+0a]
  JZ o6cb4
o6ca3:
  CALL o6b91
  TEST CX,CX
  JNZ o6cb4
  CMP SI,1
  JNZ o6cb4
  DEC W[BP+0c]
  JMP o6ca3
o6cb4:
  ADD CL,030
  MOV B[BP+SI+014],CL
  INC SI
  CMP SI,014
  JL o6c8a
  MOV W[BP+010],1
  MOV AX,W[BP+030]
  MOV SI,W[BP+02e]
  TEST AX,AX
  JZ o6cda
  MOV CX,1
  MOV AX,W[BP+0c]
  DEC AX
  ADD SI,AX
  JS o6do7
o6cda:
  MOV CX,014
  CMP SI,012
  JGE o6do7
  MOV CX,SI
  MOV AL,B[BP+SI+015]
  ADD AL,5
o6ce9:
  CMP AL,03a
  JL o6do7
  MOV B[BP+SI+015],030
  INC B[BP+SI+014]
  MOV AL,B[BP+SI+014]
  DEC SI
  JNS o6ce9
  INC W[BP+0c]
  DEC W[BP+010]
  CMP W[BP+030],0
  JZ o6do7
  INC CX
o6do7:
  MOV DI,W[BP+036]
  MOV SI,W[BP+010]
  XOR BX,BX
o6dof:
  MOV AL,B[BP+SI+014]
  MOV B[DI],AL
  INC BX
  INC DI
  CMP BX,CX
  JGE o6d2b
  INC SI
  CMP SI,014
  JL o6dof
  MOV AL,030
o6d22:
  MOV B[DI],AL
  INC DI
  INC BX
  CMP BX,W[BP+02e]
  JL o6d22
o6d2b:
  XOR AX,AX
  TEST W[BP],08000
  JZ o6d3c
  TEST W[BP],04000
  JNZ o6d3c
  DEC AX
o6d3c:
  MOV SI,W[BP+034]
  MOV W[SI],AX
  MOV AX,W[BP+0c]
  MOV SI,W[BP+032]
  MOV W[SI],AX
  TEST W[BP],04000
  JZ o6d52
  XOR CX,CX
o6d52:
  MOV AX,CX
  ADD SP,028
  POP BP
  RET

  DB "Copyright(c) 1983 Windmill Software Inc."
codeend:

; End of styx3.asm.

		times ($$-$)&0xf db 0  ; Align 16.

..@0x6840:  ; Start of data.asm. !!! Convert it from A86 to NASM syntax.

; Styx Remastered
; Copyright (c) Andrew Jenner 1998-2004

PUBLIC p79,p7b,p87,p95,p97,p99,p9b,p9c,p9d,p9e,p9f,pa1,pa3,pa5,pa7
PUBLIC pa9,paa,pab,pac,pae,pbo,pb1,pb2,pb3,pb4,pb5,pb6,pb7,pb8,pb9,pba,pbb,pbc
PUBLIC pbd,pbe,pbf,pco,pc1,pc2,pc3,pc4,pc6,pc7,pc9,pcb,pcd,pcf,pd1,pd3,pd4,pd5
PUBLIC pd7,pd9,pdb,pdd,p12e,p2o6e,p2oa7,p215o,p2351,p2354,p38bc,p38be,p38co
PUBLIC p38c2
PUBLIC p38c3,p38c5,p38c7,p38ca,p38cc,p38ce,p38do,p38d2,p38d6,p38da,p38de,p38e2
PUBLIC p38e6,p38ea,p38ee,p38f2,p38f6,p38f8,p39f8,p39fa,p39fc,p39fe,p3aoo,p3ao2
PUBLIC p3ao4,p3ao6,p3ao8,p3aoc,p3aoe,p3a1o,p3cdc,p3ceo,p3ce4,p3ce8,p3cec,p3cfo
PUBLIC p3cf2,p3cf4,p3cf6,p3cf8,p3cfa,p3cfc,p3cfe,p3doo,p3do2,p3do4,p3do6,p3do8
PUBLIC p3doa,p3doc,p3doe,p3d1o,p3d12,p3d14,p3d16,p3d18,p3d1a,p3d1c,p3d1e,p3d2o
PUBLIC p3d22,p3d24,p4cc4,p5c64,p5c7f,p5c9a,p5ca2,p5caa,p5cb2,p5cb4,p5cb6,p5cb8
PUBLIC p5cbc,p5cbe,p5cco,p5cc2,p5cc4,p5cc6,p5cc8,p5cca,p5ccc,p5cce,p5cdo,p5cd2
PUBLIC p5cd4,p5cd6,p5cd8,p64a8,p6c78,p6c7a,p6c7c,p6c7e,p6c8o,p6c82,p6c84,p6c86
PUBLIC p6c88,p6c8a,p6c8c,p6c8e,p6c9o,p6c92,p6c94,p6c96,p6c98,p6c9a,p6c9c,p6ca6
PUBLIC p6cca,p6ccc,p6cce,p6cdo,p6cf6,p6cf8,p6cfa,p6d26,p6d67,p6da8,p6de9,p6dfa
PUBLIC p6dfe
PUBLIC p6eod,p6e17,p6e18,p6e2o,p6e28,p6e34,p6e37,p6e39,p6e44,p6e4d,p6e53,p6e56
PUBLIC p6e5a,p6e5c,p6e5e,p6e6o,p6e62,p6e64,p6e66,p6e68,p6e6a,p6e6c,p6e6e,p6e7o
PUBLIC p6e72,p6e74,p6e8o,p6e82,p6e84,p6e86,p6e88,p6e9o,p6e98,p6eao,p6eb4,p6eco
PUBLIC p6ecc,p6ed8,p6ee4,p6efo,p6efc,p6fo8,p6f14,p6f2o,p6f2c,p6f51,p6f76,p6f9b
PUBLIC p6fco,p6fe5,p7ooa,p7o2f,p7o54,p7o79,p7o9e,p7oc3,p7oe8,p71od,p7132,p7157
PUBLIC p717c,p71a1,p71c6,p71eb,p721o,p7235,p725a,p727f,p72a4,p72c9,p72ee,p7313
PUBLIC p7338,p735d,p7382,p73a7,p73cc,p73f1,p7416,p743b,p746o,p7485,p74aa,p74do
PUBLIC p74d2,p74d4,p74d6,p74d8,p74da,p74eb,p74fc,p751c,p761e,p763o
PUBLIC p,p2,p4,p46

_DATA SEGMENT PARA PUBLIC 'DATA'

p:
  DW 0
p2:
  DW 0
p4:
  DW 0

; p6:
   DB 040 DUP (0)

p46:
  DB "error in sine    %d  ",10,13,0
  DB "error in sine value gen ",10,13,0
p79:
  DB 113,80
p7b:
  DB 89,10,124,6,100,112,2,1,32,0,0,0
p87:
  DB 56,40,45,10,127,6,100,112,2,1,32,0,0,0
p95:
  DW 0
p97:
  DW 0
p99:
  DW 0
p9b:
  DB 0
p9c:
  DB 0
p9d:
  DB 0
p9e:
  DB 0
p9f:
  DW 0
pa1:
  DW 0
pa3:
  DW 0
pa5:
  DW 0
pa7:
  DW 0
pa9:
  DB 0
paa:
  DB 0
pab:
  DB 0

;  pac:
;    DB 0,0
;  pae:
;    DB 0,0

pbo:
  DB 0
pb1:
  DB 0
pb2:
  DB 0
pb3:
  DB 0
pb4:
  DB 0
pb5:
  DB 0
pb6:
  DB 0
pb7:
  DB 0
pb8:
  DB 0
pb9:
  DB 0
pba:
  DB 0
pbb:
  DB 0
pbc:
  DB 0
pbd:
  DB 0
pbe:
  DB 0
pbf:
  DB 255
pco:
  DB 255
pc1:
  DB 0
pc2:
  DB 89
pc3:
  DB 0

;  pc4:
;    DB 0,0

pc6:
  DB 0
pc7:
  DW 0
pc9:
  DW 0
pcb:
  DW -1
pcd:
  DW 0
pcf:
  DW 0
pd1:
  DW 0
pd3:
  DB 0
pd4:
  DB 0
pd5:
  DW 0
pd7:
  DW 0
pd9:
  DW 0
pdb:
  DW 0

pdd:
  DB 04b
  DW offset od7o
  DB 0cb
  DW offset od8d
  DB 04d
  DW offset odb7
  DB 0cd
  DW offset odd4
  DB 048
  DW offset odfe
  DB 0c8
  DW offset oeoe
  DB 050
  DW offset oe1e
  DB 0d0
  DW offset oe2e
  DB 049
  DW offset oe3e
  DB 0c9
  DW offset oe4e
  DB 047
  DW offset oe5e
  DB 0c7
  DW offset oe6e
  DB 051
  DW offset oe7e
  DB 0d1
  DW offset oe8e
  DB 04f
  DW offset oe9e
  DB 0cf
  DW offset oeae
  DB 03b
  DW offset oebe
  DB 0bb
  DW offset oec9
  DB 01d
  DW offset oecf
  DB 09d
  DW offset oed7
  DB 038
  DW offset oedd
  DB 0b8
  DW offset oee5
  DB 053
  DW offset oeeb
  DB 0d3
  DW offset oef3
  DB 043
  DW offset oef9
  DB 0c3
  DW offset ofoc
  DB 01
  DW offset of12
p12e:
  DB 8000 DUP (0)

;  p2o6e:
;    DB 10,13,"This program requires the color graphics adapter card $"
;  p2oa7:
;    DB 10,13,10,13,10,13,10,13,10,13,10,13,10,13,10,13,10,13,10,13,10,13
;    DB "                    Please turn on the monitor connected to",10,13,10,13
;    DB "                    to your Color/Graphics display adapter. ",10,13,10,13
;    DB 10,13,10,13,10,13,10,13,10,13,10,13,10,13,10,13,10,13,"$"
;  p214f:
;    DB 0

p215o:
  DB 512 DUP (0)

;  p235o:
;    DB 0
;  p2351:
;    DB 0,100,21

p2354:
  DB 254,48,0,10,254,26,170
  DB 128,254,52,0,160,254,26,170,168,254,52,0,170,254,79,0
  DB 170,132,254,26,0,16,254,51,0,170,132,254,26,0,16,254
  DB 51,0,170,132,254,26,0,16,254,51,0,170,132,254,26,0
  DB 16,254,51,0,170,132,254,26,0,16,254,51,0,170,132,254
  DB 26,0,16,254,51,0,170,132,254,26,0,16,254,51,0,170
  DB 132,254,26,0,16,254,51,0,170,132,254,26,0,16,254,51
  DB 0,170,132,254,26,0,16,254,51,0,170,132,254,26,0,16
  DB 254,51,0,170,132,254,26,0,16,254,51,0,170,132,254,26
  DB 0,16,254,20,0,62,170,170,171,250,170,170,190,170,170,171
  DB 234,170,170,190,254,3,170,234,170,170,174,254,3,170,234,170
  DB 170,186,170,168,170,132,254,26,0,19,252,254,17,0,15,254
  DB 4,255,254,3,170,250,170,170,171,234,170,170,171,254,3,170
  DB 174,254,3,170,186,254,3,170,234,170,170,171,255,252,170,132
  DB 254,26,0,19,252,254,15,0,15,254,4,255,234,170,170,171
  DB 234,170,170,171,234,254,3,170,234,254,3,170,186,254,3,170
  DB 186,254,3,170,191,254,3,255,240,0,170,132,254,26,0,16
  DB 254,14,0,3,254,4,255,250,254,3,170,175,254,3,170,171
  DB 234,254,3,170,190,254,3,170,171,254,4,170,254,4,255,252
  DB 254,3,0,3,0,170,132,254,26,0,19,255,254,11,0,3
  DB 250,254,3,170,175,234,254,3,170,190,254,3,170,171,234,254
  DB 3,170,175,254,4,170,175,254,4,255,192,254,3,0,12,254
  DB 4,0,192,170,132,254,26,0,16,254,11,0,254,39,255,252
  DB 170,132,254,26,0,19,255,255,192,254,6,0,63,254,5,255
  DB 234,254,3,170,175,234,254,4,170,250,254,4,170,191,254,4
  DB 255,252,254,4,0,3,254,5,0,192,254,4,0,170,132,254
  DB 26,0,16,254,7,0,15,254,42,255,252,170,132,254,26,0
  DB 19,255,255,192,0,0,3,245,254,4,85,95,254,5,255,250
  DB 254,5,170,254,6,255,192,254,4,0,3,254,5,0,12,254
  DB 5,0,48,254,4,0,170,132,254,26,0,16,15,240,0,3
  DB 254,46,255,252,170,132,254,26,0,19,255,255,192,1,254,4
  DB 85,127,254,5,85,95,254,6,255,240,254,5,0,12,254,6
  DB 0,192,254,5,0,48,254,5,0,15,254,3,255,252,170,132
  DB 254,26,0,16,254,3,0,1,85,85,87,245,254,5,85,127
  DB 254,6,255,240,254,5,0,3,254,6,0,12,254,6,0,192
  DB 254,5,0,3,254,3,255,252,170,132,254,26,0,19,192,0
  DB 0,1,85,127,254,6,85,254,7,255,240,254,6,0,240,254
  DB 6,0,192,254,6,0,254,7,255,254,3,85,84,170,132,254
  DB 26,0,16,0,252,0,3,245,254,5,85,87,254,7,255,240
  DB 254,6,0,60,254,6,0,3,254,6,0,3,254,7,255,213
  DB 85,85,84,170,132,254,26,0,16,254,3,0,1,254,5,85
  DB 95,254,7,255,252,254,6,0,3,254,7,0,48,254,6,0
  DB 3,254,7,255,245,85,85,84,170,132,254,26,0,16,254,3
  DB 0,1,254,4,85,125,254,7,85,127,254,7,255,192,254,7
  DB 0,192,254,6,0,15,254,7,255,245,85,85,84,170,132,254
  DB 26,0,16,254,3,0,1,85,85,87,245,254,7,85,127,254
  DB 7,255,252,254,7,0,12,254,7,0,15,254,7,255,253,85
  DB 85,84,170,132,254,26,0,19,254,3,0,1,85,95,213,254
  DB 7,85,127,254,8,255,254,8,0,192,254,7,0,63,254,7
  DB 255,253,85,85,84,170,132,254,26,0,16,15,192,0,1,127
  DB 254,8,85,127,254,8,255,192,254,7,0,3,254,8,0,63
  DB 254,8,255,85,85,84,170,132,254,26,0,16,0,0,192,3
  DB 254,46,255,252,170,132,254,26,0,19,255,255,192,1,254,7
  DB 85,125,254,8,85,95,254,9,255,254,9,0,192,254,8,0
  DB 255,255,252,170,132,254,26,0,16,254,3,0,1,254,6,85
  DB 95,254,8,85,87,254,9,255,252,254,8,0,3,254,9,0
  DB 63,255,252,170,132,254,26,0,16,254,3,0,1,254,5,85
  DB 95,254,9,85,127,254,9,255,192,254,8,0,3,254,9,0
  DB 15,255,252,170,132,254,26,0,16,254,3,0,1,254,4,85
  DB 95,254,9,85,95,254,9,255,252,254,9,0,12,254,9,0
  DB 15,255,252,170,132,254,26,0,16,254,3,0,1,254,3,85
  DB 95,254,9,85,87,254,10,255,240,254,9,0,12,254,9,0
  DB 3,255,252,170,132,254,26,0,16,254,3,0,1,85,85,95
  DB 254,10,85,254,11,255,254,10,0,48,254,9,0,3,0,0
  DB 170,132,254,26,0,16,60,0,0,1,85,95,254,10,85,127
  DB 254,10,255,252,254,10,0,48,254,10,0,192,0,170,132,254
  DB 26,0,16,0,60,0,1,95,254,10,85,87,254,11,255,192
  DB 254,10,0,192,254,10,0,48,0,170,132,254,26,0,16,254
  DB 3,0,3,254,11,85,254,11,255,252,254,11,0,192,254,10
  DB 0,48,0,170,132,254,26,0,16,254,3,0,1,254,10,85
  DB 127,254,11,255,240,254,10,0,3,254,11,0,12,0,170,132
  DB 254,26,0,16,254,3,0,1,254,9,85,95,254,12,255,254
  DB 11,0,3,254,11,0,3,0,170,132,254,26,0,16,254,3
  DB 0,1,254,9,85,254,12,255,240,254,11,0,12,254,11,0
  DB 3,0,170,132,254,26,0,16,254,3,0,1,254,8,85,127
  DB 254,12,255,192,254,11,0,12,254,12,0,192,170,132,254,26
  DB 0,16,254,3,0,3,254,46,255,240,170,132,254,26,0,19
  DB 255,255,192,1,254,6,85,87,213,254,12,85,127,254,12,255
  DB 240,254,12,0,48,170,132,254,26,0,16,254,3,0,1,254
  DB 6,85,117,254,12,85,87,254,13,255,192,254,12,0,12,170
  DB 132,254,26,0,16,254,3,0,1,254,5,85,93,254,13,85
  DB 127,254,13,255,192,254,12,0,12,10,132,254,26,0,16,254
  DB 3,0,1,254,4,85,87,254,14,85,254,14,255,254,13,0
  DB 3,0,132,254,26,0,16,254,3,0,1,254,4,85,245,254
  DB 13,85,95,254,14,255,254,13,0,3,0,5,254,26,85,80
  DB 254,3,0,1,254,3,85,125,254,14,85,254,14,255,252,254
  DB 14,0,192,254,13,0,12,254,13,0,3,192,0,0,1,85
  DB 85,87,254,14,85,87,254,14,255,252,254,14,0,48,254,14
  DB 0,192,254,13,0,15,0,0,1,85,85,213,254,14,85,127
  DB 254,14,255,240,254,14,0,48,254,14,0,48,254,14,0,48
  DB 0,1,85,125,254,15,85,254,15,255,240,254,14,0,12,254
  DB 14,0,3,254,15,0,192,1,95,254,15,85,95,254,15,255
  DB 192,254,14,0,3,254,15,0,48,254,15,0,1,213,254,15
  DB 85,254,16,255,192,254,14,0,3,254,15,0,3,254,15,0
  DB 1,254,15,85,95,254,16,255,254,16,0,192,254,15,0,192
  DB 254,14,0,1,254,15,85,127,254,16,255,254,16,0,48,254
  DB 15,0,12,254,14,0,2,254,78,170,160,2,254,78,170,160
  DB 2,254,11,170,169,254,13,85,90,170,170,169,254,11,85,254
  DB 3,170,165,106,254,8,170,165,106,170,170,169,90,254,7,170
  DB 169,90,254,10,170,160,2,254,10,170,169,254,15,85,170,170
  DB 149,254,11,85,90,170,170,85,85,254,7,170,169,85,86,170
  DB 170,149,85,106,254,6,170,85,85,254,10,170,160,2,254,10
  DB 170,149,254,15,85,106,170,254,12,85,86,170,169,85,85,90
  DB 254,6,170,149,85,85,170,170,85,85,86,254,5,170,165,85
  DB 85,106,254,9,170,160,2,254,10,170,254,16,85,170,170,149
  DB 254,11,85,90,170,170,254,3,85,254,5,170,169,85,85,86
  DB 170,170,149,85,85,106,254,4,170,254,3,85,254,10,170,160
  DB 2,254,9,170,169,254,15,85,90,170,170,169,254,11,85,254
  DB 3,170,149,85,85,90,254,4,170,149,85,85,90,170,170,165
  DB 85,85,86,254,3,170,165,85,85,86,254,10,170,160,2,254
  DB 9,170,165,85,85,254,21,170,149,85,90,254,7,170,169,254
  DB 3,85,254,3,170,169,254,3,85,254,4,170,254,3,85,106
  DB 170,170,254,3,85,106,254,10,170,160,2,254,9,170,165,85
  DB 86,254,21,170,149,85,90,254,8,170,149,85,85,90,170,170
  DB 149,85,85,90,254,4,170,165,85,85,86,170,165,85,85,86
  DB 254,11,170,160,2,254,9,170,165,85,85,254,21,170,149,85
  DB 90,254,8,170,169,254,3,85,170,169,254,3,85,254,6,170
  DB 254,3,85,106,254,3,85,106,254,11,170,160,2,254,9,170
  DB 169,254,11,85,106,254,11,170,149,85,90,254,9,170,149,85
  DB 85,90,149,85,85,90,254,6,170,165,254,5,85,86,254,12
  DB 170,160,2,254,10,170,254,12,85,106,254,10,170,149,85,90
  DB 254,9,170,169,254,6,85,254,8,170,254,5,85,106,254,12
  DB 170,160,2,254,10,170,149,254,11,85,86,254,10,170,149,85
  DB 90,254,10,170,149,254,4,85,90,254,8,170,165,254,3,85
  DB 86,254,13,170,160,2,254,10,170,169,254,12,85,254,10,170
  DB 149,85,90,254,10,170,169,254,4,85,254,9,170,254,5,85
  DB 106,254,12,170,160,2,254,11,170,169,254,11,85,106,254,9
  DB 170,149,85,90,254,11,170,149,85,85,90,254,8,170,165,254
  DB 5,85,86,254,12,170,160,2,254,21,170,85,85,90,254,9
  DB 170,149,85,90,254,11,170,169,85,85,254,9,170,254,3,85
  DB 106,254,3,85,106,254,11,170,160,2,254,21,170,149,85,90
  DB 254,9,170,149,85,90,254,11,170,169,85,85,254,8,170,165
  DB 85,85,86,170,165,85,85,86,254,11,170,160,2,254,21,170
  DB 85,85,90,254,9,170,149,85,90,254,11,170,169,85,85,254
  DB 8,170,254,3,85,106,170,170,254,3,85,106,254,10,170,160
  DB 2,254,7,170,149,254,15,85,106,254,9,170,149,85,90,254
  DB 11,170,169,85,85,254,7,170,165,85,85,86,254,3,170,165
  DB 85,85,86,254,10,170,160,2,254,6,170,169,254,16,85,254
  DB 10,170,149,85,90,254,11,170,169,85,85,254,7,170,149,85
  DB 85,106,254,4,170,254,3,85,254,10,170,160,2,254,6,170
  DB 165,254,15,85,86,254,10,170,149,85,90,254,11,170,169,85
  DB 85,254,7,170,85,85,86,254,5,170,165,85,85,106,254,9
  DB 170,160,2,254,6,170,169,254,15,85,106,254,10,170,165,85
  DB 106,254,12,170,85,86,254,7,170,149,85,106,254,6,170,85
  DB 85,254,10,170,160,2,254,7,170,149,254,13,85,106,254,12
  DB 170,86,254,13,170,165,106,254,7,170,169,90,254,7,170,169
  DB 90,254,10,170,160,2,254,78,170,160,3,254,78,255,240,254
  DB 244,0,255,192,254,77,0,48,0,3,254,3,0,240,15,0
  DB 240,3,192,254,6,0,3,192,254,7,0,60,0,15,0,3
  DB 192,254,3,0,3,240,15,192,254,4,0,48,60,3,192,254
  DB 32,0,192,63,0,192,0,0,60,51,192,192,254,8,0,3
  DB 192,254,9,0,15,0,3,192,254,3,0,15,0,0,192,254
  DB 4,0,240,0,3,192,254,31,0,3,3,0,0,48,0,0
  DB 60,51,195,0,3,192,0,252,3,192,0,240,15,192,0,252
  DB 3,252,3,192,0,60,0,15,0,3,192,254,4,0,255,0
  DB 0,15,0,240,0,240,0,3,192,0,60,3,192,48,3,192
  DB 48,0,15,192,240,15,3,192,254,16,0,3,3,0,0,48
  DB 0,0,15,192,255,0,3,192,0,240,0,240,3,192,3,192
  DB 0,240,0,240,0,240,0,60,0,15,0,3,192,254,5,0
  DB 255,0,60,0,60,0,240,0,3,192,0,15,12,240,192,0
  DB 0,252,0,15,0,0,60,0,240,254,4,0,60,0,255,0
  DB 255,0,255,254,6,0,192,63,0,192,0,0,15,192,252,0
  DB 3,192,0,240,0,240,3,192,3,192,0,240,0,240,0,240
  DB 0,60,0,15,0,3,192,254,3,0,3,0,0,240,60,0
  DB 60,0,240,0,3,192,0,3,240,63,0,0,240,60,0,15
  DB 0,0,60,254,6,0,60,3,254,3,195,192,3,192,254,5
  DB 0,48,0,3,254,3,0,3,0,48,0,3,192,0,240,0
  DB 240,3,192,3,192,0,240,0,240,0,240,0,60,0,15,0
  DB 3,192,254,3,0,3,192,0,240,60,0,60,0,240,0,3
  DB 192,192,3,240,63,0,3,192,60,0,15,0,0,60,0,48
  DB 254,4,0,60,0,3,195,195,192,3,192,254,6,0,255,192
  DB 254,3,0,3,0,48,0,63,252,15,255,15,255,0,63,195
  DB 255,15,255,15,255,15,255,3,255,192,255,240,63,252,254,3
  DB 0,3,3,252,0,3,255,0,15,255,0,0,63,0,0,192
  DB 12,0,0,255,15,192,255,240,0,3,252,254,4,0,3,255
  DB 192,252,0,255,0,255,254,0,0,254,67,0,130,254,26,170
  DB 160,254,52,0,168,42,254,26,170,254,52,0,170,133,254,26
  DB 85,80,254,51,0,170,132,254,26,0,16,254,51,0,170,132
  DB 254,26,0,16,254,51,0,170,132,254,26,0,16,254,51,0
  DB 170,132,254,26,0,16,254,51,0,170,132,254,26,0,16,254
  DB 51,0,170,132,254,26,0,16,254,51,0,170,132,254,26,0
  DB 16,254,51,0,170,132,254,26,0,16,254,51,0,170,132,254
  DB 26,0,16,254,51,0,170,132,254,26,0,16,254,51,0,170
  DB 132,254,26,0,16,254,51,0,170,132,254,26,0,16,254,20
  DB 0,3,254,29,255,252,170,132,254,26,0,19,255,255,192,254
  DB 16,0,63,254,30,255,252,170,132,254,26,0,19,255,255,192
  DB 254,14,0,15,254,32,255,252,170,132,254,26,0,19,255,255
  DB 192,254,12,0,3,254,34,255,252,170,132,254,26,0,19,255
  DB 255,192,254,10,0,15,254,36,255,252,170,132,254,26,0,19
  DB 255,255,192,254,9,0,250,254,3,170,171,250,254,3,170,175
  DB 234,254,3,170,190,254,4,170,186,254,4,170,191,254,4,255
  DB 254,4,0,3,254,4,0,48,170,132,254,26,0,19,192,254
  DB 9,0,63,254,5,255,254,4,170,190,254,4,170,175,254,4
  DB 170,175,254,5,255,254,4,0,3,254,4,0,3,254,5,0
  DB 170,132,254,26,0,16,0,63,192,254,5,0,15,254,5,255
  DB 250,254,4,170,250,254,4,170,175,254,4,170,171,254,5,255
  DB 240,254,4,0,12,254,5,0,192,254,4,0,170,132,254,26
  DB 0,16,254,6,0,15,245,254,4,85,127,254,5,255,234,254
  DB 4,170,175,254,5,255,240,254,5,0,192,254,4,0,12,254
  DB 5,0,48,254,4,0,170,132,254,26,0,19,240,254,3,0
  DB 3,253,254,4,85,87,254,6,255,254,5,170,175,254,5,255
  DB 252,254,5,0,12,254,5,0,48,254,5,0,48,254,4,0
  DB 170,132,254,26,0,16,0,15,192,1,254,5,85,255,254,5
  DB 85,127,254,6,255,254,5,0,3,192,254,5,0,48,254,5
  DB 0,48,254,5,0,15,254,3,255,252,170,132,254,26,0,16
  DB 254,3,0,1,254,3,85,95,213,254,4,85,87,254,7,255
  DB 254,6,0,240,254,5,0,3,254,6,0,192,254,5,0,15
  DB 254,3,255,252,170,132,254,26,0,16,254,3,0,3,254,46
  DB 255,252,170,132,254,26,0,19,255,255,192,1,95,213,254,5
  DB 85,127,254,7,255,254,6,0,3,254,7,0,192,254,5,0
  DB 3,254,7,255,213,85,85,84,170,132,254,26,0,16,0,3
  DB 192,1,254,6,85,254,8,255,192,254,6,0,192,254,6,0
  DB 12,254,6,0,3,254,7,255,213,85,85,84,170,132,254,26
  DB 0,16,254,3,0,3,254,46,255,252,170,132,254,26,0,19
  DB 255,255,192,1,254,3,85,95,213,254,6,85,87,254,8,255
  DB 254,7,0,3,254,7,0,15,254,7,255,245,85,85,84,170
  DB 132,254,26,0,16,254,3,0,1,85,85,125,254,7,85,87
  DB 254,8,255,192,254,7,0,48,254,7,0,63,254,7,255,253
  DB 85,85,84,170,132,254,26,0,16,240,0,0,1,85,245,254
  DB 7,85,87,254,8,255,240,254,7,0,3,254,8,0,63,254
  DB 8,255,85,85,84,170,132,254,26,0,16,0,63,0,3,213
  DB 254,7,85,87,254,9,255,254,8,0,12,254,8,0,254,9
  DB 255,85,85,84,170,132,254,26,0,16,254,3,0,1,254,7
  DB 85,87,213,254,7,85,87,254,9,255,192,254,8,0,192,254
  DB 8,0,255,255,252,170,132,254,26,0,16,254,3,0,1,254
  DB 7,85,213,254,8,85,127,254,9,255,254,8,0,3,254,9
  DB 0,63,255,252,170,132,254,26,0,16,254,3,0,1,254,6
  DB 85,245,254,8,85,95,254,9,255,240,254,8,0,3,254,9
  DB 0,63,255,252,170,132,254,26,0,16,254,3,0,1,254,5
  DB 85,245,254,8,85,87,254,10,255,254,9,0,12,254,9,0
  DB 15,255,252,170,132,254,26,0,16,254,3,0,1,254,4,85
  DB 245,254,9,85,254,10,255,252,254,9,0,12,254,9,0,15
  DB 255,252,170,132,254,26,0,16,254,3,0,3,254,46,255,252
  DB 170,132,254,26,0,19,255,255,192,1,85,85,245,254,9,85
  DB 87,254,10,255,252,254,10,0,48,254,10,0,192,0,170,132
  DB 254,26,0,16,3,192,0,1,85,245,254,10,85,254,11,255
  DB 240,254,10,0,192,254,10,0,192,0,170,132,254,26,0,16
  DB 0,3,192,1,245,254,10,85,127,254,11,255,254,11,0,192
  DB 254,10,0,48,0,170,132,254,26,0,16,254,3,0,1,254
  DB 10,85,87,254,11,255,240,254,10,0,3,254,11,0,12,0
  DB 170,132,254,26,0,16,254,3,0,1,254,10,85,254,12,255
  DB 192,254,10,0,3,254,11,0,12,0,170,132,254,26,0,16
  DB 254,3,0,1,254,9,85,127,254,11,255,252,254,11,0,12
  DB 254,11,0,3,0,170,132,254,26,0,16,254,3,0,1,254
  DB 8,85,95,254,12,255,240,254,11,0,12,254,11,0,3,0
  DB 170,132,254,26,0,16,254,3,0,1,254,7,85,87,254,13
  DB 255,254,12,0,48,254,12,0,192,170,132,254,26,0,16,254
  DB 3,0,1,254,7,85,117,254,12,85,127,254,12,255,240,254
  DB 12,0,48,170,132,254,26,0,16,254,3,0,1,254,6,85
  DB 93,254,13,85,254,13,255,192,254,12,0,48,170,132,254,26
  DB 0,16,254,3,0,1,254,5,85,87,213,254,12,85,95,254
  DB 13,255,192,254,12,0,12,42,132,254,26,0,16,254,3,0
  DB 1,254,5,85,245,254,13,85,254,14,255,254,13,0,3,2
  DB 132,254,26,0,16,254,3,0,1,254,4,85,93,254,13,85
  DB 87,254,14,255,254,13,0,3,0,4,254,26,0,16,254,3
  DB 0,1,254,3,85,87,254,14,85,127,254,13,255,252,254,14
  DB 0,192,254,31,0,1,254,3,85,213,254,14,85,254,14,255
  DB 252,254,14,0,192,254,13,0,3,254,14,0,48,0,0,1
  DB 85,85,125,254,14,85,95,254,14,255,240,254,14,0,48,254
  DB 14,0,192,254,14,0,192,0,1,85,87,254,15,85,254,15
  DB 255,240,254,14,0,12,254,14,0,12,254,14,0,15,0,1
  DB 85,213,254,14,85,87,254,15,255,192,254,14,0,12,254,15
  DB 0,192,254,15,0,1,117,254,15,85,127,254,15,255,192,254
  DB 14,0,3,254,15,0,12,254,15,0,3,254,15,85,87,254
  DB 16,255,254,16,0,192,254,15,0,192,254,14,0,1,254,15
  DB 85,95,254,16,255,254,16,0,192,254,15,0,48,254,14,0
  DB 3,254,78,255,240,2,254,78,170,160,2,254,78,170,160,2
  DB 254,11,170,149,254,14,85,170,170,149,254,11,85,90,170,170
  DB 85,86,254,8,170,85,86,170,170,149,85,254,7,170,149,85
  DB 254,10,170,160,2,254,10,170,165,254,15,85,106,170,254,12
  DB 85,86,170,169,85,85,106,254,6,170,165,85,85,170,170,85
  DB 85,90,254,5,170,169,85,85,106,254,9,170,160,2,254,10
  DB 170,254,16,85,106,170,254,12,85,86,170,169,85,85,86,254
  DB 6,170,254,3,85,170,170,254,3,85,254,5,170,149,85,85
  DB 106,254,9,170,160,2,254,9,170,169,254,16,85,170,170,149
  DB 254,11,85,90,170,170,254,3,85,106,254,4,170,165,85,85
  DB 86,170,170,149,85,85,90,254,3,170,169,254,3,85,254,10
  DB 170,160,2,254,9,170,165,85,85,106,254,20,170,149,85,90
  DB 254,7,170,165,85,85,86,254,4,170,254,3,85,106,170,170
  DB 169,254,3,85,254,3,170,149,85,85,90,254,10,170,160,2
  DB 254,9,170,165,85,86,254,21,170,149,85,90,254,8,170,254
  DB 3,85,106,170,170,165,85,85,86,254,4,170,149,85,85,90
  DB 170,169,254,3,85,254,11,170,160,2,254,9,170,165,85,86
  DB 254,21,170,149,85,90,254,8,170,165,85,85,86,170,170,254
  DB 3,85,106,254,4,170,169,254,3,85,170,149,85,85,90,254
  DB 11,170,160,2,254,9,170,165,85,85,106,254,20,170,149,85
  DB 90,254,9,170,254,3,85,106,165,85,85,86,254,6,170,149
  DB 85,85,89,254,3,85,254,12,170,160,2,254,9,170,169,254
  DB 11,85,86,254,11,170,149,85,90,254,9,170,165,85,85,86
  DB 254,3,85,106,254,6,170,169,254,5,85,90,254,12,170,160
  DB 2,254,10,170,254,12,85,90,254,10,170,149,85,90,254,10
  DB 170,254,5,85,86,254,8,170,149,254,4,85,254,13,170,160
  DB 2,254,10,170,165,254,12,85,254,10,170,149,85,90,254,10
  DB 170,165,254,4,85,106,254,8,170,149,254,4,85,254,13,170
  DB 160,2,254,11,170,149,254,11,85,106,254,9,170,149,85,90
  DB 254,11,170,254,3,85,86,254,8,170,169,254,5,85,90,254
  DB 12,170,160,2,254,20,170,169,85,85,90,254,9,170,149,85
  DB 90,254,11,170,165,85,85,106,254,8,170,149,85,85,89,254
  DB 3,85,254,12,170,160,2,254,21,170,149,85,90,254,9,170
  DB 149,85,90,254,11,170,169,85,85,254,8,170,169,254,3,85
  DB 170,149,85,85,90,254,11,170,160,2,254,21,170,149,85,90
  DB 254,9,170,149,85,90,254,11,170,169,85,85,254,8,170,149
  DB 85,85,90,170,169,254,3,85,254,11,170,160,2,254,20,170
  DB 169,85,85,90,254,9,170,149,85,90,254,11,170,169,85,85
  DB 254,7,170,169,254,3,85,254,3,170,149,85,85,90,254,10
  DB 170,160,2,254,6,170,169,254,16,85,106,254,9,170,149,85
  DB 90,254,11,170,169,85,85,254,7,170,149,85,85,90,254,3
  DB 170,169,254,3,85,254,10,170,160,2,254,6,170,165,254,16
  DB 85,254,10,170,149,85,90,254,11,170,169,85,85,254,7,170
  DB 254,3,85,254,5,170,149,85,85,106,254,9,170,160,2,254
  DB 6,170,165,254,15,85,90,254,10,170,149,85,90,254,11,170
  DB 169,85,85,254,7,170,85,85,90,254,5,170,169,85,85,106
  DB 254,9,170,160,2,254,6,170,169,254,14,85,86,254,11,170
  DB 165,85,106,254,12,170,85,86,254,7,170,149,85,254,7,170
  DB 149,85,254,10,170,160,2,254,78,170,160,2,254,78,170,160
  DB 254,0,0,254,67,0,15,0,60,0,0,15,252,15,15,252
  DB 3,192,254,6,0,63,192,254,7,0,60,0,255,0,63,192
  DB 254,4,0,63,240,192,254,4,0,15,240,3,192,254,32,0
  DB 192,0,0,192,0,0,240,15,0,240,254,8,0,3,192,254
  DB 9,0,15,0,3,192,254,3,0,15,0,3,192,254,4,0
  DB 240,60,3,192,254,31,0,3,0,192,192,48,0,0,60,51
  DB 195,192,63,192,15,255,252,0,0,15,255,192,15,255,252,3
  DB 252,0,3,252,0,15,0,3,192,254,3,0,3,192,0,192
  DB 0,255,192,15,255,0,63,255,3,255,195,195,255,0,255,192
  DB 0,255,255,192,3,255,254,17,0,3,3,0,0,48,0,0
  DB 60,51,195,0,3,192,0,240,0,240,3,192,3,192,0,252
  DB 0,252,0,240,0,60,0,15,0,3,192,254,4,0,63,240
  DB 0,60,0,60,0,240,0,3,192,0,60,12,240,192,3,192
  DB 60,0,15,0,240,60,0,240,254,16,0,3,0,192,192,48
  DB 0,0,15,192,252,0,3,192,0,240,0,240,3,192,3,192
  DB 0,240,0,240,0,240,0,60,0,15,0,3,192,254,5,0
  DB 15,192,60,0,60,0,240,0,3,192,0,15,12,240,192,0
  DB 15,60,0,15,0,0,63,255,240,254,4,0,252,3,254,5
  DB 195,192,254,5,0,192,0,0,192,0,0,15,192,252,0,3
  DB 192,0,240,0,240,3,192,3,192,0,240,0,240,0,240,0
  DB 60,0,15,0,3,192,254,3,0,3,0,0,240,60,0,60
  DB 0,240,0,3,192,0,3,240,63,0,3,192,60,0,15,0
  DB 0,60,254,6,0,60,0,255,192,255,0,63,254,6,0,15
  DB 0,60,254,3,0,3,0,48,0,3,192,0,240,0,240,0
  DB 240,63,192,0,240,0,240,0,240,0,60,0,15,0,3,192
  DB 254,3,0,3,252,3,192,15,0,240,0,240,0,0,240,192
  DB 0,192,12,0,3,192,252,0,15,0,0,15,3,192,254,4
  DB 0,60,0,15,3,254,3,195,192,254,0,0,0,0,0,0
  DB 0 ;Not precisely sure where this RLE bitmap ends
p38bc:
  DW 0
p38be:
  DW 2000
p38co:
  DW 0
p38c2:
  DB 0
p38c3:
  DW 1

;  p38c5:
;    DB 0,0
;  p38c7:
;    DB 0,0,0

p38ca: ;Array
  DW 0
p38cc:
  DW 0
p38ce: ;Array
  DW 0
p38do:
  DW 0
p38d2: ;Array
  DW 0,0
p38d6: ;Array
  DW 0,0
p38da: ;Array
  DW 0,0
p38de: ;Array
  DW 0,0
p38e2: ;Array
  DW 0,0
p38e6: ;Array
  DW 0,0
p38ea: ;Array
  DW 0,0
p38ee: ;Array
  DW 0,0
p38f2: ;Array
  DW 0,0
p38f6:
  DW 0
p38f8:
  DW 128 DUP (0)
p39f8: ;Array
  DW 0
p39fa:
  DW 0
p39fc: ;Array
  DW 0
p39fe:
  DW 0
p3aoo:
  DW 0 ;Array
p3ao2:
  DW 0
p3ao4: ;Array
  DW 0
p3ao6:
  DW 0
p3ao8: ;Array
  DW 0,0
p3aoc: ;Array
  DW 0
p3aoe: ;Array
  DW 0
p3a1o:
  DW 358 DUP (0)
p3cdc: ;Array
  DW 0,0
p3ceo: ;Array
  DW 0,0
p3ce4: ;Array
  DW 0,0
p3ce8: ;Array
  DW 0,0
p3cec: ;Array
  DW 0,0
p3cfo:
  DW 0
p3cf2:
  DW 0
p3cf4:
  DW 0
p3cf6:
  DW 0
p3cf8:
  DW 0
p3cfa:
  DW 0
p3cfc:
  DW 0
p3cfe:
  DW 0
p3doo:
  DW 0
p3do2:
  DW 0
p3do4:
  DW 0
p3do6:
  DW 0
p3do8:
  DW 0
p3doa:
  DW 0
p3doc:
  DW 0
p3doe:
  DW 0
p3d1o:
  DW 0
p3d12:
  DW 0
p3d14:
  DW 0
p3d16:
  DW 0
p3d18:
  DW 0
p3d1a:
  DW 0
p3d1c:
  DW 0
p3d1e:
  DW 0
p3d2o:
  DW 0
p3d22:
  DW 0
p3d24:
  DW 1000 DUP (0)
p4cc4:
  DW 1000 DUP (0)
p5c64:
  DB 5,5,136,12,12,12,136
  DB 12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,136
  DB 12,12,12,136
p5c7f:
  DB 5,5,136,0,0,0,136,0,0,0,0,0
  DB 0,0,0,0,0,0,0,0,0,0,136,0,0,0,136
p5c9a:
  DB 0,0,0,160,153,177,148,64
p5ca2:
  DB 0,0,0,0,0,0,89,64
p5caa:
  DB 0,0,0,0,0,64,143,64
p5cb2:
  DW 0
p5cb4:
  DW 0
p5cb6:
  DW 0
p5cb8:
  DW 0

;    DW 0

p5cbc:
  DW 0
p5cbe:
  DW 0
p5cco:
  DW 0
p5cc2:
  DW 0
p5cc4:
  DW 0
p5cc6:
  DW 0
p5cc8:
  DW 0
p5cca:
  DW 0
p5ccc:
  DW 0
p5cce:
  DW 0
p5cdo:
  DW 0
p5cd2:
  DW 0
p5cd4:
  DW 0
p5cd6:
  DW 0
p5cd8:
  DW 1000 DUP (0)
p64a8:
  DW 1000 DUP (0)
p6c78:
  DW 0
p6c7a:
  DW 0
p6c7c:
  DW 0
p6c7e:
  DW 0
p6c8o:
  DW 0
p6c82:
  DW 0
p6c84:
  DW 0
p6c86:
  DW 0
p6c88:
  DW 0
p6c8a:
  DW 0
p6c8c:
  DW 0
p6c8e:
  DW 0
p6c9o:
  DW 0
p6c92:
  DW 0
p6c94:
  DW 0
p6c96:
  DW 0
p6c98:
  DW 0
p6c9a:
  DW 0
p6c9c:
  DB 10 DUP (0)
p6ca6:
  DB 36 DUP (0)
p6cca:
  DW 0
p6ccc:
  DW 0
p6cce: ;Array
  DW 0
p6cdo: ;Array
  DW 19 DUP (0)
p6cf6: ;Array
  DW 0
p6cf8:
  DW 0
p6cfa:
  DB 46
  DB 46,46,0,46,46,46,0,46,46,46,0,46,46,46,0,46
  DB 46,46,0,46,46,46,0,46,46,46,0,46,46,46,0,46
  DB 46,46,0,46,46,46,0,46,46,46,0
p6d26:
  DB 9,7,17,17,17
  DB 17,17,17,17,17,17,17,17,1,17,1,17,1,17,17,17
  DB 17,16,16,17,16,1,17,17,17,17,17,1,17,17,1,17
  DB 17,17,17,16,16,17,17,1,17,17,17,17,1,17,1,16
  DB 0,17,17,17,17,17,17,17,17,17,17,17
p6d67:
  DB 9,7,68,68
  DB 68,68,68,68,68,68,68,68,68,4,68,4,64,0,68,68
  DB 68,68,64,64,68,64,68,68,68,68,68,68,4,68,64,0
  DB 68,68,68,68,64,64,68,68,64,68,68,68,68,4,68,4
  DB 64,0,68,68,68,68,68,68,68,68,68,68,68
p6da8:
  DB 9,7,34
  DB 34,34,34,34,34,34,34,34,34,2,34,2,34,2,32,0
  DB 34,34,32,32,34,34,2,32,32,34,34,34,2,34,34,2
  DB 32,32,34,34,32,32,34,34,2,32,32,34,34,2,34,2
  DB 34,2,32,0,34,34,34,34,34,34,34,34,34,34
p6de9:
  DB 3,5
  DB 15,0,15,0,0,240,0,15,0,0,240,0,15,0,15
p6dfa:
  DB 46,46,46,0
p6dfe:
  DB "NEW HIGH SCORE",0
p6eod:
  DB "GAME OVER",0
p6e17:
  DB 0
p6e18:
  DB "       ",0
p6e2o:
  DB " BONUS ",0
p6e28:
  DB "HIGH SCORES",0
p6e34:
  DB "  ",0
p6e37:
  DB "s",0
p6e39:
  DB "ENTER YOUR",0
p6e44:
  DB "INITIALS",0
p6e4d:
  DB "_ _ _",0
p6e53:
  DB " ",0,0
p6e56:
  DW 0

;    DW 0

p6e5a:
  DW 0
p6e5c:
  DW 0
p6e5e:
  DW 0
p6e6o:
  DW 0
p6e62:
  DW 0
p6e64:
  DW 0
p6e66:
  DW 0
p6e68:
  DW 0
p6e6a:
  DW 0
p6e6c:
  DW 0
p6e6e:
  DW 0
p6e7o:
  DW 0
p6e72:
  DW 0
p6e74:
  DW 0

;    DW 5 DUP (0)

p6e8o:
  DW 0
p6e82:
  DW 0
p6e84:
  DW 0
p6e86:
  DW 0
p6e88:
  DB 245,185,218,138,253,101,233,63
p6e9o:
  DB 64,72,22,48,129,91,229,63
p6e98:
  DB 55,110,49,63,55,52,238,63
p6eao:
  DB 27,39,133,121,143,243,240,63
  DB 2,5,0,0,0,0,0,0,0,0,0,0
p6eb4:
  DB 2,5,15,255,15,15,15,15,15,15,15,255
p6eco:
  DB 2,5,0,240,0,240,0,240,0,240,0,240
p6ecc:
  DB 2,5,15,255,0,15,15,255,15,0,15,255
p6ed8:
  DB 2,5,15,255,0,15,0,255,0,15,15,255
p6ee4:
  DB 2,5,15,0,15,15,15,255,0,15,0,15
p6efo:
  DB 2,5,15,255,15,0,15,255,0,15,15,255
p6efc:
  DB 2,5,15,255,15,0,15,255,15,15,15,255
p6fo8:
  DB 2,5,15,255,0,15,0,15,0,15,0,15
p6f14:
  DB 2,5,15,255,15,15,15,255,15,15,15,255
p6f2o:
  DB 2,5,15,255,15,15,15,255,0,15,0,15
p6f2c:
  DB 5,7
  DB 0,0,240,0,0
  DB 0,15,15,0,0
  DB 0,240,0,240,0
  DB 15,0,0,15,0
  DB 15,255,255,255,0
  DB 15,0,0,15,0
  DB 15,0,0,15,0
p6f51:
  DB 5,7,15,255,255,240,0,0,240,0
  DB 15,0,0,240,0,15,0,0,255,255,240,0,0,240,0,15
  DB 0,0,240,0,15,0,15,255,255,240,0
p6f76:
  DB 5,7,0,255,255
  DB 240,0,15,0,0,15,0,15,0,0,0,0,15,0,0,0
  DB 0,15,0,0,0,0,15,0,0,15,0,0,255,255,240,0
p6f9b:
  DB 5,7,15,255,255,240,0,0,240,0,15,0,0,240,0,15
  DB 0,0,240,0,15,0,0,240,0,15,0,0,240,0,15,0
  DB 15,255,255,240,0
p6fco:
  DB 5,7,15,255,255,255,0,15,0,0,0
  DB 0,15,0,0,0,0,15,255,255,0,0,15,0,0,0,0
  DB 15,0,0,0,0,15,255,255,255,0
p6fe5:
  DB 5,7,15,255,255,255
  DB 0,15,0,0,0,0,15,0,0,0,0,15,255,255,0,0
  DB 15,0,0,0,0,15,0,0,0,0,15,0,0,0,0
p7ooa:
  DB 5,7,0,255,255,240,0,15,0,0,15,0,15,0,0,0,0
  DB 15,0,0,0,0,15,0,15,255,0,15,0,0,15,0,0
  DB 255,255,240,0
p7o2f:
  DB 5,7,15,0,0,15,0,15,0,0,15,0
  DB 15,0,0,15,0,15,255,255,255,0,15,0,0,15,0,15
  DB 0,0,15,0,15,0,0,15,0
p7o54:
  DB 5,7,0,255,255,240,0
  DB 0,0,240,0,0,0,0,240,0,0,0,0,240,0,0,0
  DB 0,240,0,0,0,0,240,0,0,0,255,255,240,0
p7o79:
  DB 5,7
  DB 0,0,15,255,0,0,0,0,240,0,0,0,0,240,0,0
  DB 0,0,240,0,15,0,0,240,0,0,240,0,240,0,0,15
  DB 255,0,0
p7o9e:
  DB 5,7,15,0,0,240,0,15,0,240,0,0,15
  DB 240,0,0,0,15,15,0,0,0,15,0,240,0,0,15,0
  DB 15,0,0,15,0,0,240,0
p7oc3:
  DB 5,7,15,0,0,0,0,15
  DB 0,0,0,0,15,0,0,0,0,15,0,0,0,0,15,0
  DB 0,0,0,15,0,0,0,0,15,255,255,255,0
p7oe8:
  DB 5,7,15
  DB 0,0,15,0,15,240,0,255,0,15,15,15,15,0,15,0
  DB 240,15,0,15,0,0,15,0,15,0,0,15,0,15,0,0
  DB 15,0
p71od:
  DB 5,7,15,0,0,15,0,15,240,0,15,0,15,15
  DB 0,15,0,15,0,240,15,0,15,0,15,15,0,15,0,0
  DB 255,0,15,0,0,15,0
p7132:
  DB 5,7,0,255,255,240,0,15,0
  DB 0,15,0,15,0,0,15,0,15,0,0,15,0,15,0,0
  DB 15,0,15,0,0,15,0,0,255,255,240,0
p7157:
  DB 5,7,15,255
  DB 255,240,0,15,0,0,15,0,15,0,0,15,0,15,255,255
  DB 240,0,15,0,0,0,0,15,0,0,0,0,15,0,0,0
  DB 0
p717c:
  DB 5,7,0,255,255,240,0,15,0,0,15,0,15,0,0
  DB 15,0,15,0,0,15,0,15,0,15,15,0,15,0,0,255
  DB 0,0,255,255,240,0
p71a1:
  DB 5,7,15,255,255,240,0,15,0,0
  DB 15,0,15,0,0,15,0,15,255,255,240,0,15,0,15,0
  DB 0,15,0,0,240,0,15,0,0,15,0
p71c6:
  DB 5,7,0,255,255
  DB 240,0,15,0,0,15,0,15,0,0,0,0,0,255,255,240
  DB 0,0,0,0,15,0,15,0,0,15,0,0,255,255,240,0
p71eb:
  DB 5,7,15,255,255,255,0,0,0,240,0,0,0,0,240,0
  DB 0,0,0,240,0,0,0,0,240,0,0,0,0,240,0,0
  DB 0,0,240,0,0
p721o:
  DB 5,7,15,0,0,15,0,15,0,0,15
  DB 0,15,0,0,15,0,15,0,0,15,0,15,0,0,15,0
  DB 15,0,0,15,0,0,255,255,240,0
p7235:
  DB 5,7,15,0,0,15
  DB 0,15,0,0,15,0,15,0,0,15,0,15,0,0,15,0
  DB 0,240,0,240,0,0,15,15,0,0,0,0,240,0,0
p725a:
  DB 5,7,15,0,0,15,0,15,0,0,15,0,15,0,0,15,0
  DB 15,0,240,15,0,15,0,240,15,0,15,15,15,15,0,0
  DB 240,0,240,0
p727f:
  DB 5,7,15,0,0,15,0,0,240,0,240,0
  DB 0,15,15,0,0,0,0,240,0,0,0,15,15,0,0,0
  DB 240,0,240,0,15,0,0,15,0
p72a4:
  DB 5,7,15,0,0,15,0
  DB 0,240,0,240,0,0,15,15,0,0,0,0,240,0,0,0
  DB 0,240,0,0,0,0,240,0,0,0,0,240,0,0
p72c9:
  DB 5,7
  DB 15,255,255,255,0,0,0,0,240,0,0,0,15,0,0,0
  DB 0,240,0,0,0,15,0,0,0,0,240,0,0,0,15,255
  DB 255,255,0
p72ee:
  DB 5,7,0,0,0,0,0,0,0,0,0,0,0
  DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
  DB 0,0,0,0,0,0,0,0
p7313:
  DB 5,7,0,0,0,0,0,0
  DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
  DB 0,0,0,0,0,240,0,0,0,0,0,0,0
p7338:
  DB 5,7,0
  DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
  DB 0,0,0,0,0,0,0,0,0,255,255,240,0,0,0,0
  DB 0,0
p735d:
  DB 5,7,0,15,255,0,0,0,240,0,240,0,15,0
  DB 0,15,0,15,0,0,15,0,15,0,0,15,0,0,240,0
  DB 240,0,0,15,255,0,0
p7382:
  DB 5,7,0,0,240,0,0,0,15
  DB 240,0,0,0,240,240,0,0,0,0,240,0,0,0,0,240
  DB 0,0,0,0,240,0,0,0,255,255,240,0
p73a7:
  DB 5,7,0,255
  DB 255,240,0,15,0,0,15,0,0,0,0,15,0,0,0,15
  DB 240,0,0,15,240,0,0,0,240,0,0,0,15,255,255,255
  DB 0
p73cc:
  DB 5,7,15,255,255,255,0,0,0,0,240,0,0,0,15
  DB 0,0,0,0,255,240,0,0,0,0,15,0,15,0,0,15
  DB 0,0,255,255,240,0
p73f1:
  DB 5,7,0,0,15,240,0,0,0,240
  DB 240,0,0,15,0,240,0,0,240,0,240,0,15,255,255,255
  DB 0,0,0,0,240,0,0,0,0,240,0
p7416:
  DB 5,7,15,255,255
  DB 255,0,15,0,0,0,0,15,255,255,240,0,0,0,0,15
  DB 0,0,0,0,15,0,15,0,0,15,0,0,255,255,240,0
p743b:
  DB 5,7,0,0,15,0,0,0,0,240,0,0,0,15,0,0
  DB 0,0,240,255,240,0,15,0,0,15,0,15,0,0,15,0
  DB 0,255,255,240,0
p746o:
  DB 5,7,15,255,255,255,0,0,0,0,240
  DB 0,0,0,15,0,0,0,0,240,0,0,0,15,0,0,0
  DB 0,240,0,0,0,15,0,0,0,0
p7485:
  DB 5,7,0,255,255,240
  DB 0,15,0,0,15,0,15,0,0,15,0,0,255,255,240,0
  DB 15,0,0,15,0,15,0,0,15,0,0,255,255,240,0
p74aa:
  DB 5,7,0,255,255,240,0,15,0,0,15,0,15,0,0,15,0
  DB 0,255,255,240,0,0,0,15,0,0,0,0,240,0,0,0
  DB 15,0,0,0,0
p74do:
  DW 0
p74d2:
  DW 0
p74d4:
  DW 0
p74d6:
  DW 0
p74d8:
  DW 0
p74da:
  DB "  PRESS ANY KEY ",0
p74eb:
  DB "                ",0

;  p74fc:
;    DB "This program is copy protected",0
;  p751b:
;    DB 0

p751c:
  DB 0,32,32,32,32,32,32,32,32,32,40,40,40,40,40
  DB 32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32
  DB 32,32,72,16,16,16,16,16,16,16,16,16,16,16,16,16
  DB 16,16,132,132,132,132,132,132,132,132,132,132,16,16,16,16
  DB 16,16,16,129,129,129,129,129,129,1,1,1,1,1,1,1
  DB 1,1,1,1,1,1,1,1,1,1,1,1,1,16,16,16
  DB 16,0,16,130,130,130,130,130,130,2,2,2,2,2,2,2
  DB 2,2,2,2,2,2,2,2,2,2,2,2,2,16,16,16
  DB 16,32,32,32,32,32,32,32,32,32,32,40,40,40,40,40
  DB 32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32
  DB 32,32,72,16,16,16,16,16,16,16,16,16,16,16,16,16
  DB 16,16,132,132,132,132,132,132,132,132,132,132,16,16,16,16
  DB 16,16,16,129,129,129,129,129,129,1,1,1,1,1,1,1
  DB 1,1,1,1,1,1,1,1,1,1,1,1,1,16,16,16
  DB 16,0,16,130,130,130,130,130,130,2,2,2,2,2,2,2
  DB 2,2,2,2,2,2,2,2,2,2,2,2,2,16,16,16
  DB 16,32,0
p761e:
  DB "0123456789ABCDEF",0,0
p763o:
  DB 1738 DUP (0)
  DB 46
  DB 46,46,0,46,46,46,0,46,46,46,0,46,46,46,0,46
  DB 46,46,0,46,46,46,0,46,46,46,0,46,46,46,0,46
  DB 46,46,0,46,46,46,0,46,46,46,0,9,7,17,17,17
  DB 17,17,17,17,17,17,17,17,1,17,1,17,1,17,17,17
  DB 17,16,16,17,16,1,17,17,17,17,17,1,17,17,1,17
  DB 17,17,17,16,16,17,17,1,17,17,17,17,1,17,1,16
  DB 0,17,17,17,17,17,17,17,17,17,17,17,9,7,68,68
  DB 68,68,68,68,68,68,68,68,68,4,68,4,64,0,68,68
  DB 68,68,64,64,68,64,68,68,68,68,68,68,4,68,64,0
  DB 68,68,68,68,64,64,68,68,64,68,68,68,68,4,68,4
  DB 64,0,68,68,68,68,68,68,68,68,68,68,68,9,7,34
  DB 34,34,34,34,34,34,34,34,34,2,34,2,34,2,32,0
  DB 34,34,32,32,34,34,2,32,32,34,34,34,2,34,34,2
  DB 32,32,34,34,32,32,34,34,2,32,32,34,34,2,34,2
  DB 34,2,32,0,34,34,34,34,34,34,34,34,34,34,3,5
  DB 15,0,15,0,0,240,0,15,0,0,240,0,15,0,15,46
  DB 46,46,0,78,69,87,32,72,73,71,72,32,83,67,79,82
  DB 69,0,71,65,77,69,32,79,86,69,82,0,0,32,32,32
  DB 32,32,32,32,0,32,66,79,78,85,83,32,0,72,73,71
  DB 72,32,83,67,79,82,69,83,0,32,32,0,115,0,69,78
  DB 84,69,82,32,89,79,85,82,0,73,78,73,84,73,65,76
  DB 83,0,95,32,95,32,95,0,32,0,0,0,0,0,0,0
  DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
  DB 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
  DB 0,0,0,0,0,0,0,0,0,0,0,0,0,245,185,218
  DB 138,253,101,233,63,64,72,22,48,129,91,229,63,55,110,49
  DB 63,55,52,238,63,27,39,133,121,143,243,240,63,2,5,0
  DB 0,0,0,0,0,0,0,0,0,2,5,15,255,15,15,15
  DB 15,15,15,15,255,2,5,0,240,0,240,0,240,0,240,0
  DB 240,2,5,15,255,0,15,15,255,15,0,15,255,2,5,15
  DB 255,0,15,0,255,0,15,15,255,2,5,15,0,15,15,15
  DB 255,0,15,0,15,2,5,15,255,15,0,15,255,0,15,15
  DB 255,2,5,15,255,15,0,15,255,15,15,15,255,2,5,15
  DB 255,0,15,0,15,0,15,0,15,2,5,15,255,15,15,15
  DB 255,15,15,15,255,2,5,15,255,15,15,15,255,0,15,0
  DB 15,5,7,0,0,240,0,0,0,15,15,0,0,0,240,0
  DB 240,0,15,0,0,15,0,15,255,255,255,0,15,0,0,15
  DB 0,15,0,0,15,0,5,7,15,255,255,240,0,0,240,0
  DB 15,0,0,240,0,15,0,0,255,255,240,0,0,240,0,15
  DB 0,0,240,0,15,0,15,255,255,240,0,5,7,0,255,255
  DB 240,0,15,0,0,15,0,15,0,0,0,0,15,0,0,0
  DB 0,15,0,0,0,0,15,0,0,15,0,0,255,255,240,0
  DB 5,7,15,255,255,240,0,0,240,0,15,0,0,240,0,15
  DB 0,0,240,0,15,0,0,240,0,15,0,0,240,0,15,0
  DB 15,255,255,240,0,5,7,15,255,255,255,0,15,0,0,0
  DB 0,15,0,0,0,0,15,255,255,0,0,15,0,0,0,0
  DB 15,0,0,0,0,15,255,255,255,0,5,7,15,255,255,255
  DB 0,15,0,0,0,0,15,0,0,0,0,15,255,255,0,0
  DB 15,0,0,0,0,15,0,0,0,0,15,0,0,0,0,5
  DB 7,0,255,255,240,0,15,0,0,15,0,15,0,0,0,0
  DB 15,0,0,0,0,15,0,15,255,0,15,0,0,15,0,0
  DB 255,255,240,0,5,7,15,0,0,15,0,15,0,0,15,0
  DB 15,0,0,15,0,15,255,255,255,0,15,0,0,15,0,15
  DB 0,0,15,0,15,0,0,15,0,5,7,0,255,255,240,0
  DB 0,0,240,0,0,0,0,240,0,0,0,0,240,0,0,0
  DB 0,240,0,0,0,0,240,0,0,0,255,255,240,0,5,7
  DB 0,0,15,255,0,0,0,0,240,0,0,0,0,240,0,0
  DB 0,0,240,0,15,0,0,240,0,0,240,0,240,0,0,15
  DB 255,0,0,5,7,15,0,0,240,0,15,0,240,0,0,15
  DB 240,0,0,0,15,15,0,0,0,15,0,240,0,0,15,0
  DB 15,0,0,15,0,0,240,0,5,7,15,0,0,0,0,15
  DB 0,0,0,0,15,0,0,0,0,15,0,0,0,0,15,0
  DB 0,0,0,15,0,0,0,0,15,255,255,255,0,5,7,15
  DB 0,0,15,0,15,240,0,255,0,15,15,15,15,0,15,0
  DB 240,15,0,15,0,0,15,0,15,0,0,15,0,15,0,0
  DB 15,0,5,7,15,0,0,15,0,15,240,0,15,0,15,15
  DB 0,15,0,15,0,240,15,0,15,0,15,15,0,15,0,0
  DB 255,0,15,0,0,15,0,5,7,0,255,255,240,0,15,0
  DB 0,15,0,15,0,0,15,0,15,0,0,15,0,15,0,0
  DB 15,0,15,0,0,15,0,0,255,255,240,0,5,7,15,255
  DB 255,240,0,15,0,0,15,0,15,0,0,15,0,15,255,255
  DB 240,0,15,0,0,0,0,15,0,0,0,0,15,0,0,0
  DB 0,5,7,0,255,255,240,0,15,0,0,15,0,15,0,0
  DB 15,0,15,0,0,15,0,15,0,15,15,0,15,0,0,255
  DB 0,0,255,255,240

; End of data.asm.

_end:
